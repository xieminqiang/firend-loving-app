"use strict";const e=require("../../common/vendor.js"),i=require("../../common/assets.js"),t={__name:"PictureDisplay",props:{list:{type:Array,default:()=>[]},topicList:{type:Array,default:()=>[]}},emits:["playVideo"],setup(t,{emit:s}){const{proxy:o}=e.getCurrentInstance(),a=t,r=(i,t)=>{const s=a.list.filter((e=>!e.is_video));if(0===s.length)return void e.index.showToast({title:"没有可预览的图片",icon:"none",duration:1e3});const r=s.map((e=>e.path.startsWith("http")?e.path:o.$imgBaseUrl+e.path));let n=0;if(void 0!==t){const e=a.list[t];e&&!e.is_video&&(n=s.findIndex((i=>i.path===e.path)))}e.index.previewImage({urls:r,current:n,indicator:"number",loop:!0,show:!0,success:function(e){console.log("图片预览成功",e)},fail:function(e){console.error("图片预览失败",e)}})},n=i=>{e.index.navigateTo({url:"/subPackages/release/video-show",animationType:"zoom-fade-out",animationDuration:200,success(e){e.eventChannel.emit("videoUrl",{data:i})}})};return(s,l)=>e.e({a:1===a.list.length},1===a.list.length?e.e({b:t.list[0].is_video},t.list[0].is_video?{c:e.unref(o).$imgBaseUrl+t.list[0].path,d:e.o((i=>n(e.unref(o).$imgBaseUrl+t.list[0].path))),e:i._imports_0$16}:{},{f:!t.list[0].is_video},t.list[0].is_video?{}:{g:e.unref(o).$imgBaseUrl+t.list[0].path,h:e.o((i=>r((e.unref(o).$imgBaseUrl,t.list[0].path),0)))}):{},{i:2===a.list.length},2===a.list.length?{j:e.f(t.list,((t,s,a)=>e.e({a:t.is_video},t.is_video?{b:e.unref(o).$imgBaseUrl+t.path,c:e.o((i=>n(e.unref(o).$imgBaseUrl+t.path)),s),d:i._imports_0$16}:{},{e:!t.is_video},t.is_video?{}:{f:e.unref(o).$imgBaseUrl+t.path,g:e.o((i=>r((e.unref(o).$imgBaseUrl,t.path),s)),s)},{h:s})))}:{},{k:3===a.list.length},3===a.list.length?{l:e.f(t.list,((t,s,a)=>e.e({a:t.is_video},t.is_video?{b:e.unref(o).$imgBaseUrl+t.path,c:e.o((i=>n(e.unref(o).$imgBaseUrl+t.path)),s),d:i._imports_0$16}:{},{e:!t.is_video},t.is_video?{}:{f:e.unref(o).$imgBaseUrl+t.path,g:e.o((i=>r((e.unref(o).$imgBaseUrl,t.path),s)),s)},{h:s})))}:{},{m:4===a.list.length},4===a.list.length?{n:e.f(t.list,((t,s,a)=>e.e({a:t.is_video},t.is_video?{b:e.unref(o).$imgBaseUrl+t.path,c:e.o((i=>n(e.unref(o).$imgBaseUrl+t.path)),s),d:i._imports_0$16}:{},{e:!t.is_video},t.is_video?{}:{f:e.unref(o).$imgBaseUrl+t.path,g:e.o((i=>r((e.unref(o).$imgBaseUrl,t.path),s)),s)},{h:s})))}:{},{o:e.f(t.topicList,((i,t,s)=>({a:e.t(i.topic_desc),b:i})))})}};wx.createComponent(t);
