"use strict";function e(e,n=255){if(!e||"string"!=typeof e)return"";let t=e.trim();return t=t.replace(/[\u0000-\u001F\u007F-\u009F]/g,""),t=t.replace(/\s+/g," "),t.length>n&&(console.warn(`地址长度超过${n}字符，进行截断处理`),console.log("- 原始地址:",e),console.log("- 原始长度:",e.length),console.log("- 处理后地址:",t),console.log("- 处理后长度:",t.length),t=t.substring(0,n),console.log("- 截断后地址:",t),console.log("- 截断后长度:",t.length)),t}exports.analyzeAddress=function(n){if(!n||"string"!=typeof n)return{length:0,byteLength:0,hasHiddenChars:!1,charCodes:[],processed:""};const t=e(n),o=function(e){if(!e)return 0;let n=0;for(let t=0;t<e.length;t++){const o=e.charCodeAt(t);n+=o<=127?1:o<=2047?2:o<=65535?3:4}return n}(t),r=/[\u0000-\u001F\u007F-\u009F]/.test(n),s=Array.from(t).map((e=>e.charCodeAt(0)));return{original:n,originalLength:n.length,length:t.length,byteLength:o,hasHiddenChars:r,charCodes:s,processed:t}},exports.processAddress=e;
