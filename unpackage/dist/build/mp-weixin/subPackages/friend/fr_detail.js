"use strict";const e=require("../../common/vendor.js"),i=require("../../stores/user.js"),a={__name:"fr_detail",setup(a){const r=i.useUserStore(),c=e.ref({service_id:"",price_template_id:"",companion_id:"",level_order:"",nickname:"",service_name:"",service_image_url:"",price:0,unit:"小时",service_tags:[]});e.onMounted((()=>{const e=getCurrentPages(),i=e[e.length-1].options;i&&(c.value={service_id:i.service_id||"",price_template_id:i.price_template_id||"",companion_id:i.companion_id||"",level_order:i.level_order||"",nickname:i.nickname||"",service_name:decodeURIComponent(i.service_name||""),service_image_url:decodeURIComponent(i.service_image_url||""),price:parseFloat(i.price)||0,unit:i.unit||"小时",service_tags:i.service_tags?JSON.parse(decodeURIComponent(i.service_tags)):[]}),console.log("服务详情数据:",c.value)}));const n=()=>{console.log("图片加载失败")},s=()=>{r.token?(console.log("跳转到下单页面，服务信息:",c.value),e.index.navigateTo({url:`/subPackages/order/submit?service_id=${c.value.service_id}&price_template_id=${c.value.price_template_id||""}&companion_id=${c.value.companion_id||15}&level_order=${c.value.level_order||""}&nickname=${c.value.nickname||""}`})):e.index.showModal({title:"提示",content:"请先登录后再下单",confirmText:"去登录",cancelText:"取消",success:i=>{i.confirm&&e.index.navigateTo({url:"/subPackages/login/index"})}})};return(i,a)=>e.e({a:i.$imgBaseUrl+c.value.service_image_url,b:e.o(n),c:e.t(c.value.price||0),d:e.t(c.value.unit||"小时"),e:e.t(c.value.service_name),f:c.value.service_tags&&c.value.service_tags.length>0},c.value.service_tags&&c.value.service_tags.length>0?{g:e.f(c.value.service_tags,((i,a,r)=>({a:e.t(i),b:a})))}:{},{h:e.t(c.value.service_name),i:e.o(s)})}},r=e._export_sfc(a,[["__scopeId","data-v-498e2199"]]);wx.createPage(r);
