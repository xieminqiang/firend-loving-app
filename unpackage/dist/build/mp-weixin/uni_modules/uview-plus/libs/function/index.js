"use strict";const t=require("../../../../common/vendor.js"),e=require("./test.js"),r=require("../config/config.js");function n(t){if([null,void 0,NaN,!1].includes(t))return t;if("object"!=typeof t&&"function"!=typeof t)return t;const r=e.array(t)?[]:{};for(const e in t)t.hasOwnProperty(e)&&(r[e]="object"==typeof t[e]?n(t[e]):t[e]);return r}function o(t,e="both"){return t=String(t),"both"==e?t.replace(/^\s+|\s+$/g,""):"left"==e?t.replace(/^\s*/,""):"right"==e?t.replace(/(\s*$)/g,""):"all"==e?t.replace(/\s+/g,""):t}String.prototype.padStart||(String.prototype.padStart=function(t,e=" "){if("[object String]"!==Object.prototype.toString.call(e))throw new TypeError("fillString must be String");const r=this;if(r.length>=t)return String(r);const n=t-r.length;let o=Math.ceil(n/e.length);for(;o>>=1;)e+=e,1===o&&(e+=e);return e.slice(0,n)+r}),exports.$parent=function(t){let e=this.$parent;for(;e;){if(t=t.replace(/up-([a-zA-Z0-9-_]+)/g,"u-$1"),!e.$options||e.$options.name===t)return e;e=e.$parent}return!1},exports.addStyle=function(t,r="object"){if(e.empty(t)||"object"==typeof t&&"object"===r||"string"===r&&"string"==typeof t)return t;if("object"===r){const e=(t=o(t)).split(";"),r={};for(let t=0;t<e.length;t++)if(e[t]){const n=e[t].split(":");r[o(n[0])]=o(n[1])}return r}let n="";return"object"==typeof t&&t.forEach(((t,e)=>{const r=e.replace(/([A-Z])/g,"-$1").toLowerCase();n+=`${r}:${t};`})),o(n)},exports.addUnit=function(t="auto",n=""){return n||(n=r.config.unit||"px"),"rpx"==n&&e.number(String(t))&&(t*=2),t=String(t),e.number(t)?`${t}${n}`:t},exports.deepMerge=function t(e={},r={}){let o=n(e);if("object"!=typeof o||"object"!=typeof r)return!1;for(const n in r)r.hasOwnProperty(n)&&(n in o?null==r[n]||"object"!=typeof o[n]||"object"!=typeof r[n]?o[n]=r[n]:o[n].concat&&r[n].concat?o[n]=o[n].concat(r[n]):o[n]=t(o[n],r[n]):o[n]=r[n]);return o},exports.getWindowInfo=function(){let e={};return e=t.index.getWindowInfo(),e},exports.guid=function(t=32,e=!0,r=null){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(r=r||n.length,t)for(let c=0;c<t;c++)o[c]=n[0|Math.random()*r];else{let t;o[8]=o[13]=o[18]=o[23]="-",o[14]="4";for(let e=0;e<36;e++)o[e]||(t=0|16*Math.random(),o[e]=n[19==e?3&t|8:t])}return e?(o.shift(),`u${o.join("")}`):o.join("")},exports.os=function(){return t.index.getDeviceInfo().platform.toLowerCase()},exports.page=function(){const t=getCurrentPages();return`/${t[t.length-1].route||""}`},exports.queryParams=function(t={},e=!0,r="brackets"){const n=e?"?":"",o=[];-1==["indices","brackets","repeat","comma"].indexOf(r)&&(r="brackets");for(const c in t){const e=t[c];if(!(["",void 0,null].indexOf(e)>=0))if(e.constructor===Array)switch(r){case"indices":for(let r=0;r<e.length;r++)o.push(`${c}[${r}]=${e[r]}`);break;case"brackets":default:e.forEach((t=>{o.push(`${c}[]=${t}`)}));break;case"repeat":e.forEach((t=>{o.push(`${c}=${t}`)}));break;case"comma":let t="";e.forEach((e=>{t+=(t?",":"")+e})),o.push(`${c}=${t}`)}else o.push(`${c}=${e}`)}return o.length?n+o.join("&"):""},exports.range=function(t=0,e=0,r=0){return Math.max(t,Math.min(e,Number(r)))},exports.shallowMerge=function t(e,r={}){if("object"!=typeof e||"object"!=typeof r)return!1;for(const n in r)r.hasOwnProperty(n)&&(n in e?null==r[n]||"object"!=typeof e[n]||"object"!=typeof r[n]?e[n]=r[n]:e[n].concat&&r[n].concat?e[n]=e[n].concat(r[n]):e[n]=t(e[n],r[n]):e[n]=r[n]);return e},exports.sleep=function(t=30){return new Promise((e=>{setTimeout((()=>{e()}),t)}))};
