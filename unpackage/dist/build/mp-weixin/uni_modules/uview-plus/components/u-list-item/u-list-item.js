"use strict";const t=require("./props.js"),i=require("../../libs/mixin/mpMixin.js"),e=require("../../libs/mixin/mixin.js"),s=require("../../libs/function/index.js"),n=require("../../../../common/vendor.js"),r={name:"u-list-item",mixins:[i.mpMixin,e.mixin,t.props],data:()=>({rect:{},index:0,show:!0,sys:s.getWindowInfo()}),computed:{},inject:["uList"],watch:{"uList.innerScrollTop"(t){const i=this.uList.preLoadScreen,e=this.sys.windowHeight;t<=e*i?this.parent.updateOffsetFromChild(0):this.rect.top<=t-e*i&&this.parent.updateOffsetFromChild(this.rect.top)}},created(){this.parent={}},mounted(){this.init()},methods:{init(){this.updateParentData(),this.index=this.parent.children.indexOf(this),this.resize()},updateParentData(){this.getParentData("u-list")},resize(){this.queryRect(`u-list-item-${this.anchor}`).then((t=>{const i=this.parent.children[this.index-1];this.rect=t;const e=this.uList.preLoadScreen,s=this.sys.windowHeight;i&&(this.rect.top=i.rect.top+i.rect.height),t.top>=this.uList.innerScrollTop+(1+e)*s&&(this.show=!1)}))},queryRect(t){return new Promise((i=>{this.$uGetRect(`.${t}`).then((t=>{i(t)}))}))}}};const h=n._export_sfc(r,[["render",function(t,i,e,s,r,h){return{a:`u-list-item-${t.anchor}`,b:`u-list-item-${t.anchor}`,c:n.n(`u-list-item-${t.anchor}`)}}],["__scopeId","data-v-55822a69"]]);wx.createComponent(h);
