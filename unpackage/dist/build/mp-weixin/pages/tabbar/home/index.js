"use strict";const e=require("../../../common/vendor.js");Math||(s+a+n+r+o)();const o=()=>"../../../components/hm-tabbar/hm-tabbar.js",s=()=>"./components/home.js",a=()=>"./components/friends.js",n=()=>"./components/discover.js",r=()=>"./components/profile.js",c={__name:"index",setup(o,{expose:s}){const a=e.ref("home"),n=e.reactive(new Set(["home"])),r=e.ref(null),c=async o=>{n.add(o),a.value=o,console.log(`切换到 ${o} tab，已访问的tab:`,Array.from(n)),console.log("当前tab状态:",{currentTab:a.value,visitedTabs:Array.from(n),discoverVisited:n.has("discover")}),"discover"===o&&r.value&&(await e.nextTick$1(),r.value.showComponent())},t=async o=>{console.log("home页面收到登录成功事件:",o),"discover"===a.value&&r.value&&(await e.nextTick$1(),r.value.showComponent())};e.onMounted((()=>{console.log("页面挂载完成，当前tab:",a.value),console.log("已访问的tab:",Array.from(n)),e.index.$on("loginSuccess",t)})),e.onUnmounted((()=>{e.index.$off("loginSuccess",t)}));return s({refreshCurrentTab:()=>{console.log("手动刷新当前tab:",a.value)},getVisitedTabs:()=>Array.from(n),currentTab:a}),(o,s)=>e.e({a:n.has("home")},(n.has("home"),{}),{b:"home"===a.value,c:n.has("friends")},(n.has("friends"),{}),{d:"friends"===a.value,e:n.has("discover")},n.has("discover")?{f:e.sr(r,"2c0e1f4d-2",{k:"discoverComponentRef"})}:{},{g:"discover"===a.value,h:n.has("profile")},(n.has("profile"),{}),{i:"profile"===a.value,j:e.o(c),k:e.p({currentTab:a.value})})}},t=e._export_sfc(c,[["__scopeId","data-v-2c0e1f4d"]]);wx.createPage(t);
