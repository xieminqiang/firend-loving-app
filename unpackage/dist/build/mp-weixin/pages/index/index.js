"use strict";const e=require("../../common/vendor.js"),a=require("../../api/home.js"),t=require("../../stores/user.js"),o={__name:"index",setup(o){const r=t.useUserStore();return e.onShow((()=>{r.setSwitch(2);const t=e.index.getAccountInfoSync().miniProgram.envVersion;console.log("当前小程序版本号:",t),"release"==t||"develop"==t?(async()=>{try{const t=await a.getFirstSwitch();console.log("首页开关配置:",t.data),t.data&&0===t.data.code&&t.data.data&&(r.setSwitch(t.data.data.value),console.log("开关数据已保存到store:",t.data.data.value)),t.data&&0===t.data.code&&(1===t.data.data.value?e.index.reLaunch({url:"/pages/tabbar/home/index"}):e.index.reLaunch({url:"/pages/tabbar/page/page"}))}catch(t){console.error("获取首页开关配置失败:",t)}})():(r.setSwitch(2),e.index.reLaunch({url:"/pages/tabbar/page/page"}))})),e.onMounted((()=>{})),(e,a)=>({})}},r=e._export_sfc(o,[["__scopeId","data-v-0833cc1d"]]);wx.createPage(r);
