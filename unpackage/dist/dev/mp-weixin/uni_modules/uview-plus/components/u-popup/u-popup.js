"use strict";const a=require("./props.js"),m=require("../../libs/mixin/mpMixin.js"),d=require("../../libs/mixin/mixin.js"),i=require("../../libs/function/index.js"),o=require("../../../../common/vendor.js"),c={name:"u-popup",mixins:[m.mpMixin,d.mixin,a.props],data(){return{overlayDuration:this.duration+50}},watch:{show(e,t){if(e===!0){const r=this.$children;this.retryComputedComponentRect(r)}}},computed:{transitionStyle(){const e={zIndex:this.zIndex,position:"fixed",display:"flex"};if(e[this.mode]=0,this.mode==="left")return i.deepMerge(e,{bottom:0,top:0});if(this.mode==="right")return i.deepMerge(e,{bottom:0,top:0});if(this.mode==="top")return i.deepMerge(e,{left:0,right:0});if(this.mode==="bottom")return i.deepMerge(e,{left:0,right:0});if(this.mode==="center")return i.deepMerge(e,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0})},contentStyle(){const e={};if(i.getWindowInfo(),this.mode!=="center"&&(e.flex=1),this.bgColor&&(e.backgroundColor=this.bgColor),this.round){const t=i.addUnit(this.round);this.mode==="top"?(e.borderBottomLeftRadius=t,e.borderBottomRightRadius=t):this.mode==="bottom"?(e.borderTopLeftRadius=t,e.borderTopRightRadius=t):this.mode==="center"&&(e.borderRadius=t)}return i.deepMerge(e,i.addStyle(this.customStyle))},position(){if(this.mode==="center")return this.zoom?"fade-zoom":"fade";if(this.mode==="left")return"slide-left";if(this.mode==="right")return"slide-right";if(this.mode==="bottom")return"slide-up";if(this.mode==="top")return"slide-down"}},emits:["open","close","click","update:show"],methods:{overlayClick(){this.closeOnClickOverlay&&(this.$emit("update:show",!1),this.$emit("close"))},open(e){this.$emit("update:show",!0)},close(e){this.$emit("update:show",!1),this.$emit("close")},afterEnter(){this.$emit("open")},clickHandler(){this.mode==="center"&&this.overlayClick(),this.$emit("click")},retryComputedComponentRect(e){const t=["u-calendar-month","u-album","u-collapse-item","u-dropdown","u-index-item","u-index-list","u-line-progress","u-list-item","u-rate","u-read-more","u-row","u-row-notice","u-scroll-list","u-skeleton","u-slider","u-steps-item","u-sticky","u-subsection","u-swipe-action-item","u-tabbar","u-tabs","u-tooltip"];for(let r=0;r<e.length;r++){const n=e[r],l=n.$children;t.includes(n.$options.name)&&typeof(n==null?void 0:n.init)=="function"&&i.sleep(50).then(()=>{n.init()}),l.length&&this.retryComputedComponentRect(l)}}}};if(!Array){const e=o.resolveComponent("u-overlay"),t=o.resolveComponent("u-status-bar"),r=o.resolveComponent("u-icon"),n=o.resolveComponent("u-safe-bottom"),l=o.resolveComponent("u-transition");(e+t+r+n+l)()}const p=()=>"../u-overlay/u-overlay.js",h=()=>"../u-status-bar/u-status-bar.js",f=()=>"../u-icon/u-icon.js",_=()=>"../u-safe-bottom/u-safe-bottom.js",y=()=>"../u-transition/u-transition.js";Math||(p+h+f+_+y)();function b(e,t,r,n,l,s){return o.e({a:o.o((...u)=>s.open&&s.open(...u)),b:e.overlay},e.overlay?{c:o.o(s.overlayClick),d:o.p({show:e.show,zIndex:e.zIndex,duration:l.overlayDuration,customStyle:e.overlayStyle,opacity:e.overlayOpacity})}:{},{e:e.safeAreaInsetTop},e.safeAreaInsetTop?{}:{},{f:e.closeable},e.closeable?{g:o.p({name:"close",color:"#909399",size:"18",bold:!0}),h:o.o((...u)=>s.close&&s.close(...u)),i:o.n("u-popup__content__close--"+e.closeIconPos)}:{},{j:e.safeAreaInsetBottom},e.safeAreaInsetBottom?{}:{},{k:o.s(s.contentStyle),l:o.o((...u)=>e.noop&&e.noop(...u)),m:o.o((...u)=>e.noop&&e.noop(...u)),n:o.o(s.afterEnter),o:o.o(s.clickHandler),p:o.p({show:e.show,customStyle:s.transitionStyle,mode:s.position,duration:e.duration}),q:o.n(e.customClass),r:e.show==!1?"0px":"",s:e.show==!1?"0px":""})}const v=o._export_sfc(c,[["render",b],["__scopeId","data-v-05c24e9b"]]);wx.createComponent(v);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/uni_modules/uview-plus/components/u-popup/u-popup.js.map
