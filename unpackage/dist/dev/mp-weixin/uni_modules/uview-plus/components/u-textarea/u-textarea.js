"use strict";const u=require("./props.js"),h=require("../../libs/mixin/mpMixin.js"),d=require("../../libs/mixin/mixin.js"),i=require("../../libs/function/index.js"),n=require("../../../../common/vendor.js"),m={name:"u-textarea",mixins:[h.mpMixin,d.mixin,u.props],data(){return{innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e}},created(){},watch:{modelValue:{immediate:!0,handler(e,r){this.innerValue=e,this.firstChange=!1,this.changeFromInner=!1}}},computed:{fieldStyle(){let e={};return e.height=i.addUnit(this.height),this.autoHeight&&(e.height="auto",e.minHeight=i.addUnit(this.height)),e},textareaClass(){let e=[],{border:r,disabled:o}=this;return r==="surround"&&(e=e.concat(["u-border","u-textarea--radius"])),r==="bottom"&&(e=e.concat(["u-border-bottom","u-textarea--no-radius"])),o&&e.push("u-textarea--disabled"),e.join(" ")},textareaStyle(){const e={};return i.deepMerge(e,i.addStyle(this.customStyle))}},emits:["update:modelValue","linechange","focus","blur","change","confirm","keyboardheightchange"],methods:{addStyle:i.addStyle,addUnit:i.addUnit,setFormatter(e){this.innerFormatter=e},onFocus(e){this.$emit("focus",e)},onBlur(e){this.$emit("blur",e),i.formValidate(this,"blur")},onLinechange(e){this.$emit("linechange",e)},onInput(e){let{value:r=""}=e.detail||{};const s=(this.formatter||this.innerFormatter)(r);this.innerValue=r,this.$nextTick(()=>{this.innerValue=s,this.valueChange()})},valueChange(){const e=this.innerValue;this.$nextTick(()=>{this.$emit("update:modelValue",e),this.changeFromInner=!0,this.$emit("change",e),i.formValidate(this,"change")})},onConfirm(e){this.$emit("confirm",e)},onKeyboardheightchange(e){this.$emit("keyboardheightchange",e)}}};function c(e,r,o,s,l,t){return n.e({a:l.innerValue,b:n.s(t.fieldStyle),c:e.placeholder,d:t.addStyle(e.placeholderStyle,typeof e.placeholderStyle=="string"?"string":"object"),e:e.placeholderClass,f:e.disabled,g:e.focus,h:e.autoHeight,i:e.fixed,j:e.cursorSpacing,k:e.cursor,l:e.showConfirmBar,m:e.selectionStart,n:e.selectionEnd,o:e.adjustPosition,p:e.disableDefaultPadding,q:e.holdKeyboard,r:e.maxlength,s:e.confirmType,t:e.ignoreCompositionEvent,v:n.o((...a)=>t.onFocus&&t.onFocus(...a)),w:n.o((...a)=>t.onBlur&&t.onBlur(...a)),x:n.o((...a)=>t.onLinechange&&t.onLinechange(...a)),y:n.o((...a)=>t.onInput&&t.onInput(...a)),z:n.o((...a)=>t.onConfirm&&t.onConfirm(...a)),A:n.o((...a)=>t.onKeyboardheightchange&&t.onKeyboardheightchange(...a)),B:e.count},e.count?{C:n.t(l.innerValue.length),D:n.t(e.maxlength),E:e.disabled?"transparent":"#fff"}:{},{F:n.n(t.textareaClass),G:n.s(t.textareaStyle)})}const g=n._export_sfc(m,[["render",c],["__scopeId","data-v-b6c174a6"]]);wx.createComponent(g);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/uni_modules/uview-plus/components/u-textarea/u-textarea.js.map
