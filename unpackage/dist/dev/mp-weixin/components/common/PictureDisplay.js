"use strict";const e=require("../../common/vendor.js"),h=require("../../common/assets.js"),$={__name:"PictureDisplay",props:{list:{type:Array,default:()=>[]},topicList:{type:Array,default:()=>[]}},emits:["playVideo"],setup(r,{emit:g}){const{proxy:s}=e.getCurrentInstance(),o=r,d=g,u=(f,l)=>{const t=o.list.filter(i=>!i.is_video);if(t.length===0){e.index.showToast({title:"没有可预览的图片",icon:"none",duration:1e3});return}const n=t.map(i=>i.path.startsWith("http")?i.path:s.$imgBaseUrl+i.path);let a=0;if(l!==void 0){const i=o.list[l];i&&!i.is_video&&(a=t.findIndex(v=>v.path===i.path))}e.index.previewImage({urls:n,current:a,indicator:"number",loop:!0,show:!0,success:function(i){e.index.__f__("log","at components/common/PictureDisplay.vue:190","图片预览成功",i)},fail:function(i){e.index.__f__("error","at components/common/PictureDisplay.vue:193","图片预览失败",i)}})},c=f=>{try{e.index.__f__("log","at components/common/PictureDisplay.vue:201","尝试播放视频:",f),d("playVideo",f)}catch(l){e.index.__f__("error","at components/common/PictureDisplay.vue:205","视频播放失败:",l),e.index.showToast({title:"视频播放失败",icon:"none",duration:1e3})}};return(f,l)=>e.e({a:o.list.length===1},o.list.length===1?e.e({b:r.list[0].is_video},r.list[0].is_video?{c:e.unref(s).$imgBaseUrl+r.list[0].path,d:e.o(t=>c(e.unref(s).$imgBaseUrl+r.list[0].path)),e:h._imports_0$15}:{},{f:!r.list[0].is_video},r.list[0].is_video?{}:{g:e.unref(s).$imgBaseUrl+r.list[0].path,h:e.o(t=>u(e.unref(s).$imgBaseUrl+r.list[0].path,0))}):{},{i:o.list.length===2},o.list.length===2?{j:e.f(r.list,(t,n,a)=>e.e({a:t.is_video},t.is_video?{b:e.unref(s).$imgBaseUrl+t.path,c:e.o(i=>c(e.unref(s).$imgBaseUrl+t.path),n),d:h._imports_0$15}:{},{e:!t.is_video},t.is_video?{}:{f:e.unref(s).$imgBaseUrl+t.path,g:e.o(i=>u(e.unref(s).$imgBaseUrl+t.path,n),n)},{h:n}))}:{},{k:o.list.length===3},o.list.length===3?{l:e.f(r.list,(t,n,a)=>e.e({a:t.is_video},t.is_video?{b:e.unref(s).$imgBaseUrl+t.path,c:e.o(i=>c(e.unref(s).$imgBaseUrl+t.path),n),d:h._imports_0$15}:{},{e:!t.is_video},t.is_video?{}:{f:e.unref(s).$imgBaseUrl+t.path,g:e.o(i=>u(e.unref(s).$imgBaseUrl+t.path,n),n)},{h:n}))}:{},{m:o.list.length===4},o.list.length===4?{n:e.f(r.list,(t,n,a)=>e.e({a:t.is_video},t.is_video?{b:e.unref(s).$imgBaseUrl+t.path,c:e.o(i=>c(e.unref(s).$imgBaseUrl+t.path),n),d:h._imports_0$15}:{},{e:!t.is_video},t.is_video?{}:{f:e.unref(s).$imgBaseUrl+t.path,g:e.o(i=>u(e.unref(s).$imgBaseUrl+t.path,n),n)},{h:n}))}:{},{o:e.f(r.topicList,(t,n,a)=>({a:e.t(t.topic_desc),b:t}))})}};wx.createComponent($);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/common/PictureDisplay.js.map
