"use strict";const a=require("../../common/vendor.js"),o=require("../../api/home.js"),s=require("../../stores/user.js"),c={__name:"index",setup(d){const n=s.useUserStore(),r=async()=>{try{const e=await o.getFirstSwitch();a.index.__f__("log","at pages/index/index.vue:21","首页开关配置:",e.data),e.data&&e.data.code===0&&e.data.data&&(n.setSwitch(e.data.data.value),a.index.__f__("log","at pages/index/index.vue:29","开关数据已保存到store:",e.data.data.value)),e.data&&e.data.code===0&&(e.data.data.value===1?a.index.reLaunch({url:"/pages/tabbar/home/index"}):a.index.reLaunch({url:"/pages/tabbar/page/page"}))}catch(e){a.index.__f__("error","at pages/index/index.vue:49","获取首页开关配置失败:",e)}};return a.onShow(()=>{n.setSwitch(2);const t=a.index.getAccountInfoSync().miniProgram.envVersion;a.index.__f__("log","at pages/index/index.vue:68","当前小程序版本号:",t),t=="release"||t=="develop"?r():(n.setSwitch(2),a.index.reLaunch({url:"/pages/tabbar/page/page"}))}),a.onMounted(()=>{}),(e,t)=>({})}},i=a._export_sfc(c,[["__scopeId","data-v-1cf27b2a"]]);wx.createPage(i);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map
