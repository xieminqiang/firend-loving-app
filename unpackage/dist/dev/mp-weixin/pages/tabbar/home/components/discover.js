"use strict";const e=require("../../../../common/vendor.js"),g=require("../../../../stores/city.js");Math||(e.unref(p)+e.unref(b))();const p=()=>"./cpns/square-nav.js",b=()=>"./cpns/square-trends-item.js",i="https://sbx-server.oss-cn-shenzhen.aliyuncs.com/img/cum/squarebg.png",y={__name:"discover",emits:["playVideo"],setup(h,{emit:u}){const l=u,n=e.ref(!1),d=g.useCityStore(),a=e.ref(null),s=e.ref(!1);e.computed(()=>n.value?{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:"#ffffff"});const v=()=>new Promise(o=>{s.value=!0,e.index.getLocation({type:"gcj02",success:t=>{e.index.__f__("log","at pages/tabbar/home/components/discover.vue:104","获取位置成功:",t),a.value={latitude:t.latitude,longitude:t.longitude},s.value=!1,o({latitude:t.latitude,longitude:t.longitude})},fail:t=>{e.index.__f__("log","at pages/tabbar/home/components/discover.vue:116","获取位置失败:",t),a.value=null,s.value=!1,o(null)}})}),r=()=>{n.value=!1,e.index.getImageInfo({src:i,success:()=>{e.index.__f__("log","at pages/tabbar/home/components/discover.vue:135","背景图片加载成功"),n.value=!0},fail:o=>{e.index.__f__("error","at pages/tabbar/home/components/discover.vue:139","背景图片加载失败:",o)}})};e.ref([{name:"动态",value:1},{name:"喜欢的人",value:2}]),e.ref(0);const _=e.ref(!0),m=e.ref(1),c=e.ref(1);e.onShow(async()=>{r(),await v(),e.index.__f__("log","at pages/tabbar/home/components/discover.vue:189","discover组件显示，当前状态:",{isActive:_.value,listType:m.value,listTypeDesc:c.value,userLocation:a.value})}),e.onMounted(()=>{e.index.__f__("log","at pages/tabbar/home/components/discover.vue:199","discover组件挂载完成"),r()});const f=o=>{e.index.__f__("log","at pages/tabbar/home/components/discover.vue:233","播放视频3:",o),l("playVideo",o)};return(o,t)=>({a:e.o(f),b:e.p({listType:c.value,userLocation:a.value,cityStore:e.unref(d)})})}};wx.createComponent(y);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/pages/tabbar/home/components/discover.js.map
