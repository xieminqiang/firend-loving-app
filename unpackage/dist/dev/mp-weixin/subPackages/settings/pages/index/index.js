"use strict";const e=require("../../../../common/vendor.js"),a=require("../../../../common/assets.js"),v=require("../../../../stores/user.js"),f=require("../../../../stores/level.js"),m={__name:"index",setup(h){const o=v.useUserStore(),u=f.useLevelStore(),s=e.computed(()=>o.userInfo&&Object.keys(o.userInfo).length>0),t=e.computed(()=>o.userInfo||{}),c=n=>{e.index.__f__("log","at subPackages/settings/pages/index/index.vue:100","设置页面收到登录成功事件:",n)};e.onMounted(()=>{e.index.$on("loginSuccess",c)}),e.onUnmounted(()=>{e.index.$off("loginSuccess",c)}),e.onLoad(async()=>{var n,i;e.index.__f__("log","at subPackages/settings/pages/index/index.vue:115","设置页面载入"),e.index.__f__("log","at subPackages/settings/pages/index/index.vue:116","当前用户信息:",o.userInfo),e.index.__f__("log","at subPackages/settings/pages/index/index.vue:117","登录状态:",s.value),e.index.__f__("log","at subPackages/settings/pages/index/index.vue:118","用户昵称:",(n=t.value)==null?void 0:n.nickname),e.index.__f__("log","at subPackages/settings/pages/index/index.vue:119","用户头像:",(i=t.value)==null?void 0:i.avatar)});const r=()=>{if(!s.value){e.index.showModal({title:"提示",content:"请先登录后再设置头像",confirmText:"去登录",cancelText:"取消",success:n=>{n.confirm&&e.index.navigateTo({url:"/subPackages/login/index"})}});return}e.index.showToast({title:"头像设置功能开发中",icon:"none"})},l=()=>{if(!s.value){e.index.showModal({title:"提示",content:"请先登录后再设置昵称",confirmText:"去登录",cancelText:"取消",success:n=>{n.confirm&&e.index.navigateTo({url:"/subPackages/login/index"})}});return}e.index.showToast({title:"昵称设置功能开发中",icon:"none"})},d=()=>{e.index.showToast({title:"隐私政策页面开发中",icon:"none"})},_=()=>{e.index.showToast({title:"用户协议页面开发中",icon:"none"})},g=()=>{e.index.showToast({title:"关于我们页面开发中",icon:"none"})},x=()=>{e.index.showModal({title:"提示",content:"确认退出账号？",success:async function(n){n.confirm&&(o.clearUserInfo(),u.clearServiceLevels(),e.index.$emit("logoutSuccess"),e.index.showToast({title:"已退出登录",icon:"success"}),setTimeout(()=>{e.index.navigateBack({delta:1})},1e3))}})};return(n,i)=>e.e({a:s.value},s.value?e.e({b:t.value.avatar},t.value.avatar?{c:t.value.avatar}:{},{d:a._imports_0$5,e:e.o(r)}):{},{f:s.value},s.value?{g:e.t(t.value.nickname||"未设置昵称"),h:a._imports_0$5,i:e.o(l)}:{},{j:a._imports_0$5,k:e.o(d),l:a._imports_0$5,m:e.o(_),n:a._imports_0$5,o:e.o(g),p:s.value},s.value?{q:e.o(x)}:{})}},p=e._export_sfc(m,[["__scopeId","data-v-0dc70dea"]]);wx.createPage(p);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/subPackages/settings/pages/index/index.js.map
