"use strict";const e=require("../../../common/vendor.js"),t=require("../../../common/assets.js"),w=require("../../../stores/level.js");Math||P();const P=()=>"./VideoUploadModal.js",S={__name:"Profile",props:{applicationInfo:{type:Object,default:null}},setup(n){const c=n,s=w.useLevelStore(),r=e.ref(!1),l=e.computed(()=>{var a;return!((a=c.applicationInfo)!=null&&a.level_order)||!s.sortedServiceLevels.length?null:s.sortedServiceLevels.find(o=>o.level_order===c.applicationInfo.level_order)}),m=a=>a==="Y"?"status-success":"status-warning",h=a=>{if(!a&&a!==0)return"0.00";const o=Math.floor(a/100),i=a%100;return i===0?o+".00":i<10?o+".0"+i:o+"."+i},x=()=>{e.index.navigateTo({url:"/subPackages/partner/DataEdetion/index"})},_=()=>{e.index.navigateTo({url:"/subPackages/partner/level/index"})},d=a=>{var o;switch(a){case"balance":e.index.navigateTo({url:"/subPackages/balance/index"});break;case"orders":e.index.navigateTo({url:`/subPackages/partner/order/index?companion_id=${((o=c.applicationInfo)==null?void 0:o.id)||""}`});break;case"level":e.index.navigateTo({url:"/subPackages/partner/level/index"});break}},I=()=>{r.value=!0},$=()=>{r.value=!1},b=a=>{e.index.__f__("log","at subPackages/partner/components/Profile.vue:197","视频上传成功:",a),e.index.$emit("applicationStatusChanged",a)},k=async()=>{e.index.navigateTo({url:"/subPackages/release/index"})};e.onMounted(async()=>{await s.fetchServiceLevels(),e.index.$on("applicationStatusChanged",u)}),e.onUnmounted(()=>{e.index.$off("applicationStatusChanged",u)});const u=a=>{e.index.__f__("log","at subPackages/partner/components/Profile.vue:225","收到申请状态变化事件:",a),e.index.$emit("refreshApplicationInfo"),a.status==="updated"&&e.index.showToast({title:a.message||"资料更新成功",icon:"success",duration:2e3})};return(a,o)=>{var i,p,f,v;return e.e({a:n.applicationInfo&&n.applicationInfo.avatar},n.applicationInfo&&n.applicationInfo.avatar?{b:a.$imgBaseUrl+n.applicationInfo.avatar}:{},{c:e.t(((i=n.applicationInfo)==null?void 0:i.nickname)||"友伴用户"),d:l.value},l.value?{e:l.value.icon_url,f:e.t(l.value.level_name),g:e.t((l.value.commission_rate*100).toFixed(0)),h:e.o(_)}:{},{i:((p=n.applicationInfo)==null?void 0:p.growth_value)!==void 0},((f=n.applicationInfo)==null?void 0:f.growth_value)!==void 0?{j:e.t(n.applicationInfo.growth_value||0)}:{},{k:n.applicationInfo&&n.applicationInfo.can_accept_orders=="N"},n.applicationInfo&&n.applicationInfo.can_accept_orders=="N"?{l:e.t(n.applicationInfo.can_accept_orders_name||"--"),m:e.n(m(n.applicationInfo.can_accept_orders)),n:e.o(I)}:{},{o:t._imports_0$13,p:e.o(x),q:t._imports_1$8,r:e.t(h(((v=n.applicationInfo)==null?void 0:v.available_balance)||0)),s:t._imports_0$13,t:e.o(g=>d("balance")),v:t._imports_2$5,w:t._imports_0$13,x:e.o(g=>d("orders")),y:t._imports_3$6,z:t._imports_0$13,A:e.o(g=>d("level")),B:t._imports_4$4,C:e.o(k),D:e.o($),E:e.o(b),F:e.p({show:r.value,applicationInfo:n.applicationInfo})})}}},T=e._export_sfc(S,[["__scopeId","data-v-4724f316"]]);wx.createComponent(T);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/subPackages/partner/components/Profile.js.map
