"use strict";const e=require("../../../common/vendor.js"),i=require("../../../common/assets.js"),$=require("../../../stores/level.js");Math||k();const k=()=>"./VideoUploadModal.js",b={__name:"Profile",props:{applicationInfo:{type:Object,default:null}},setup(a){const c=a,l=$.useLevelStore(),s=e.ref(!1),o=e.computed(()=>{var n;return!((n=c.applicationInfo)!=null&&n.level_order)||!l.sortedServiceLevels.length?null:l.sortedServiceLevels.find(t=>t.level_order===c.applicationInfo.level_order)}),g=n=>n==="Y"?"status-success":"status-warning",m=()=>{e.index.navigateTo({url:"/subPackages/partner/DataEdetion/index"})},I=()=>{e.index.navigateTo({url:"/subPackages/partner/level/index"})},d=n=>{switch(n){case"withdraw":e.index.showToast({title:"提现功能开发中",icon:"none"});break;case"detail":e.index.showToast({title:"明细功能开发中",icon:"none"});break}},u=n=>{var t;switch(n){case"orders":e.index.navigateTo({url:`/subPackages/partner/order/index?companion_id=${((t=c.applicationInfo)==null?void 0:t.id)||""}`});break;case"level":e.index.navigateTo({url:"/subPackages/partner/level/index"});break}},x=()=>{s.value=!0},w=()=>{s.value=!1},_=n=>{e.index.__f__("log","at subPackages/partner/components/Profile.vue:173","视频上传成功:",n),e.index.$emit("applicationStatusChanged",n)};e.onMounted(async()=>{await l.fetchServiceLevels(),e.index.$on("applicationStatusChanged",p)}),e.onUnmounted(()=>{e.index.$off("applicationStatusChanged",p)});const p=n=>{e.index.__f__("log","at subPackages/partner/components/Profile.vue:194","收到申请状态变化事件:",n),e.index.$emit("refreshApplicationInfo"),n.status==="updated"&&e.index.showToast({title:n.message||"资料更新成功",icon:"success",duration:2e3})};return(n,t)=>{var v,f,h;return e.e({a:a.applicationInfo&&a.applicationInfo.avatar},a.applicationInfo&&a.applicationInfo.avatar?{b:a.applicationInfo.avatar}:{},{c:e.t(((v=a.applicationInfo)==null?void 0:v.nickname)||"友伴用户"),d:o.value},o.value?{e:o.value.icon_url,f:e.t(o.value.level_name),g:e.t((o.value.commission_rate*100).toFixed(0)),h:e.o(I)}:{},{i:((f=a.applicationInfo)==null?void 0:f.growth_value)!==void 0},((h=a.applicationInfo)==null?void 0:h.growth_value)!==void 0?{j:e.t(a.applicationInfo.growth_value||0)}:{},{k:a.applicationInfo&&a.applicationInfo.can_accept_orders=="N"},a.applicationInfo&&a.applicationInfo.can_accept_orders=="N"?{l:e.t(a.applicationInfo.can_accept_orders_name||"--"),m:e.n(g(a.applicationInfo.can_accept_orders)),n:e.o(x)}:{},{o:i._imports_0$1,p:e.o(m),q:e.o(r=>d("withdraw")),r:e.o(r=>d("detail")),s:i._imports_1$9,t:i._imports_0$1,v:e.o(r=>u("orders")),w:i._imports_2$7,x:i._imports_0$1,y:e.o(r=>u("level")),z:e.o(w),A:e.o(_),B:e.p({show:s.value,applicationInfo:a.applicationInfo})})}}},S=e._export_sfc(b,[["__scopeId","data-v-4724f316"]]);wx.createComponent(S);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/subPackages/partner/components/Profile.js.map
