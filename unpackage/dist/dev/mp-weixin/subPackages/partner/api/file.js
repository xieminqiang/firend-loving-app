"use strict";const r=require("../../../common/vendor.js");require("../../../config/http.js");const s=require("../../../config/config.js"),t=s.config.development.baseUrl,c=e=>new Promise((n,o)=>{r.index.__f__("log","at subPackages/partner/api/file.js:18","开始上传文件:",e),r.index.__f__("log","at subPackages/partner/api/file.js:20","开始上传文件:eeee",t+"/file/upload"),r.index.uploadFile({url:t+"/file/upload",filePath:e.filePath,name:"file",header:{Authorization:r.index.getStorageSync("token")||""},success:i=>{try{const a=JSON.parse(i.data);a.code===0?n(a):o(new Error(a.message||"上传失败"))}catch(a){r.index.__f__("error","at subPackages/partner/api/file.js:37","响应数据解析失败:",a,i.data),o(new Error("响应数据解析失败"))}},fail:i=>{r.index.__f__("error","at subPackages/partner/api/file.js:42","网络请求失败:",i),o(new Error("网络请求失败"))}})}),d=e=>e&&e.data?{objectKey:e.data.object_key,url:e.data.url,cover:e.data.cover,isVideo:e.data.is_video}:null;exports.getUploadResult=d;exports.uploadFile=c;
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/subPackages/partner/api/file.js.map
