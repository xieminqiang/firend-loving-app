"use strict";const e=require("../../../common/vendor.js"),t=require("../../../common/assets.js"),P=require("../../../stores/level.js");Math||w();const w=()=>"./VideoUploadModal.js",S={__name:"Profile",props:{applicationInfo:{type:Object,default:null}},setup(a){const l=a,r=P.useLevelStore(),d=e.ref(!1),c=e.computed(()=>{var n;return!((n=l.applicationInfo)!=null&&n.level_order)||!r.sortedServiceLevels.length?null:r.sortedServiceLevels.find(i=>i.level_order===l.applicationInfo.level_order)}),g=n=>n==="Y"?"status-success":"status-warning",I=n=>{if(!n&&n!==0)return"0.00";const i=Math.floor(n/100),o=n%100;return o===0?i+".00":o<10?i+".0"+o:i+"."+o},h=()=>{e.index.navigateTo({url:"/subPackages/fpart/DataEdetion/index"})},x=()=>{e.index.navigateTo({url:"/subPackages/fpart/level/index"})},s=n=>{var i,o;switch(n){case"balance":e.index.navigateTo({url:"/subPackages/balance/index"});break;case"orders":e.index.navigateTo({url:`/subPackages/fpart/order/index?companion_id=${((i=l.applicationInfo)==null?void 0:i.id)||""}`});break;case"publish":e.index.navigateTo({url:`/subPackages/fpart/components/dyn?companion_id=${((o=l.applicationInfo)==null?void 0:o.id)||""}`});break;case"level":e.index.navigateTo({url:"/subPackages/fpart/level/index"});break}},_=()=>{d.value=!0},$=()=>{d.value=!1},b=n=>{e.index.__f__("log","at subPackages/fpart/components/Profile.vue:203","视频上传成功:",n),e.index.$emit("applicationStatusChanged",n)},k=async()=>{e.index.navigateTo({url:"/subPackages/dt/index"})};e.onMounted(async()=>{await r.fetchServiceLevels(),e.index.$on("applicationStatusChanged",u)}),e.onUnmounted(()=>{e.index.$off("applicationStatusChanged",u)});const u=n=>{e.index.__f__("log","at subPackages/fpart/components/Profile.vue:231","收到申请状态变化事件:",n),e.index.$emit("refreshApplicationInfo"),n.status==="updated"&&e.index.showToast({title:n.message||"资料更新成功",icon:"success",duration:2e3})};return(n,i)=>{var o,f,v,m;return e.e({a:a.applicationInfo&&a.applicationInfo.avatar},a.applicationInfo&&a.applicationInfo.avatar?{b:n.$imgBaseUrl+a.applicationInfo.avatar}:{},{c:e.t(((o=a.applicationInfo)==null?void 0:o.nickname)||"友伴用户"),d:c.value},c.value?{e:c.value.icon_url,f:e.t(c.value.level_name),g:e.t((c.value.commission_rate*100).toFixed(0)),h:e.o(x)}:{},{i:((f=a.applicationInfo)==null?void 0:f.growth_value)!==void 0},((v=a.applicationInfo)==null?void 0:v.growth_value)!==void 0?{j:e.t(a.applicationInfo.growth_value||0)}:{},{k:a.applicationInfo&&a.applicationInfo.can_accept_orders=="N"},a.applicationInfo&&a.applicationInfo.can_accept_orders=="N"?{l:e.t(a.applicationInfo.can_accept_orders_name||"--"),m:e.n(g(a.applicationInfo.can_accept_orders)),n:e.o(_)}:{},{o:t._imports_0$12,p:e.o(h),q:t._imports_1$9,r:e.t(I(((m=a.applicationInfo)==null?void 0:m.available_balance)||0)),s:t._imports_0$12,t:e.o(p=>s("balance")),v:t._imports_2$6,w:t._imports_0$12,x:e.o(p=>s("orders")),y:t._imports_3$5,z:t._imports_0$12,A:e.o(p=>s("publish")),B:t._imports_4$2,C:t._imports_0$12,D:e.o(p=>s("level")),E:a.applicationInfo&&a.applicationInfo.can_accept_orders=="Y"},a.applicationInfo&&a.applicationInfo.can_accept_orders=="Y"?{F:t._imports_5$2,G:e.o(k)}:{},{H:e.o($),I:e.o(b),J:e.p({show:d.value,applicationInfo:a.applicationInfo})})}}},T=e._export_sfc(S,[["__scopeId","data-v-791229ad"]]);wx.createComponent(T);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/subPackages/fpart/components/Profile.js.map
