{"version":3,"file":"CityPicker.js","sources":["components/common/CityPicker.vue","/Users/xiaoqiang/Documents/friemd/firend-loving-app/components/common/CityPicker.vue?type=component"],"sourcesContent":["<template>\n  <view v-if=\"visible\" class=\"city-picker-overlay\" @click=\"handleOverlayClick\">\n    <view class=\"city-picker-container\" @click.stop>\n      <view class=\"city-picker-header\">\n        <text class=\"picker-title\">请选择服务区域</text>\n        <view class=\"picker-close\" @click=\"handleClose\">\n          <text>✕</text>\n        </view>\n      </view>\n      <view class=\"city-picker-content\">\n        <view class=\"city-grid\">\n          <view \n            v-for=\"(cityItem, index) in cityList\" \n            :key=\"index\"\n            :class=\"['city-item', { \n              active: currentCityIndex === index\n            }]\"\n            @click=\"handleCitySelect(index)\"\n          >\n            <text class=\"city-name\">{{ cityItem.name }}</text>\n            <view v-if=\"currentCityIndex === index\" class=\"city-check\">✓</view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useCityStore } from '@/stores/city.js'\n\n// 定义props\nconst props = defineProps({\n  visible: {\n    type: Boolean,\n    default: false\n  }\n})\n\n// 定义emits\nconst emit = defineEmits(['update:visible', 'city-selected'])\n\n// 获取全局城市store\nconst cityStore = useCityStore()\n\n// 计算属性\nconst cityList = computed(() => cityStore.cityList)\nconst currentCityIndex = computed(() => cityStore.cityIndex)\n\n// 方法\nconst handleOverlayClick = () => {\n  emit('update:visible', false)\n}\n\nconst handleClose = () => {\n  emit('update:visible', false)\n}\n\nconst handleCitySelect = (index) => {\n  cityStore.selectCity(index)\n  emit('city-selected', index)\n  emit('update:visible', false)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/styles/variables.scss\";\n\n/* 自定义城市选择弹窗 */\n.city-picker-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8rpx);\n  -webkit-backdrop-filter: blur(8rpx);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  animation: fadeIn 0.3s ease-out;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideUp {\n  from { \n    transform: translateY(100rpx);\n    opacity: 0;\n  }\n  to { \n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.city-picker-container {\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(247, 248, 250, 0.95) 100%);\n  backdrop-filter: blur(20rpx);\n  -webkit-backdrop-filter: blur(20rpx);\n  padding: 40rpx;\n  border-radius: 32rpx;\n  width: 85%;\n  max-width: 640rpx;\n  box-shadow: 0 20rpx 60rpx rgba(130, 160, 216, 0.2);\n  border: 1rpx solid rgba(130, 160, 216, 0.1);\n  animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: -50%;\n    right: -30%;\n    width: 200rpx;\n    height: 200rpx;\n    background: radial-gradient(circle, rgba(130, 160, 216, 0.08) 0%, transparent 70%);\n    border-radius: 50%;\n    z-index: 0;\n  }\n}\n\n.city-picker-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 40rpx;\n  position: relative;\n  z-index: 1;\n}\n\n.picker-title {\n  font-size: 30rpx;\n  font-weight: 400;\n  color: $text-color-primary;\n  position: relative;\n}\n\n.picker-close {\n  width: 56rpx;\n  height: 56rpx;\n  background: linear-gradient(135deg, rgba(130, 160, 216, 0.1) 0%, rgba(255, 255, 255, 0.8) 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28rpx;\n  color: $text-color-secondary;\n  font-weight: 600;\n  transition: all 0.3s;\n  border: 1rpx solid rgba(130, 160, 216, 0.15);\n  \n  &:active {\n    transform: scale(0.9);\n    background: linear-gradient(135deg, rgba(130, 160, 216, 0.15) 0%, rgba(255, 255, 255, 0.9) 100%);\n  }\n}\n\n.city-picker-content {\n  position: relative;\n  z-index: 1;\n}\n\n.city-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 20rpx;\n}\n\n.city-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 24rpx 20rpx;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(247, 248, 250, 0.6) 100%);\n  border: 2rpx solid rgba(130, 160, 216, 0.1);\n  border-radius: 24rpx;\n  position: relative;\n  overflow: hidden;\n}\n\n.city-item.active {\n  background: linear-gradient(135deg, rgba(130, 160, 216, 0.15) 0%, rgba(167, 188, 231, 0.1) 100%);\n  border-color: $primary-color;\n}\n\n.city-name {\n  flex: 1;\n  font-size: 26rpx;\n  color: $text-color-primary;\n  font-weight: 400;\n  letter-spacing: 1rpx;\n}\n\n.city-item.active .city-name {\n  color: $primary-color;\n  font-weight: 500;\n}\n\n.city-check {\n  width: 28rpx;\n  height: 28rpx;\n  background: linear-gradient(135deg, $primary-color 0%, $highlight-color 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18rpx;\n  color: white;\n  font-weight: 700;\n  box-shadow: 0 3rpx 10rpx rgba(130, 160, 216, 0.25);\n  animation: checkBounce 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n  margin-left: 16rpx;\n  flex-shrink: 0;\n}\n\n@keyframes checkBounce {\n  0% { transform: scale(0); }\n  50% { transform: scale(1.2); }\n  100% { transform: scale(1); }\n}\n</style> ","import Component from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/components/common/CityPicker.vue'\nwx.createComponent(Component)"],"names":["useCityStore","computed"],"mappings":";;;;;;;;;;;;;AAyCA,UAAM,OAAO;AAGb,UAAM,YAAYA,YAAAA,aAAc;AAGhC,UAAM,WAAWC,cAAQ,SAAC,MAAM,UAAU,QAAQ;AAClD,UAAM,mBAAmBA,cAAQ,SAAC,MAAM,UAAU,SAAS;AAG3D,UAAM,qBAAqB,MAAM;AAC/B,WAAK,kBAAkB,KAAK;AAAA,IAC9B;AAEA,UAAM,cAAc,MAAM;AACxB,WAAK,kBAAkB,KAAK;AAAA,IAC9B;AAEA,UAAM,mBAAmB,CAAC,UAAU;AAClC,gBAAU,WAAW,KAAK;AAC1B,WAAK,iBAAiB,KAAK;AAC3B,WAAK,kBAAkB,KAAK;AAAA,IAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;AC9DA,GAAG,gBAAgB,SAAS;"}