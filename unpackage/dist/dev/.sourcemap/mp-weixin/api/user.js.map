{"version":3,"file":"user.js","sources":["api/user.js"],"sourcesContent":["/**\n * 用户相关 API 接口\n */\nimport { http } from '@/config/http.js'\n\n/**\n * 微信授权登录\n * @param {Object} data - 登录数据\n * @param {string} data.code - 微信登录code\n * @param {string} data.encryptedData - 加密数据（可选）\n * @param {string} data.iv - 初始向量（可选）\n * @param {string} data.signature - 数据签名（可选）\n * @param {string} data.rawData - 原始数据（可选）\n * @returns {Promise} 返回登录结果\n */\nexport const wxLogin = (data) => {\n  return http({\n    url: '/user/wx',\n    method: 'POST',\n    data\n  })\n}\n\n/**\n * 获取用户信息\n * @returns {Promise} 返回用户信息\n */\nexport const getUserInfo = () => {\n  return http({\n    url: '/user/center/info',\n    method: 'GET'\n  })\n}\n\nexport const getApplicatioInfo = () => {\n  return http({\n    url: '/companion/application/my',\n    method: 'GET'\n  })\n}\n\n/**\n * 获取指定城市的服务列表\n * @param {Array} cityCodes - 城市代码列表\n * @returns {Promise} 返回服务列表\n */\nexport const getServicesByCities = (cityCodes) => {\n  const queryParams = cityCodes.map(code => `city_codes=${code}`).join('&')\n  return http({\n    url: `/companion/services/cities?${queryParams}`,\n    method: 'GET'\n  })\n}\n\n/**\n * 创建伴侣申请\n * @param {Object} data - 申请数据\n * @returns {Promise} 返回创建结果\n */\nexport const createCompanionApplication = (data) => {\n  return http({\n    url: '/companion/application',\n    method: 'POST',\n    data\n  })\n}\n\n/**\n * 更新友伴师上线/下线状态\n * @param {Object} data - 状态数据\n * @returns {Promise} 返回更新结果\n */\nexport const updateCompanionOnlineStatus = (data) => {\n  return http({\n    url: '/companion/online-status',\n    method: 'POST',\n    data\n  })\n}\n\n/**\n * 获取友伴师在线状态信息\n * @returns {Promise} 返回状态信息\n */\nexport const getCompanionOnlineStatus = () => {\n  return http({\n    url: '/companion/online-status',\n    method: 'GET'\n  })\n}\n\n/**\n * 更新用户信息\n * @param {Object} data - 用户信息数据\n * @returns {Promise} 返回更新结果\n */\nexport const updateUserInfo = (data) => {\n  return http({\n    url: '/user/update',\n    method: 'PUT',\n    data\n  })\n}\n\n/**\n * 用户退出登录\n * @returns {Promise} 返回退出结果\n */\nexport const logout = () => {\n  return http({\n    url: '/user/logout',\n    method: 'POST'\n  })\n}"],"names":["http"],"mappings":";;AAeY,MAAC,UAAU,CAAC,SAAS;AAC/B,SAAOA,iBAAK;AAAA,IACV,KAAK;AAAA,IACL,QAAQ;AAAA,IACR;AAAA,EACJ,CAAG;AACH;AAMY,MAAC,cAAc,MAAM;AAC/B,SAAOA,iBAAK;AAAA,IACV,KAAK;AAAA,IACL,QAAQ;AAAA,EACZ,CAAG;AACH;AAEY,MAAC,oBAAoB,MAAM;AACrC,SAAOA,iBAAK;AAAA,IACV,KAAK;AAAA,IACL,QAAQ;AAAA,EACZ,CAAG;AACH;AAOY,MAAC,sBAAsB,CAAC,cAAc;AAChD,QAAM,cAAc,UAAU,IAAI,UAAQ,cAAc,IAAI,EAAE,EAAE,KAAK,GAAG;AACxE,SAAOA,iBAAK;AAAA,IACV,KAAK,8BAA8B,WAAW;AAAA,IAC9C,QAAQ;AAAA,EACZ,CAAG;AACH;AAOY,MAAC,6BAA6B,CAAC,SAAS;AAClD,SAAOA,iBAAK;AAAA,IACV,KAAK;AAAA,IACL,QAAQ;AAAA,IACR;AAAA,EACJ,CAAG;AACH;;;;;;"}