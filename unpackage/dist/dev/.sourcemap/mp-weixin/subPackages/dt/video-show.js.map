{"version":3,"file":"video-show.js","sources":["subPackages/dt/video-show.vue","subPackages/dt/video-show.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"video-show\">\n\t\t<template v-if=\"videoUrl\">\n\t\t\t<video class=\"video\" id=\"myVideo\" :src=\"videoUrl\" autoplay :controls=\"true\" \n\t\t\t\t\t:show-center-play-btn=\"false\"\n\t\t\t\t\t:show-fullscreen-btn=\"false\"\n\t\t\t\t\t:show-progress=\"true\"\n\t\t\t\t\t:enable-progress-gesture=\"true\"\n\t\t\t\t\t:show-play-btn=\"false\"\n\t\t\t\t\t:show-loading=\"true\"\n\t\t\t\t@fullscreenchange=\"fullscreenchange\"\n\t\t\t\t></video>\n\t\t\t\n\t\t\t<!-- 关闭按钮 -->\n\t\t\t<view class=\"close-btn\" @click=\"closeVideo\">\n\t\t\t\t<image src=\"/static/find/close2.png\" mode=\"widthFix\" class=\"close-icon\"></image>\n\t\t\t</view>\n\t\t</template>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\tgetCurrentInstance\n\t} from 'vue'\n\timport {\n\t\tonLoad,\n\t} from '@dcloudio/uni-app'\n\n\tconst videoUrl = ref('')\n\n\t// $instance => this\n\tconst $instance = ref(getCurrentInstance().proxy)\n\n\tonLoad(() => {\n\t\tconst eventChannel = $instance.value.getOpenerEventChannel();\n\t\t// 监听videoUrl事件，获取上一页面通过eventChannel传送到当前页面的数据\n\t\teventChannel.on('videoUrl', function(data) {\n\t\t\t// console.log(data, 'videoUrl')\n\t\t\tvideoUrl.value = data.data\n\t\t})\n\t})\n\n\t// 关闭视频\n\tconst closeVideo = () => {\n\t\tvideoUrl.value = ''\n\t\tuni.navigateBack({\n\t\t\tdelta: 1\n\t\t})\n\t}\n\n\t// 处理视频点击事件\n\tconst handleVideoTap = () => {\n\t\t// 可以在这里添加暂停/播放逻辑\n\t\tconsole.log('视频被点击')\n\t}\n\n\t// 关闭全屏\n\t// const fullscreenchange = (e) => {\n\t// \tvideoUrl.value = ''\n\t// \tuni.navigateBack({\n\t// \t\tdelta: 1\n\t// \t})\n\t// }\n</script>\n\n<style lang=\"scss\">\n\t.video-show {\n\t\twidth: 100%;\n\t\theight: 100vh;\n\t\tbackground-color: #1a1a1a;\n\t\tposition: relative;\n\n\t\t.video {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\n\t\t.close-btn {\n\t\t\tposition: fixed;\n\t\t\ttop: 40rpx;\n\t\t\tleft: 10rpx;\n\t\t\twidth: 100rpx;\n\t\t\theight: 100rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tbackground: rgba(0, 0, 0, 0.6);\n\t\t\tborder-radius: 50%;\n\t\t\tz-index: 99999;\n\t\t\tpointer-events: auto;\n\t\t\tbackdrop-filter: blur(10px);\n\t\t\t-webkit-backdrop-filter: blur(10px);\n\n\t\t\t.close-icon {\n\t\t\t\twidth: 40rpx;\n\t\t\t\theight: 40rpx;\n\t\t\t\tfilter: brightness(0) invert(1);\n\t\t\t}\n\t\t}\n\t}\n</style>","import MiniProgramPage from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/subPackages/dt/video-show.vue'\nwx.createPage(MiniProgramPage)"],"names":["videoUrl","ref","$instance","getCurrentInstance","onLoad","data","closeVideo","uni","MiniProgramPage"],"mappings":"2HA8BC,MAAMA,EAAWC,EAAG,IAAC,EAAE,EAGjBC,EAAYD,EAAAA,IAAIE,EAAkB,mBAAA,EAAG,KAAK,EAEhDC,EAAAA,OAAO,IAAM,CACSF,EAAU,MAAM,sBAAqB,EAE7C,GAAG,WAAY,SAASG,EAAM,CAE1CL,EAAS,MAAQK,EAAK,IACzB,CAAG,CACH,CAAE,EAGD,MAAMC,EAAa,IAAM,CACxBN,EAAS,MAAQ,GACjBO,EAAAA,MAAI,aAAa,CAChB,MAAO,CACV,CAAG,CACD,6ICjDF,GAAG,WAAWC,CAAe"}