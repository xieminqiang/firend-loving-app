{"version":3,"file":"index.js","sources":["subPackages/partner/DataEdetion/index.vue","subPackages/partner/DataEdetion/index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"data-edition-container\">\n    <!-- 顶部状态栏适配 -->\n    <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n    \n    <!-- 顶部导航栏 -->\n    <view class=\"nav-bar\">\n      <view class=\"back-btn\" @click=\"goBack\">\n        <image src=\"@/static/icons/common/arrow-left.png\" class=\"back-icon\" mode=\"aspectFit\" />\n        <text class=\"back-text\">返回</text>\n      </view>\n      <text class=\"nav-title\">资料编辑</text>\n\n    </view>\n    \n    <!-- 主内容区域 -->\n    <view class=\"main-content\">\n      <scroll-view \n        class=\"scroll-container\" \n        scroll-y=\"true\"\n        refresher-enabled=\"true\"\n        :refresher-triggered=\"isRefreshing\"\n        @refresherrefresh=\"onRefresh\"\n        @refresherrestore=\"onRefreshRestore\"\n      >\n        <!-- 表单内容 -->\n        <view class=\"form-container\">\n          <!-- 个人信息卡片 -->\n          <view class=\"info-card modern-card\">\n            <view class=\"card-header\">\n              <view class=\"header-content\">\n                <view class=\"section-indicator\"></view>\n                <view class=\"header-text\">\n                  <text class=\"card-title\">个人信息</text>\n                  <text class=\"card-subtitle\">让大家更了解你</text>\n                </view>\n              </view>\n            </view>\n            \n            <view class=\"form-content\">\n              <!-- 昵称 -->\n              <view class=\"input-group\">\n                <text class=\"input-label\">昵称</text>\n                <view class=\"input-wrapper\">\n                  <input \n                    class=\"modern-input\" \n                    v-model=\"formData.nickname\" \n                    placeholder=\"给自己起个好听的昵称吧~\" \n                    placeholder-class=\"input-placeholder\"\n                  />\n                  <view class=\"input-icon\">✨</view>\n                </view>\n              </view>\n\n              <!-- 性别 -->\n              <view class=\"input-group\">\n                <text class=\"input-label\">性别</text>\n                <view class=\"gender-selector\">\n                  <view \n                    class=\"gender-chip\" \n                    :class=\"{ active: formData.gender === 'male' }\"\n                    @click=\"selectGender('male')\"\n                  >\n                    <image src=\"@/static/icons/friend/male.png\" class=\"gender-icon\" mode=\"aspectFit\" />\n                    <text class=\"chip-text\">男生</text>\n                  </view>\n                  <view \n                    class=\"gender-chip\" \n                    :class=\"{ active: formData.gender === 'female' }\"\n                    @click=\"selectGender('female')\"\n                  >\n                    <image src=\"@/static/icons/friend/female.png\" mode=\"aspectFit\" class=\"gender-icon\" />\n                    <text class=\"chip-text\">女生</text>\n                  </view>\n                </view>\n              </view>\n\n              <!-- 基本信息 - 水平布局 -->\n              <!-- 年龄 -->\n              <view class=\"input-group\">\n                <text class=\"input-label\">年龄</text>\n                <view class=\"input-wrapper\">\n                  <input \n                    class=\"modern-input\" \n                    v-model=\"formData.age\" \n                    type=\"number\"\n                    placeholder=\"请输入年龄 (18-65岁)\" \n                    placeholder-class=\"input-placeholder\"\n                  />\n                  <view class=\"input-icon\">🎂</view>\n                </view>\n              </view>\n\n              <!-- 身高 -->\n              <view class=\"input-group\">\n                <text class=\"input-label\">身高</text>\n                <view class=\"input-wrapper\">\n                  <input \n                    class=\"modern-input\" \n                    v-model=\"formData.height\" \n                    type=\"number\"\n                    placeholder=\"请输入身高 (单位:cm)\" \n                    placeholder-class=\"input-placeholder\"\n                  />\n                  <view class=\"input-icon\">📏</view>\n                </view>\n              </view>\n\n              <!-- 体重 -->\n              <view class=\"input-group\">\n                <text class=\"input-label\">体重</text>\n                <view class=\"input-wrapper\">\n                  <input \n                    class=\"modern-input\" \n                    v-model=\"formData.weight\" \n                    type=\"number\"\n                    placeholder=\"请输入体重 (单位:kg)\" \n                    placeholder-class=\"input-placeholder\"\n                  />\n                  <view class=\"input-icon\">⚖️</view>\n                </view>\n              </view>\n\n              <!-- 申请区域 -->\n              <view class=\"input-group\">\n                <text class=\"input-label\">申请区域</text>\n                <view class=\"input-wrapper\">\n                  <view class=\"city-input\" @click=\"showCitySelector\">\n                    <text class=\"city-display\" v-if=\"selectedCities.length === 0\">请选择服务区域</text>\n                    <text class=\"city-display\" v-else>已选{{ selectedCities.length }}个区域</text>\n                    <view class=\"input-icon city-icon\">📍</view>\n                  </view>\n                </view>\n              </view>\n              \n              <!-- 已选区域展示 -->\n              <view class=\"selected-cities\" v-if=\"selectedCities.length > 0\">\n                <view \n                  class=\"city-tag\" \n                  v-for=\"city in selectedCities\" \n                  :key=\"city\"\n                  @click=\"removeCityFromSelection(city)\"\n                >\n                  <text class=\"city-tag-text\">{{ city }}</text>\n                  <text class=\"city-tag-remove\">×</text>\n                </view>\n              </view>\n            </view>\n          </view>\n\n          <!-- 生活照片卡片 -->\n          <view class=\"photo-card modern-card\">\n            <view class=\"card-header\">\n              <view class=\"header-content\">\n                <view class=\"section-indicator\"></view>\n                <view class=\"header-text\">\n                  <text class=\"card-title\">生活照片</text>\n                  <text class=\"card-subtitle\">展示最真实美好的你 ✨</text>\n                </view>\n              </view>\n            </view>\n            \n            <view class=\"photo-gallery\">\n              <view \n                class=\"photo-item\" \n                v-for=\"(photo, index) in photos\" \n                :key=\"index\"\n                @click=\"previewPhoto(index)\"\n              >\n                <image :src=\"photo\" class=\"photo-img\" mode=\"aspectFill\" />\n                <view class=\"photo-overlay\">\n                  <view class=\"photo-remove\" @click.stop=\"deletePhoto(index)\">\n                    <text class=\"remove-text\">×</text>\n                  </view>\n                </view>\n              </view>\n              <view \n                class=\"photo-add\" \n                v-if=\"photos.length < 6\"\n                @click=\"addPhoto\"\n              >\n                <view class=\"add-content\">\n                  <view class=\"add-icon-circle\">\n                    <view class=\"add-plus\">+</view>\n                  </view>\n                  <text class=\"add-text\">添加照片</text>\n                </view>\n              </view>\n            </view>\n          </view>\n\n          <!-- 服务技能卡片 -->\n          <view class=\"skills-card modern-card\">\n            <view class=\"card-header\">\n              <view class=\"header-content\">\n                <view class=\"section-indicator\"></view>\n                <view class=\"header-text\">\n                  <text class=\"card-title\">服务技能</text>\n                  <text class=\"card-subtitle\">选择你最擅长的陪伴方式</text>\n                </view>\n              </view>\n            </view>\n            \n            <!-- 加载状态 -->\n            <view v-if=\"servicesLoading\" class=\"services-loading\">\n              <view class=\"loading-spinner\"></view>\n              <text class=\"loading-text\">加载服务技能中...</text>\n            </view>\n            \n            <!-- 无城市选择提示 -->\n            <view v-else-if=\"selectedCities.length === 0\" class=\"no-city-tip\">\n              <text class=\"tip-text\">请先选择服务区域，然后选择您提供的服务技能</text>\n            </view>\n            \n            <!-- 服务技能列表 -->\n            <view v-else-if=\"skillCategories.length > 0\" class=\"skills-wrapper\">\n              <view \n                v-for=\"category in skillCategories\" \n                :key=\"category.id\"\n                class=\"category-section\"\n              >\n                <!-- 分类标题 -->\n                <view class=\"category-header\">\n                  <text class=\"category-title\">{{ category.name }}</text>\n                </view>\n                \n                <!-- 该分类下的服务技能 -->\n                <view class=\"skills-container\">\n                  <view \n                    class=\"skill-item\"\n                    :class=\"{ selected: selectedSkills.includes(service.id) }\"\n                    v-for=\"service in category.services\"\n                    :key=\"service.id\"\n                    @click=\"toggleSkill(service)\"\n                  >\n                    <view class=\"skill-content\">\n                      <text class=\"skill-name\">{{ service.name }}</text>\n                    </view>\n                  </view>\n                </view>\n              </view>\n            </view>\n            \n            <!-- 暂无服务提示 -->\n            <view v-else class=\"no-services-tip\">\n              <text class=\"tip-text\">该区域暂无可申请的服务，请选择其他区域</text>\n            </view>\n          </view>\n\n          <!-- 个性标签卡片 -->\n          <view class=\"personality-card modern-card\">\n            <view class=\"card-header\">\n              <view class=\"header-content\">\n                <view class=\"section-indicator\"></view>\n                <view class=\"header-text\">\n                  <text class=\"card-title\">个性标签</text>\n                  <text class=\"card-subtitle\">展现你的独特魅力 ✨</text>\n                </view>\n              </view>\n            </view>\n            \n            <!-- 已选标签展示 -->\n            <view v-if=\"selectedTags.length > 0\" class=\"selected-tags\">\n              <view \n                class=\"tag-item\" \n                v-for=\"tag in selectedTags\" \n                :key=\"tag.id\"\n                @click=\"removeTag(tag)\"\n              >\n                <text class=\"tag-text\">{{ tag.tag_name }}</text>\n                <text class=\"tag-remove\">×</text>\n              </view>\n            </view>\n            \n            <!-- 添加标签按钮 -->\n            <view class=\"add-tags-section\">\n              <view \n                class=\"add-tags-btn\" \n                :class=\"{ disabled: selectedTags.length >= 5 }\"\n                @click=\"selectedTags.length < 5 ? showTagSelector() : null\"\n              >\n                <view class=\"add-icon\">+</view>\n                <text class=\"add-text\">添加个性标签</text>\n                <text class=\"tag-count\">({{ selectedTags.length }}/5)</text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <view style=\"height: 200rpx;\"></view>\n      </scroll-view>\n    </view>\n\n    <!-- 底部固定保存按钮 -->\n    <view class=\"bottom-save-section\">\n      <view class=\"save-button-container\">\n        <view \n          class=\"bottom-save-btn\" \n          :class=\"{ disabled: isSaving }\"\n          @click=\"saveChanges\"\n        >\n          <view class=\"save-btn-content\">\n            <view v-if=\"isSaving\" class=\"save-loading\">\n              <view class=\"loading-dots\">\n                <view class=\"dot\"></view>\n                <view class=\"dot\"></view>\n                <view class=\"dot\"></view>\n              </view>\n            </view>\n\n            <text class=\"save-btn-text\" v-if=\"!isSaving\">保存资料</text>\n            <text class=\"save-btn-text\" v-else>保存中...</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- 城市选择弹窗 -->\n    <view v-if=\"showCityPicker\" class=\"city-picker-overlay\" @click=\"hideCitySelector\">\n      <view class=\"city-picker-container\" @click.stop>\n        <view class=\"city-picker-header\">\n          <text class=\"picker-title\">选择服务区域</text>\n          <text class=\"picker-subtitle\">可选择多个服务区域</text>\n          <view class=\"picker-close\" @click=\"hideCitySelector\">\n            <text>✕</text>\n          </view>\n        </view>\n        <view class=\"city-picker-content\">\n          <!-- 加载状态 -->\n          <view v-if=\"cityLoading\" class=\"loading-container\">\n            <view class=\"loading-spinner\"></view>\n            <text class=\"loading-text\">加载服务区域列表中...</text>\n          </view>\n          \n          <!-- 城市列表 -->\n          <view v-else class=\"city-grid\">\n            <view \n              v-for=\"(cityItem, index) in cityList\" \n              :key=\"index\"\n              :class=\"['city-item', { \n                active: tempSelectedCities.includes(cityItem.name)\n              }]\"\n              @click=\"toggleCitySelection(cityItem.name)\"\n            >\n              <text class=\"city-name\">{{ cityItem.name }}</text>\n              <view v-if=\"tempSelectedCities.includes(cityItem.name)\" class=\"city-check\">✓</view>\n            </view>\n          </view>\n        </view>\n        <view class=\"picker-footer\">\n          <view class=\"selected-count\">已选择 {{ tempSelectedCities.length }} 个区域</view>\n          <view class=\"confirm-btn\" @click=\"confirmCitySelection\">\n            <text>确认选择</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- 个性标签选择器弹窗 -->\n    <view v-if=\"showTagPicker\" class=\"tag-picker-overlay\" @click=\"hideTagSelector\">\n      <view class=\"tag-picker-container\" @click.stop>\n        <view class=\"tag-picker-header\">\n          <text class=\"picker-title\">选择个性标签</text>\n          <text class=\"picker-subtitle\">展现你的独特魅力</text>\n          <view class=\"picker-close\" @click=\"hideTagSelector\">\n            <text>✕</text>\n          </view>\n        </view>\n        \n        <!-- 标签分类导航 -->\n        <view class=\"tag-nav\">\n          <view \n            v-for=\"navItem in tagNavItems\" \n            :key=\"navItem.type\"\n            :class=\"['nav-item', { active: currentTagType === navItem.type }]\"\n            @click=\"switchTagType(navItem.type)\"\n          >\n            <text class=\"nav-text\">{{ navItem.name }}</text>\n          </view>\n        </view>\n        \n        <view class=\"tag-picker-content\">\n          <!-- 标签数量提示 -->\n          <view v-if=\"!tagsLoading && tempSelectedTags.length >= 5\" class=\"max-tags-tip\">\n            <text class=\"max-tags-text\">已达到最大标签数量(5个)，请移除部分标签后继续选择</text>\n          </view>\n          \n          <!-- 加载状态 -->\n          <view v-if=\"tagsLoading\" class=\"loading-container\">\n            <view class=\"loading-spinner\"></view>\n            <text class=\"loading-text\">加载标签中...</text>\n          </view>\n          \n          <!-- 标签列表 -->\n          <view v-else class=\"tag-grid\">\n            <view \n              v-for=\"tag in currentTagList\" \n              :key=\"tag.id\"\n              :class=\"['tag-grid-item', { \n                selected: isTagSelected(tag.id)\n              }]\"\n              @click=\"toggleTagSelection(tag)\"\n            >\n              <text class=\"tag-grid-text\">{{ tag.tag_name }}</text>\n              <view v-if=\"isTagSelected(tag.id)\" class=\"tag-grid-check\">✓</view>\n            </view>\n          </view>\n          \n          <!-- 暂无标签提示 -->\n          <view v-if=\"!tagsLoading && currentTagList.length === 0\" class=\"no-tags-tip\">\n            <text class=\"tip-text\">暂无相关标签</text>\n          </view>\n        </view>\n        \n        <view class=\"picker-footer\">\n          <view class=\"selected-count\">已选择 {{ tempSelectedTags.length }}/5 个标签</view>\n          <view class=\"confirm-btn\" @click=\"confirmTagSelection\">\n            <text>确认选择</text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted } from 'vue'\nimport { getApplicatioInfo, updateCompanionApplication, getServicesByCities, getPersonalityTags } from '@/api/user.js'\nimport { getCityList } from '@/api/home.js'\nimport { uploadFile, getUploadResult } from '@/api/file.js'\nimport { useUserStore } from '@/stores/user.js'\n\n// 用户store\nconst userStore = useUserStore()\n\n// 状态栏高度\nconst statusBarHeight = ref(0)\n\n// 下拉刷新状态\nconst isRefreshing = ref(false)\n\n// 保存状态\nconst isSaving = ref(false)\n\n// 表单数据\nconst formData = reactive({\n  nickname: '',\n  gender: '',\n  age: '',\n  height: '',\n  weight: '',\n  city: '深圳市'  // 保留原有字段用于兼容\n})\n\n// 城市选择相关数据\nconst showCityPicker = ref(false)\nconst selectedCities = ref([]) // 已确认选择的城市\nconst tempSelectedCities = ref([]) // 临时选择状态（弹窗中的选择）\nconst cityList = ref([]) // 从API获取城市列表\nconst cityLoading = ref(false) // 城市加载状态\n\n// 照片数组 - 存储上传后的文件URL\nconst photos = ref([])\n\n// 服务技能相关数据\nconst serviceSkills = ref([]) // 从接口获取的服务列表\nconst selectedSkills = ref([]) // 选中的服务ID\nconst servicesLoading = ref(false) // 服务加载状态\n\n// 服务技能分组数据\nconst skillCategories = ref([]) // 按分类分组的服务技能\n\n// 个性标签相关数据\nconst selectedTags = ref([]) // 已选择的标签\nconst showTagPicker = ref(false) // 标签选择器显示状态\nconst tempSelectedTags = ref([]) // 临时选择的标签\nconst tagsLoading = ref(false) // 标签加载状态\nconst currentTagType = ref(4) // 当前标签类型：4=个性特质\nconst currentTagList = ref([]) // 当前标签类型的标签列表\n\n// 标签缓存 - 用于存储已加载的标签数据\nconst tagsCache = ref(new Map()) // Map<tagType, tagList>\nconst cacheExpireTime = 5 * 60 * 1000 // 缓存过期时间：5分钟\nconst cacheTimestamps = ref(new Map()) // Map<tagType, timestamp>\n\n// 标签分类导航\nconst tagNavItems = ref([\n  { type: 4, name: '个性特质' },\n  { type: 5, name: '我的爱好' },\n  { type: 6, name: '外貌风格' },\n  { type: 7, name: '专业技能' },\n  { type: 8, name: '热门推荐' }\n])\n\n  // 获取系统信息\nonMounted(async () => {\n  const info = uni.getSystemInfoSync()\n  statusBarHeight.value = info.statusBarHeight || 0\n  \n  // 加载初始数据\n  await loadInitialData()\n})\n\n// 加载初始数据\nconst loadInitialData = async () => {\n  try {\n    // 先加载城市列表，再加载申请数据（确保城市列表可用于服务区域回显）\n    await loadCityList()\n    await loadApplicationData()\n  } catch (error) {\n    console.error('加载初始数据失败:', error)\n    uni.showToast({\n      title: '加载数据失败，请重试',\n      icon: 'none'\n    })\n  }\n}\n\n  // 加载申请数据\n  const loadApplicationData = async () => {\n    try {\n      const response = await getApplicatioInfo()\n    \n    if (response.data && response.data.code === 0 && response.data.data) {\n      const applicationData = response.data.data\n      \n      // 填充表单数据\n      formData.nickname = applicationData.nickname || ''\n      formData.gender = applicationData.gender === '男' ? 'male' : 'female'\n      formData.age = applicationData.age ? String(applicationData.age) : ''\n      formData.height = applicationData.height ? String(applicationData.height) : ''\n      formData.weight = applicationData.weight ? String(applicationData.weight) : ''\n      \n      // 填充照片\n      photos.value = applicationData.photos || []\n      \n      // 填充服务区域\n      if (applicationData.service_areas && applicationData.service_areas.length > 0) {\n        console.log('开始处理服务区域回显:', {\n          service_areas: applicationData.service_areas,\n          cityList: cityList.value\n        })\n        \n        // 将城市代码转换为城市名称\n        const cityNames = applicationData.service_areas.map(cityCode => {\n          const city = cityList.value.find(c => c.code === Number(cityCode))\n          console.log(`查找城市代码 ${cityCode}:`, city)\n          return city ? city.name : null\n        }).filter(name => name !== null)\n        \n        selectedCities.value = cityNames\n        formData.city = cityNames[0] || '深圳市'\n        \n        console.log('服务区域回显完成:', {\n          service_areas: applicationData.service_areas,\n          cityNames: cityNames,\n          selectedCities: selectedCities.value\n        })\n      }\n      \n      // 填充服务技能\n      selectedSkills.value = applicationData.services || []\n      \n      // 填充个性标签\n      if (applicationData.tags && applicationData.tags.length > 0) {\n        // 这里需要根据标签名称获取完整的标签对象\n        // 暂时使用简单的标签对象\n        selectedTags.value = applicationData.tags.map(tagName => ({\n          id: Date.now() + Math.random(), // 临时ID\n          tag_name: tagName\n        }))\n      }\n      \n      // 加载服务技能列表\n      if (selectedCities.value.length > 0) {\n        await loadServicesByCity()\n      }\n      \n      console.log('申请数据加载成功:', applicationData)\n    } else {\n      console.warn('获取申请数据失败')\n    }\n  } catch (error) {\n    console.error('加载申请数据失败:', error)\n    uni.showToast({\n      title: '加载申请数据失败',\n      icon: 'none'\n    })\n  }\n}\n\n// 加载服务技能列表\nconst loadServicesByCity = async () => {\n  if (selectedCities.value.length === 0) {\n    serviceSkills.value = []\n    skillCategories.value = []\n    return\n  }\n  \n  servicesLoading.value = true\n  try {\n    // 获取城市代码列表\n    const cityCodes = selectedCities.value.map(cityName => {\n      const city = cityList.value.find(c => c.name === cityName)\n      return city ? city.code : null\n    }).filter(code => code !== null)\n    \n    if (cityCodes.length === 0) {\n      console.warn('未找到有效的城市代码')\n      serviceSkills.value = []\n      skillCategories.value = []\n      return\n    }\n    \n    const response = await getServicesByCities(cityCodes)\n    \n    if (response.data && response.data.code === 0 && response.data.data) {\n      serviceSkills.value = response.data.data\n      \n      // 按分类对服务技能进行分组\n      groupServicesByCategory()\n      \n      console.log('服务技能列表加载成功:', serviceSkills.value)\n      console.log('服务技能分组:', skillCategories.value)\n    } else {\n      console.warn('获取服务技能列表失败')\n      serviceSkills.value = []\n      skillCategories.value = []\n    }\n  } catch (error) {\n    console.error('获取服务技能列表失败:', error)\n    serviceSkills.value = []\n    skillCategories.value = []\n  } finally {\n    servicesLoading.value = false\n  }\n}\n\n// 按分类对服务技能进行分组\nconst groupServicesByCategory = () => {\n  const categoryMap = {}\n  \n  // 按分类分组\n  serviceSkills.value.forEach(service => {\n    const categoryId = service.category\n    const categoryName = service.category_name || '其他'\n    \n    if (!categoryMap[categoryId]) {\n      categoryMap[categoryId] = {\n        id: categoryId,\n        name: categoryName,\n        services: []\n      }\n    }\n    \n    categoryMap[categoryId].services.push(service)\n  })\n  \n  // 转换为数组并按分类ID排序\n  skillCategories.value = Object.values(categoryMap).sort((a, b) => a.id - b.id)\n}\n\n// 加载城市列表\nconst loadCityList = async () => {\n  cityLoading.value = true\n  try {\n    const response = await getCityList()\n    \n          if (response.data && response.data.code === 0 && response.data.data) {\n        // 转换API数据格式为组件需要的格式\n        cityList.value = response.data.data.map(city => ({\n          name: city.name,\n          code: city.city_code // 城市代码字段\n        }))\n        \n        console.log('资料编辑页面区域列表加载成功:', cityList.value)\n        console.log('城市列表数据结构:', response.data.data)\n      } else {\n        console.warn('获取区域列表失败')\n        cityList.value = []\n      }\n  } catch (error) {\n    console.error('获取区域列表失败:', error)\n    cityList.value = []\n  } finally {\n    cityLoading.value = false\n  }\n}\n\n// 选择性别\nconst selectGender = (gender) => {\n  formData.gender = gender\n}\n\n// 显示城市选择器\nconst showCitySelector = () => {\n  // 初始化临时选择状态为当前已选择的城市\n  tempSelectedCities.value = [...selectedCities.value]\n  showCityPicker.value = true\n}\n\n// 隐藏城市选择器（取消选择）\nconst hideCitySelector = () => {\n  // 重置临时选择状态\n  tempSelectedCities.value = []\n  showCityPicker.value = false\n}\n\n// 切换城市选择状态（临时状态）\nconst toggleCitySelection = (cityName) => {\n  const index = tempSelectedCities.value.indexOf(cityName)\n  \n  if (index > -1) {\n    // 如果已选中，则取消选择\n    tempSelectedCities.value.splice(index, 1)\n  } else {\n    // 如果未选中，直接添加\n    tempSelectedCities.value.push(cityName)\n  }\n  \n  // 提供触觉反馈\n  uni.vibrateShort({\n    type: 'light'\n  })\n}\n\n// 从选择中移除城市\nconst removeCityFromSelection = (cityName) => {\n  const index = selectedCities.value.indexOf(cityName)\n  if (index > -1) {\n    selectedCities.value.splice(index, 1)\n    \n    // 提供触觉反馈\n    uni.vibrateShort({\n      type: 'light'\n    })\n  }\n}\n\n// 确认城市选择\nconst confirmCitySelection = async () => {\n  if (tempSelectedCities.value.length === 0) {\n    uni.showToast({\n      title: '请至少选择一个服务区域',\n      icon: 'none'\n    })\n    return\n  }\n  \n  // 将临时选择应用到正式状态\n  selectedCities.value = [...tempSelectedCities.value]\n  \n  // 更新formData中的city字段（取第一个作为主要城市）\n  formData.city = selectedCities.value[0]\n  \n  // 关闭弹窗\n  showCityPicker.value = false\n  tempSelectedCities.value = []\n  \n  // 清空之前选择的技能和分类数据\n  selectedSkills.value = []\n  skillCategories.value = []\n  \n  // 加载对应城市的服务技能\n  await loadServicesByCity()\n}\n\n// 添加照片\nconst addPhoto = () => {\n  const maxCount = 6 - photos.value.length\n  if (maxCount <= 0) {\n    uni.showToast({\n      title: '最多只能上传6张照片',\n      icon: 'none'\n    })\n    return\n  }\n\n  uni.chooseImage({\n    count: maxCount,\n    sizeType: ['compressed'],\n    sourceType: ['album', 'camera'],\n    success: async (res) => {\n      // 显示上传进度\n      uni.showLoading({\n        title: '上传中...',\n        mask: true\n      })\n\n      try {\n        // 逐个上传文件\n        const uploadPromises = res.tempFilePaths.map(async (filePath, index) => {\n          try {\n            // 获取文件信息\n            const fileInfo = await getFileInfo(filePath)\n            console.log(\"fileInfo\", fileInfo)\n            console.log(\"filePath\", filePath)\n            if (!fileInfo || !fileInfo.extension) {\n              throw new Error('无法获取文件信息')\n            }\n            // 上传文件\n            const uploadResult = await uploadFile({\n              filePath: filePath,\n              name: `photo_${Date.now()}_${index}.${fileInfo.extension}`\n            })\n\n            // 解析上传结果\n            const fileData = getUploadResult(uploadResult)\n            if (!fileData || !fileData.url) {\n              throw new Error('上传结果解析失败')\n            }\n\n            // 返回上传后的URL\n            return \"https://sygx-server-bucket-admin.oss-cn-shanghai.aliyuncs.com\" + fileData.url\n          } catch (error) {\n            console.error(`第${index + 1}张照片上传失败:`, error)\n            throw error\n          }\n        })\n\n        // 等待所有文件上传完成\n        const uploadedUrls = await Promise.all(uploadPromises)\n        \n        // 将上传成功的URL添加到照片数组\n        photos.value.push(...uploadedUrls)\n        \n        uni.showToast({\n          title: `成功上传${uploadedUrls.length}张照片`,\n          icon: 'success'\n        })\n\n      } catch (error) {\n        console.error('照片上传失败:', error)\n        uni.showToast({\n          title: '照片上传失败，请重试',\n          icon: 'none'\n        })\n      } finally {\n        uni.hideLoading()\n      }\n    },\n    fail: (error) => {\n      console.error('选择照片失败:', error)\n      uni.showToast({\n        title: '选择照片失败',\n        icon: 'none'\n      })\n    }\n  })\n}\n\n// 获取文件信息\nconst getFileInfo = (filePath) => {\n  return new Promise((resolve, reject) => {\n    uni.getFileInfo({\n      filePath: filePath,\n      success: (res) => {\n        // 从文件路径中提取扩展名\n        const extension = filePath.split('.').pop().toLowerCase()\n        resolve({\n          size: res.size,\n          extension: extension\n        })\n      },\n      fail: (error) => {\n        console.error('获取文件信息失败:', error)\n        // 如果获取文件信息失败，使用默认扩展名\n        const extension = filePath.split('.').pop().toLowerCase() || 'jpg'\n        resolve({\n          size: 0,\n          extension: extension\n        })\n      }\n    })\n  })\n}\n\n// 预览照片\nconst previewPhoto = (index) => {\n  uni.previewImage({\n    urls: photos.value,\n    current: index\n  })\n}\n\n\n\n// 删除照片\nconst deletePhoto = (index) => {\n  photos.value.splice(index, 1)\n}\n\n// 切换技能选择\nconst toggleSkill = (service) => {\n  const serviceId = service.id\n  const index = selectedSkills.value.indexOf(serviceId)\n  \n  if (index > -1) {\n    selectedSkills.value.splice(index, 1)\n  } else {\n    selectedSkills.value.push(serviceId)\n  }\n  \n  // 提供触觉反馈\n  uni.vibrateShort({\n    type: 'light'\n  })\n}\n\n// 返回上一页\nconst goBack = () => {\n  uni.navigateBack({\n    delta: 1\n  })\n}\n\n// 下拉刷新处理\nconst onRefresh = async () => {\n  isRefreshing.value = true\n  try {\n    await loadInitialData()\n    uni.showToast({\n      title: '刷新成功',\n      icon: 'success',\n      duration: 1500\n    })\n  } catch (error) {\n    uni.showToast({\n      title: '刷新失败',\n      icon: 'none',\n      duration: 1500\n    })\n  } finally {\n    isRefreshing.value = false\n  }\n}\n\nconst onRefreshRestore = () => {\n  isRefreshing.value = false\n}\n\n// 保存更改\nconst saveChanges = async () => {\n  // 防重复提交\n  if (isSaving.value) {\n    return\n  }\n\n  // 表单验证\n  if (!formData.nickname.trim()) {\n    uni.showToast({ title: '请输入昵称', icon: 'none' })\n    return\n  }\n  \n  if (formData.nickname.length > 50) {\n    uni.showToast({ title: '昵称不能超过50个字符', icon: 'none' })\n    return\n  }\n  \n  if (!formData.gender) {\n    uni.showToast({ title: '请选择性别', icon: 'none' })\n    return\n  }\n  \n  const age = parseInt(formData.age)\n  const height = parseInt(formData.height)\n  const weight = parseInt(formData.weight)\n  \n  if (!age || age < 18 || age > 65) {\n    uni.showToast({ title: '年龄必须在18-65岁之间', icon: 'none' })\n    return\n  }\n  \n  if (!height || height < 100 || height > 250) {\n    uni.showToast({ title: '身高必须在100-250cm之间', icon: 'none' })\n    return\n  }\n  \n  if (!weight || weight < 30 || weight > 200) {\n    uni.showToast({ title: '请输入合理的体重', icon: 'none' })\n    return\n  }\n  \n  if (selectedCities.value.length === 0) {\n    uni.showToast({ title: '请至少选择一个服务区域', icon: 'none' })\n    return\n  }\n  \n  if (photos.value.length === 0) {\n    uni.showToast({ title: '请上传至少一张生活照', icon: 'none' })\n    return\n  }\n  \n  if (photos.value.length > 9) {\n    uni.showToast({ title: '最多只能上传9张照片', icon: 'none' })\n    return\n  }\n  \n  if (selectedSkills.value.length === 0) {\n    uni.showToast({ title: '请至少选择一项服务技能', icon: 'none' })\n    return\n  }\n  \n  // 执行保存\n  await doSave()\n}\n\n// 执行保存\nconst doSave = async () => {\n  isSaving.value = true\n  \n  try {\n    // 获取城市代码列表并转换为字符串数组\n    const serviceAreaCodes = selectedCities.value.map(cityName => {\n      const city = cityList.value.find(c => c.name === cityName)\n      return city ? String(city.code) : null // 转换为字符串\n    }).filter(code => code !== null)\n    \n    if (serviceAreaCodes.length === 0) {\n      uni.showToast({\n        title: '服务区域数据异常，请重新选择',\n        icon: 'none'\n      })\n      return\n    }\n    \n    // 构建符合接口要求的数据格式\n    const submitData = {\n      nickname: formData.nickname.trim(),\n      gender: formData.gender === 'male' ? '男' : '女',\n      age: parseInt(formData.age),\n      height: parseInt(formData.height),\n      weight: parseInt(formData.weight),\n      service_areas: serviceAreaCodes, // 服务区域代码字符串数组\n      services: selectedSkills.value, // 服务ID数组\n      can_accept_orders: 'N', // 不允许接单\n      photos: photos.value,\n      tags: selectedTags.value.map(tag => tag.tag_name), // 个性标签名称数组\n      phone: userStore.userInfo.phone || '' // 添加phone参数\n    }\n    \n    console.log('保存数据:', submitData)\n    \n    // 调用接口\n    const response = await updateCompanionApplication(submitData)\n    \n    console.log('接口响应:', response)\n    \n    // 判断接口是否成功 - 需要 response.data.code == 0\n    if (response && response.data && response.data.code === 0) {\n      // 保存成功\n      uni.showToast({\n        title: '保存成功',\n        icon: 'success',\n        duration: 2000\n      })\n      \n      // 发送事件通知个人中心页面刷新申请信息\n      uni.$emit('applicationStatusChanged', {\n        status: 'updated',\n        message: '资料更新成功'\n      })\n      \n      // 延迟返回上一页\n      setTimeout(() => {\n  uni.navigateBack()\n      }, 1500)\n    } else {\n      // 接口返回失败\n      const errorMsg = (response && response.data && response.data.message) || '保存失败，请稍后重试'\n      \n      uni.showModal({\n        title: '保存失败',\n        content: errorMsg,\n        showCancel: false,\n        confirmText: '我知道了'\n      })\n    }\n    \n  } catch (error) {\n    console.error('保存失败:', error)\n    \n    // 根据错误类型显示不同的提示信息\n    let errorMessage = '保存失败，请稍后重试'\n    \n    if (error && error.message) {\n      if (error.message.includes('网络')) {\n        errorMessage = '网络连接异常，请检查网络后重试'\n      } else if (error.message.includes('参数')) {\n        errorMessage = '保存信息有误，请检查后重试'\n      } else {\n        errorMessage = error.message\n      }\n    }\n    \n    uni.showModal({\n      title: '保存失败',\n      content: errorMessage,\n      showCancel: false,\n      confirmText: '我知道了'\n    })\n  } finally {\n    isSaving.value = false\n  }\n}\n\n// 个性标签相关方法\n// 显示标签选择器\nconst showTagSelector = () => {\n  // 初始化临时选择状态为当前已选择的标签\n  tempSelectedTags.value = [...selectedTags.value]\n  showTagPicker.value = true\n  // 加载默认标签类型（个性特质）的标签列表（会先检查缓存）\n  loadTagsByType(4)\n}\n\n// 隐藏标签选择器\nconst hideTagSelector = () => {\n  // 重置临时选择状态\n  tempSelectedTags.value = []\n  showTagPicker.value = false\n}\n\n// 切换标签类型\nconst switchTagType = (tagType) => {\n  currentTagType.value = tagType\n  // 切换分类时加载对应分类的标签数据（会先检查缓存）\n  loadTagsByType(tagType)\n}\n\n// 检查缓存是否有效\nconst isCacheValid = (tagType) => {\n  const timestamp = cacheTimestamps.value.get(tagType)\n  if (!timestamp) return false\n  \n  const now = Date.now()\n  return (now - timestamp) < cacheExpireTime\n}\n\n// 从缓存获取标签数据\nconst getTagsFromCache = (tagType) => {\n  return tagsCache.value.get(tagType) || []\n}\n\n// 将标签数据存入缓存\nconst setTagsToCache = (tagType, tagList) => {\n  tagsCache.value.set(tagType, tagList)\n  cacheTimestamps.value.set(tagType, Date.now())\n  console.log(`标签类型${tagType}已缓存，数据量: ${tagList.length}`)\n}\n\n// 清除指定类型的缓存\nconst clearTagCache = (tagType) => {\n  tagsCache.value.delete(tagType)\n  cacheTimestamps.value.delete(tagType)\n  console.log(`已清除标签类型${tagType}的缓存`)\n}\n\n// 清除所有标签缓存\nconst clearAllTagCache = () => {\n  tagsCache.value.clear()\n  cacheTimestamps.value.clear()\n  console.log('已清除所有标签缓存')\n}\n\n// 根据类型加载标签\nconst loadTagsByType = async (tagType, forceRefresh = false) => {\n  // 如果不是强制刷新，检查缓存是否有效\n  if (!forceRefresh && isCacheValid(tagType)) {\n    const cachedTags = getTagsFromCache(tagType)\n    if (cachedTags.length > 0) {\n      console.log(`使用缓存数据 - 标签类型${tagType}，数据量: ${cachedTags.length}`)\n      currentTagList.value = cachedTags\n      return\n    }\n  }\n  \n  tagsLoading.value = true\n  try {\n    console.log(`开始加载标签类型: ${tagType}`)\n    \n    // 所有分类都使用普通标签接口\n    const params = { \n      tag_type: tagType, \n      page: 1, \n      pageSize: 60 \n    }\n    console.log('请求参数:', params)\n    \n    const response = await getPersonalityTags(params)\n    console.log('API响应:', response)\n    \n    if (response.data && response.data.code === 0 && response.data.data) {\n      // 统一处理返回数据\n      const tagList = response.data.data.list || response.data.data\n      currentTagList.value = tagList\n      \n      // 将数据存入缓存\n      setTagsToCache(tagType, tagList)\n      \n      console.log(`标签类型${tagType}加载成功:`, tagList)\n    } else {\n      console.warn(`获取标签类型${tagType}失败，响应数据:`, response)\n      currentTagList.value = []\n    }\n  } catch (error) {\n    console.error(`获取标签类型${tagType}失败:`, error)\n    console.error('错误详情:', error.response || error)\n    currentTagList.value = []\n  } finally {\n    tagsLoading.value = false\n  }\n}\n\n// 检查标签是否已选中\nconst isTagSelected = (tagId) => {\n  return tempSelectedTags.value.some(tag => tag.id === tagId)\n}\n\n// 切换标签选择状态\nconst toggleTagSelection = (tag) => {\n  const index = tempSelectedTags.value.findIndex(t => t.id === tag.id)\n  \n  if (index > -1) {\n    // 如果已选中，则取消选择\n    tempSelectedTags.value.splice(index, 1)\n  } else {\n    // 如果未选中，检查是否超过限制\n    if (tempSelectedTags.value.length >= 5) {\n      uni.showToast({\n        title: '最多只能选择5个标签',\n        icon: 'none'\n      })\n      return\n    }\n    // 添加标签\n    tempSelectedTags.value.push(tag)\n  }\n  \n  // 提供触觉反馈\n  uni.vibrateShort({\n    type: 'light'\n  })\n}\n\n// 确认标签选择\nconst confirmTagSelection = () => {\n  // 将临时选择应用到正式状态\n  selectedTags.value = [...tempSelectedTags.value]\n  \n  // 关闭弹窗\n  showTagPicker.value = false\n  tempSelectedTags.value = []\n  \n  uni.showToast({\n    title: `已选择${selectedTags.value.length}个标签`,\n    icon: 'success'\n  })\n}\n\n// 移除标签\nconst removeTag = (tag) => {\n  const index = selectedTags.value.findIndex(t => t.id === tag.id)\n  if (index > -1) {\n    selectedTags.value.splice(index, 1)\n    \n    // 提供触觉反馈\n    uni.vibrateShort({\n      type: 'light'\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.data-edition-container {\n  height: 100vh;\n  background: linear-gradient(180deg, #f8f9fe 0%, #ffffff 100%);\n  display: flex;\n  flex-direction: column;\n}\n\n.status-bar {\n  background: #FFFFFF;\n}\n\n.nav-bar {\n  background: #FFFFFF;\n  height: 88rpx;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 32rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);\n}\n\n.back-btn {\n  display: flex;\n  align-items: center;\n  padding: 12rpx 16rpx;\n  border-radius: 20rpx;\n  background: rgba(0, 0, 0, 0.04);\n  transition: all 0.2s;\n}\n\n.back-btn:active {\n  background: rgba(0, 0, 0, 0.08);\n  transform: scale(0.96);\n}\n\n.back-icon {\n  width: 32rpx;\n  height: 32rpx;\n  opacity: 0.8;\n}\n\n.back-text {\n  font-size: 26rpx;\n  color: #1A1A1A;\n  font-weight: 500;\n  margin-left: 8rpx;\n}\n\n.nav-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #1A1A1A;\n  text-align: center;\n  flex: 1;\n}\n\n.save-btn {\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  border-radius: 24rpx;\n  padding: 12rpx 24rpx;\n  transition: all 0.3s ease;\n  box-shadow: 0 4rpx 12rpx rgba(115, 99, 255, 0.3);\n  \n  &:active:not(.disabled) {\n    transform: scale(0.95);\n    box-shadow: 0 2rpx 8rpx rgba(115, 99, 255, 0.4);\n  }\n  \n  &.disabled {\n    opacity: 0.6;\n    transform: none !important;\n    box-shadow: 0 2rpx 8rpx rgba(115, 99, 255, 0.2);\n  }\n}\n\n.save-text {\n  font-size: 26rpx;\n  color: #FFFFFF;\n  font-weight: 600;\n}\n\n.main-content {\n  flex: 1;\n  overflow: hidden;\n}\n\n.scroll-container {\n  width: 100%;\n  height: 100%;\n}\n\n.form-container {\n  padding: 24rpx 20rpx 200rpx;\n}\n\n/* 现代卡片样式 */\n.modern-card {\n  background: white;\n  border-radius: 18rpx;\n  margin-bottom: 20rpx;\n  box-shadow: 0 4rpx 18rpx rgba(115, 99, 255, 0.06);\n  border: 1rpx solid rgba(115, 99, 255, 0.08);\n  overflow: hidden;\n  position: relative;\n}\n\n.card-header {\n  padding: 26rpx 20rpx 20rpx;\n  display: flex;\n  align-items: flex-start;\n  position: relative;\n  \n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 20rpx;\n    right: 20rpx;\n    height: 1rpx;\n    background: linear-gradient(90deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 105, 222, 0.1) 100%);\n  }\n}\n\n.header-content {\n  display: flex;\n  align-items: center;\n}\n\n.section-indicator {\n  width: 6rpx;\n  height: 32rpx;\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  border-radius: 3rpx;\n  margin-right: 20rpx;\n  box-shadow: 0 2rpx 8rpx rgba(115, 99, 255, 0.3);\n  align-self: center;\n}\n\n.header-text {\n  flex: 1;\n}\n\n.card-title {\n  font-size: 28rpx;\n  font-weight: 500;\n  color: #1A1A1A;\n  margin-bottom: 6rpx;\n  letter-spacing: 0.3rpx;\n  line-height: 1.3;\n}\n\n.card-subtitle {\n  font-size: 22rpx;\n  color: #666666;\n  opacity: 0.8;\n  line-height: 1.4;\n  margin-left: 20rpx;\n}\n\n/* 表单内容 */\n.form-content {\n  padding: 20rpx 20rpx 20rpx;\n}\n\n.input-group {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20rpx;\n  gap: 20rpx;\n}\n\n.input-label {\n  font-size: 24rpx;\n  font-weight: 500;\n  color: #1A1A1A;\n  width: 110rpx;\n  flex-shrink: 0;\n  text-align: left;\n}\n\n.input-wrapper {\n  position: relative;\n  flex: 1;\n}\n\n.modern-input {\n  width: 100%;\n  height: 80rpx;\n  background: #f8f9fe;\n  border: 2rpx solid #e9ecf5;\n  border-radius: 14rpx;\n  padding: 0 20rpx;\n  font-size: 26rpx;\n  color: #1A1A1A;\n  transition: all 0.3s;\n}\n\n.modern-input:focus {\n  border-color: #7363FF;\n  background: rgba(115, 99, 255, 0.05);\n}\n\n/* 性别选择器 - 水平布局优化 */\n.gender-selector {\n  display: flex;\n  gap: 16rpx;\n  width: 100%;\n}\n\n.gender-chip {\n  flex: 1;\n  height: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #f8f9fe;\n  border: 2rpx solid #e9ecf5;\n  border-radius: 14rpx;\n  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n  \n  /* 添加微妙的渐变背景 */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(248, 249, 254, 0.8) 100%);\n    opacity: 0;\n    transition: opacity 0.3s;\n  }\n  \n  &.active {\n    border-color: #7363FF;\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 105, 222, 0.1) 100%);\n    transform: translateY(-2rpx);\n    box-shadow: 0 6rpx 20rpx rgba(115, 99, 255, 0.25);\n    \n    &::before {\n      opacity: 1;\n    }\n    \n    .gender-icon {\n      transform: scale(1.1);\n    }\n    \n    .chip-text {\n      color: #7363FF;\n      font-weight: 500;\n    }\n  }\n  \n  &:active {\n    transform: scale(0.98);\n  }\n}\n\n.gender-icon {\n  width: 32rpx;\n  height: 32rpx;\n  margin-right: 10rpx;\n  transition: transform 0.3s ease;\n  position: relative;\n  z-index: 2;\n}\n\n.chip-text {\n  font-size: 24rpx;\n  color: #1A1A1A;\n  font-weight: 400;\n  transition: all 0.3s ease;\n  position: relative;\n  z-index: 2;\n}\n\n/* 输入框图标 */\n.input-icon {\n  position: absolute;\n  top: 50%;\n  right: 24rpx;\n  transform: translateY(-50%);\n  font-size: 28rpx;\n  opacity: 0.7;\n  transition: all 0.3s ease;\n  z-index: 2;\n}\n\n.modern-input:focus + .input-icon {\n  opacity: 1;\n  transform: translateY(-50%) scale(1.1);\n}\n\n/* 城市选择器样式 */\n.city-input {\n  width: 100%;\n  height: 80rpx;\n  background: #f8f9fe;\n  border: 2rpx solid #e9ecf5;\n  border-radius: 14rpx;\n  padding: 0 20rpx;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  transition: all 0.3s;\n  position: relative;\n  \n  &:active {\n    transform: scale(0.98);\n    border-color: #7363FF;\n    background: rgba(115, 99, 255, 0.05);\n  }\n}\n\n.city-display {\n  font-size: 26rpx;\n  color: #1A1A1A;\n  font-weight: 400;\n  flex: 1;\n}\n\n.city-icon {\n  position: static !important;\n  transform: none !important;\n  font-size: 24rpx;\n  opacity: 0.8;\n}\n\n/* 照片画廊 */\n.photo-gallery {\n  padding: 20rpx;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 14rpx;\n}\n\n.photo-item {\n  position: relative;\n  aspect-ratio: 1;\n  border-radius: 20rpx;\n  overflow: hidden;\n  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.1);\n}\n\n.photo-img {\n  width: 100%;\n  height: 100%;\n}\n\n.photo-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0%, transparent 100%);\n  opacity: 1;\n  transition: opacity 0.3s;\n}\n\n.photo-item:active .photo-overlay {\n  opacity: 0.8;\n}\n\n.photo-remove {\n  position: absolute;\n  top: 12rpx;\n  right: 12rpx;\n  width: 40rpx;\n  height: 40rpx;\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.2);\n}\n\n.remove-text {\n  font-size: 24rpx;\n  color: #ff4757;\n  font-weight: bold;\n}\n\n.photo-add {\n  position: relative;\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #f8f9fe 0%, #ffffff 100%);\n  border: 3rpx dashed rgba(115, 99, 255, 0.3);\n  border-radius: 20rpx;\n  transition: all 0.3s;\n  overflow: hidden;\n}\n\n.photo-add:active {\n  transform: scale(0.95);\n  border-color: #7363FF;\n  background: rgba(115, 99, 255, 0.05);\n  \n  .add-icon-circle {\n    transform: scale(1.1);\n    box-shadow: 0 6rpx 20rpx rgba(115, 99, 255, 0.4);\n  }\n}\n\n.add-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: 2;\n}\n\n.add-icon-circle {\n  width: 60rpx;\n  height: 60rpx;\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 12rpx;\n  box-shadow: 0 4rpx 16rpx rgba(115, 99, 255, 0.3);\n  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n\n.add-plus {\n  font-size: 32rpx;\n  color: white;\n  font-weight: 300;\n  line-height: 1;\n}\n\n.add-text {\n  font-size: 24rpx;\n  color: #666666;\n  font-weight: 600;\n  letter-spacing: 0.5rpx;\n}\n\n/* 服务技能整体容器 */\n.skills-wrapper {\n  padding: 20rpx;\n}\n\n/* 分类区块 */\n.category-section {\n  margin-bottom: 32rpx;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n/* 分类标题 */\n.category-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 16rpx;\n  padding: 0 4rpx;\n}\n\n.category-title {\n  font-size: 26rpx;\n  font-weight: 500;\n  color: #1A1A1A;\n  flex: 1;\n}\n\n/* 技能容器 - 改为三列布局 */\n.skills-container {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 12rpx;\n}\n\n.skill-item {\n  position: relative;\n  padding: 20rpx 12rpx;\n  background: #f8f9fe;\n  border: 2rpx solid #e9ecf5;\n  border-radius: 14rpx;\n  overflow: hidden;\n  \n  &.selected {\n    border-color: #7363FF;\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 105, 222, 0.1) 100%);\n  }\n}\n\n.skill-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n\n.skill-name {\n  font-size: 22rpx;\n  color: #1A1A1A;\n  font-weight: 400;\n  line-height: 1.3;\n  text-align: center;\n  word-break: break-all;\n}\n\n/* 服务加载状态样式 */\n.services-loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 60rpx 40rpx;\n  text-align: center;\n}\n\n.no-city-tip, .no-services-tip {\n  padding: 60rpx 40rpx;\n  text-align: center;\n}\n\n.tip-text {\n  font-size: 24rpx;\n  color: #999999;\n  line-height: 1.5;\n}\n\n/* 个性标签卡片样式 */\n.personality-card {\n  margin-bottom: 20rpx;\n}\n\n.selected-tags {\n  padding: 20rpx;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12rpx;\n}\n\n.tag-item {\n  display: flex;\n  align-items: center;\n  background: linear-gradient(135deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 105, 222, 0.1) 100%);\n  border: 1rpx solid rgba(115, 99, 255, 0.2);\n  border-radius: 20rpx;\n  padding: 8rpx 16rpx;\n  transition: all 0.3s ease;\n  \n  &:active {\n    transform: scale(0.95);\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.15) 0%, rgba(255, 105, 222, 0.15) 100%);\n  }\n}\n\n.tag-text {\n  font-size: 22rpx;\n  color: #7363FF;\n  font-weight: 500;\n  margin-right: 8rpx;\n}\n\n.tag-remove {\n  font-size: 24rpx;\n  color: rgba(115, 99, 255, 0.6);\n  font-weight: 600;\n  width: 24rpx;\n  height: 24rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.8);\n  transition: all 0.3s ease;\n}\n\n.add-tags-section {\n  padding: 20rpx;\n}\n\n.add-tags-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #f8f9fe 0%, #ffffff 100%);\n  border: 3rpx dashed rgba(115, 99, 255, 0.3);\n  border-radius: 20rpx;\n  padding: 24rpx;\n  transition: all 0.3s;\n  \n  &:active:not(.disabled) {\n    transform: scale(0.95);\n    border-color: #7363FF;\n    background: rgba(115, 99, 255, 0.05);\n  }\n  \n  &.disabled {\n    opacity: 0.5;\n    border-color: rgba(115, 99, 255, 0.1);\n    background: rgba(248, 249, 254, 0.5);\n    cursor: not-allowed;\n    \n    .add-icon {\n      background: #cccccc;\n    }\n    \n    .add-text, .tag-count {\n      color: #999999;\n    }\n  }\n}\n\n.add-icon {\n  width: 40rpx;\n  height: 40rpx;\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 12rpx;\n  font-size: 24rpx;\n  color: white;\n  font-weight: 600;\n}\n\n.add-text {\n  font-size: 26rpx;\n  color: #666666;\n  font-weight: 500;\n}\n\n.tag-count {\n  font-size: 22rpx;\n  color: #999999;\n  margin-left: 8rpx;\n}\n\n/* 已选城市标签样式 */\n.selected-cities {\n  margin-top: 20rpx;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12rpx;\n  padding: 0 20rpx 0 0; /* 右侧留白保持对齐 */\n}\n\n.city-tag {\n  display: flex;\n  align-items: center;\n  background: linear-gradient(135deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 105, 222, 0.1) 100%);\n  border: 1rpx solid rgba(115, 99, 255, 0.2);\n  border-radius: 20rpx;\n  padding: 8rpx 16rpx;\n  transition: all 0.3s ease;\n  \n  &:active {\n    transform: scale(0.95);\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.15) 0%, rgba(255, 105, 222, 0.15) 100%);\n  }\n}\n\n.city-tag-text {\n  font-size: 22rpx;\n  color: #7363FF;\n  font-weight: 500;\n  margin-right: 8rpx;\n}\n\n.city-tag-remove {\n  font-size: 24rpx;\n  color: rgba(115, 99, 255, 0.6);\n  font-weight: 600;\n  width: 24rpx;\n  height: 24rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.8);\n  transition: all 0.3s ease;\n}\n\n/* 城市选择弹窗样式 */\n.city-picker-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8rpx);\n  -webkit-backdrop-filter: blur(8rpx);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  animation: fadeIn 0.3s ease-out;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideUp {\n  from { \n    transform: translateY(100rpx);\n    opacity: 0;\n  }\n  to { \n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.city-picker-container {\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(247, 248, 250, 0.95) 100%);\n  backdrop-filter: blur(20rpx);\n  -webkit-backdrop-filter: blur(20rpx);\n  padding: 32rpx;\n  border-radius: 32rpx;\n  width: 85%;\n  max-width: 640rpx;\n  max-height: 80vh;\n  box-shadow: 0 20rpx 60rpx rgba(115, 99, 255, 0.2);\n  border: 1rpx solid rgba(115, 99, 255, 0.1);\n  animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.city-picker-header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 32rpx;\n  position: relative;\n  padding-bottom: 24rpx;\n  border-bottom: 1rpx solid rgba(115, 99, 255, 0.1);\n}\n\n.picker-title {\n  font-size: 30rpx;\n  font-weight: 400;\n  color: #1A1A1A;\n  margin-bottom: 8rpx;\n}\n\n.picker-subtitle {\n  font-size: 22rpx;\n  color: #666666;\n  opacity: 0.8;\n  margin-bottom: 16rpx;\n}\n\n.picker-close {\n  position: absolute;\n  top: -8rpx;\n  right: 0;\n  width: 48rpx;\n  height: 48rpx;\n  background: linear-gradient(135deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 255, 255, 0.8) 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24rpx;\n  color: #666666;\n  font-weight: 600;\n  transition: all 0.3s;\n  border: 1rpx solid rgba(115, 99, 255, 0.15);\n  \n  &:active {\n    transform: scale(0.9);\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.15) 0%, rgba(255, 255, 255, 0.9) 100%);\n  }\n}\n\n.city-picker-content {\n  flex: 1;\n  overflow-y: auto;\n  margin-bottom: 24rpx;\n}\n\n/* 加载状态样式 */\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 80rpx 40rpx;\n  text-align: center;\n}\n\n.loading-spinner {\n  width: 60rpx;\n  height: 60rpx;\n  border: 6rpx solid rgba(115, 99, 255, 0.1);\n  border-top: 6rpx solid #7363FF;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 24rpx;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.loading-text {\n  font-size: 24rpx;\n  color: #666666;\n  font-weight: 500;\n}\n\n.city-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16rpx;\n}\n\n.city-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20rpx 16rpx;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(247, 248, 250, 0.6) 100%);\n  border: 1rpx solid rgba(115, 99, 255, 0.1);\n  border-radius: 20rpx;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  \n  &.active {\n    border-color: #7363FF;\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.15) 0%, rgba(255, 105, 222, 0.1) 100%);\n    \n    .city-name {\n      color: #7363FF;\n      font-weight: 500;\n    }\n  }\n  \n  &:active:not(.disabled) {\n    transform: scale(0.98);\n  }\n}\n\n.city-name {\n  flex: 1;\n  font-size: 26rpx;\n  color: #1A1A1A;\n  font-weight: 400;\n  letter-spacing: 0.5rpx;\n  transition: all 0.3s ease;\n}\n\n.city-check {\n  width: 24rpx;\n  height: 24rpx;\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16rpx;\n  color: white;\n  font-weight: 700;\n  box-shadow: 0 2rpx 8rpx rgba(115, 99, 255, 0.3);\n  animation: checkBounce 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n  margin-left: 12rpx;\n  flex-shrink: 0;\n}\n\n@keyframes checkBounce {\n  0% { transform: scale(0); }\n  50% { transform: scale(1.2); }\n  100% { transform: scale(1); }\n}\n\n.picker-footer {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 20rpx;\n  border-top: 1rpx solid rgba(115, 99, 255, 0.1);\n}\n\n.selected-count {\n  font-size: 24rpx;\n  color: #666666;\n  font-weight: 500;\n}\n\n.confirm-btn {\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  color: white;\n  border-radius: 24rpx;\n  padding: 12rpx 32rpx;\n  font-size: 24rpx;\n  font-weight: 600;\n  box-shadow: 0 6rpx 20rpx rgba(115, 99, 255, 0.3);\n  transition: all 0.3s ease;\n  \n  &:active {\n    transform: scale(0.95);\n    box-shadow: 0 4rpx 16rpx rgba(115, 99, 255, 0.4);\n  }\n}\n\n/* 个性标签选择器弹窗样式 */\n.tag-picker-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8rpx);\n  -webkit-backdrop-filter: blur(8rpx);\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n  z-index: 1000;\n  animation: fadeIn 0.3s ease-out;\n}\n\n.tag-picker-container {\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(247, 248, 250, 0.95) 100%);\n  backdrop-filter: blur(20rpx);\n  -webkit-backdrop-filter: blur(20rpx);\n  padding: 32rpx;\n  border-radius: 32rpx 32rpx 0 0;\n  width: 100%;\n  height: 75%;\n  box-shadow: 0 20rpx 60rpx rgba(115, 99, 255, 0.2);\n  border: 1rpx solid rgba(115, 99, 255, 0.1);\n  animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.tag-picker-header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 24rpx;\n  position: relative;\n  padding-bottom: 20rpx;\n  border-bottom: 1rpx solid rgba(115, 99, 255, 0.1);\n}\n\n/* 标签分类导航 */\n.tag-nav {\n  display: flex;\n  background: rgba(115, 99, 255, 0.05);\n  border-radius: 16rpx;\n  padding: 4rpx;\n  margin-bottom: 24rpx;\n  overflow-x: auto;\n}\n\n.nav-item {\n  flex: 1;\n  min-width: 120rpx;\n  padding: 12rpx 16rpx;\n  border-radius: 12rpx;\n  text-align: center;\n  white-space: nowrap;\n  \n  &.active {\n    background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n    box-shadow: 0 4rpx 12rpx rgba(115, 99, 255, 0.3);\n    \n    .nav-text {\n      color: white;\n      font-weight: 600;\n    }\n  }\n}\n\n.nav-text {\n  font-size: 24rpx;\n  color: #666666;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n.tag-picker-content {\n  flex: 1;\n  overflow-y: auto;\n  margin-bottom: 24rpx;\n  padding-bottom: env(safe-area-inset-bottom);\n}\n\n.tag-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 12rpx;\n}\n\n.tag-grid-item {\n  position: relative;\n  padding: 16rpx 12rpx;\n  background: #f8f9fe;\n  border: 2rpx solid #e9ecf5;\n  border-radius: 14rpx;\n  overflow: hidden;\n  min-height: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &.selected {\n    border-color: #7363FF;\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 105, 222, 0.1) 100%);\n  }\n}\n\n.tag-grid-text {\n  font-size: 22rpx;\n  color: #1A1A1A;\n  font-weight: 400;\n  line-height: 1.3;\n  text-align: center;\n  word-break: break-all;\n}\n\n.tag-grid-check {\n  position: absolute;\n  top: 8rpx;\n  right: 8rpx;\n  width: 28rpx;\n  height: 28rpx;\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16rpx;\n  color: white;\n  font-weight: 700;\n  box-shadow: 0 2rpx 8rpx rgba(115, 99, 255, 0.3);\n  animation: checkBounce 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n.no-tags-tip {\n  padding: 60rpx 40rpx;\n  text-align: center;\n}\n\n/* 最大标签数量提示样式 */\n.max-tags-tip {\n  padding: 20rpx 40rpx;\n  text-align: center;\n  background: rgba(255, 105, 222, 0.1);\n  border-radius: 12rpx;\n  margin: 20rpx;\n  border: 1rpx solid rgba(255, 105, 222, 0.2);\n}\n\n.max-tags-text {\n  font-size: 24rpx;\n  color: #FF69DE;\n  font-weight: 500;\n  line-height: 1.4;\n}\n\n.input-placeholder {\n  color: #999999;\n  font-size: 26rpx;\n}\n\n/* 底部固定保存按钮样式 */\n.bottom-save-section {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(247, 248, 250, 0.95) 100%);\n  backdrop-filter: blur(20rpx);\n  -webkit-backdrop-filter: blur(20rpx);\n  padding: 20rpx 32rpx calc(20rpx + env(safe-area-inset-bottom));\n  border-top: 1rpx solid rgba(115, 99, 255, 0.1);\n  box-shadow: 0 -4rpx 20rpx rgba(115, 99, 255, 0.1);\n  z-index: 100;\n}\n\n.save-button-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.bottom-save-btn {\n  width: 100%;\n  max-width: 600rpx;\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  border-radius: 24rpx;\n  padding: 20rpx 32rpx;\n  transition: all 0.3s ease;\n  box-shadow: 0 4rpx 12rpx rgba(115, 99, 255, 0.3);\n  \n  &:active:not(.disabled) {\n    transform: scale(0.95);\n    box-shadow: 0 2rpx 8rpx rgba(115, 99, 255, 0.4);\n  }\n  \n  &.disabled {\n    opacity: 0.6;\n    transform: none !important;\n    box-shadow: 0 2rpx 8rpx rgba(115, 99, 255, 0.2);\n  }\n}\n\n.save-btn-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.save-loading {\n  width: 40rpx;\n  height: 40rpx;\n  margin-right: 12rpx;\n  border: 4rpx solid rgba(255, 255, 255, 0.3);\n  border-top: 4rpx solid rgba(255, 255, 255, 0.6);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n.save-icon {\n  width: 32rpx;\n  height: 32rpx;\n  margin-right: 12rpx;\n  font-size: 20rpx;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.save-btn-text {\n  font-size: 28rpx;\n  color: #FFFFFF;\n  font-weight: 600;\n  letter-spacing: 0.5rpx;\n}\n\n.loading-dots {\n  display: flex;\n  justify-content: space-between;\n  width: 40rpx;\n  height: 12rpx;\n}\n\n.dot {\n  width: 8rpx;\n  height: 8rpx;\n  background: white;\n  border-radius: 50%;\n  animation: blink 1s linear infinite;\n}\n\n@keyframes blink {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n}\n</style> ","import MiniProgramPage from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/subPackages/partner/DataEdetion/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","reactive","onMounted","uni","getApplicatioInfo","getServicesByCities","getCityList","uploadFile","getUploadResult","updateCompanionApplication","getPersonalityTags"],"mappings":"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"}