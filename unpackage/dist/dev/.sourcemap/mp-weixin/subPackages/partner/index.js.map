{"version":3,"file":"index.js","sources":["subPackages/partner/index.vue","subPackages/partner/index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"partner-container\">\n    <!-- 顶部状态栏适配 -->\n    <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n    \n    <!-- 顶部导航栏 -->\n    <view class=\"nav-bar\">\n      <view class=\"back-btn\" @click=\"goBack\">\n        <image src=\"@/static/icons/common/arrow-left.png\" class=\"back-icon\" mode=\"aspectFit\" />\n        <text class=\"back-text\">返回</text>\n      </view>\n      <text class=\"nav-title\">友伴端</text>\n      <view class=\"nav-placeholder\"></view>\n    </view>\n    \n    <!-- 主内容区域 -->\n    <view class=\"main-content\">\n      <!-- 页面内容 -->\n      <swiper\n        class=\"content-swiper\"\n        :current=\"currentTabIndex\"\n        @change=\"onSwiperChange\"\n        :indicator-dots=\"false\"\n        :circular=\"false\"\n        :autoplay=\"false\"\n        :duration=\"300\"\n      >\n        <!-- 工作台页面 -->\n        <swiper-item>\n          <Workbench :applicationInfo=\"applicationInfo\" />\n        </swiper-item>\n        \n        <!-- 我的页面 -->\n        <swiper-item>\n          <Profile />\n        </swiper-item>\n      </swiper>\n    </view>\n    \n    <!-- 底部TabBar -->\n    <view class=\"tab-bar\">\n      <view \n        class=\"tab-item\" \n        :class=\"{ active: currentTabIndex === 0 }\"\n        @click=\"switchTab(0)\"\n      >\n        <image \n          :src=\"currentTabIndex === 0 ? '/static/icons/tabbar/grid-fill.png' : '/static/icons/tabbar/grid.png'\"\n          class=\"tab-icon\"\n          mode=\"aspectFit\"\n        />\n        <text class=\"tab-text\">工作台</text>\n      </view>\n      <view \n        class=\"tab-item\" \n        :class=\"{ active: currentTabIndex === 1 }\"\n        @click=\"switchTab(1)\"\n      >\n        <image \n          :src=\"currentTabIndex === 1 ? '/static/icons/tabbar/account-fill.png' : '/static/icons/tabbar/account.png'\"\n          class=\"tab-icon\"\n          mode=\"aspectFit\"\n        />\n        <text class=\"tab-text\">我的</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport Workbench from './components/Workbench.vue'\nimport Profile from './components/Profile.vue'\nimport { getApplicatioInfo } from '@/api/user.js'\n\n// 状态栏高度\nconst statusBarHeight = ref(0)\n\n// 当前选中的Tab索引\nconst currentTabIndex = ref(0)\n\n// 申请信息\nconst applicationInfo = ref(null)\n\nonMounted(() => {\n  // 获取系统信息\n  const info = uni.getSystemInfoSync()\n  statusBarHeight.value = info.statusBarHeight || 0\n  \n  // 加载申请信息\n  loadApplicationInfo()\n})\n\n// 加载申请信息\nconst loadApplicationInfo = async () => {\n  try {\n    console.log('开始请求申请信息')\n    const response = await getApplicatioInfo()\n    console.log('申请信息请求成功:', response)\n    \n    if (response.data && response.data.code === 0) {\n      applicationInfo.value = response.data.data\n      console.log('申请信息:', applicationInfo.value)\n    } else {\n      console.warn('获取申请信息失败:', response.data?.msg || '未知错误')\n    }\n  } catch (error) {\n    console.error('获取申请信息失败:', error)\n  }\n}\n\n// 切换Tab\nconst switchTab = (index) => {\n  currentTabIndex.value = index\n}\n\n// swiper滑动改变时的处理\nconst onSwiperChange = (e) => {\n  currentTabIndex.value = e.detail.current\n}\n\n// 返回上一步\nconst goBack = () => {\n  uni.navigateBack()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.partner-container {\n  height: 100vh;\n  background: #F7F8FA;\n  display: flex;\n  flex-direction: column;\n}\n\n.status-bar {\n  background: #FFFFFF;\n}\n\n.nav-bar {\n  background: #FFFFFF;\n  height: 88rpx;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 32rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);\n}\n\n.back-btn {\n  display: flex;\n  align-items: center;\n  padding: 12rpx 16rpx;\n  border-radius: 20rpx;\n  background: rgba(0, 0, 0, 0.04);\n  transition: all 0.2s;\n}\n\n.back-btn:active {\n  background: rgba(0, 0, 0, 0.08);\n  transform: scale(0.96);\n}\n\n.back-icon {\n  width: 32rpx;\n  height: 32rpx;\n  opacity: 0.8;\n}\n\n.back-text {\n  font-size: 26rpx;\n  color: #1A1A1A;\n  font-weight: 500;\n  margin-left: 8rpx;\n}\n\n.nav-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #1A1A1A;\n  text-align: center;\n  flex: 1;\n}\n\n.nav-placeholder {\n  width: 120rpx;\n} \n\n.main-content {\n  flex: 1;\n  overflow: hidden;\n}\n\n.content-swiper {\n  height: 100%;\n}\n\n/* 底部TabBar样式 */\n.tab-bar {\n  background: #FFFFFF;\n  border-top: 1rpx solid #f0f0f0;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  /* 安全区域适配 - 有安全区域时使用safe-area-inset-bottom，没有时使用40rpx */\n  padding-bottom: max(40rpx, env(safe-area-inset-bottom));\n  padding-top: 10rpx;\n  box-sizing: border-box;\n}\n\n.tab-item {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: all 0.3s;\n  box-sizing: border-box;\n}\n\n.tab-item:active {\n  transform: scale(0.95);\n}\n\n.tab-icon {\n  width: 50rpx;\n  height: 50rpx;\n  transition: all 0.3s;\n}\n\n.tab-text {\n  font-size: 22rpx;\n  margin-top: 6rpx;\n  color: #666666;\n  font-weight: 500;\n  transition: all 0.3s;\n  line-height: 1.2;\n  /* 防止文字被截断 */\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n}\n\n.tab-item.active .tab-text {\n  color: #7363FF;\n  font-weight: 600;\n}\n</style> ","import MiniProgramPage from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/subPackages/partner/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","getApplicatioInfo"],"mappings":";;;;;;;AAuEA,MAAM,YAAY,MAAW;AAC7B,MAAM,UAAU,MAAW;;;;AAI3B,UAAM,kBAAkBA,cAAG,IAAC,CAAC;AAG7B,UAAM,kBAAkBA,cAAG,IAAC,CAAC;AAG7B,UAAM,kBAAkBA,cAAG,IAAC,IAAI;AAEhCC,kBAAAA,UAAU,MAAM;AAEd,YAAM,OAAOC,cAAG,MAAC,kBAAmB;AACpC,sBAAgB,QAAQ,KAAK,mBAAmB;AAGhD,0BAAqB;AAAA,IACvB,CAAC;AAGD,UAAM,sBAAsB,YAAY;;AACtC,UAAI;AACFA,sBAAAA,MAAA,MAAA,OAAA,uCAAY,UAAU;AACtB,cAAM,WAAW,MAAMC,2BAAmB;AAC1CD,sBAAAA,MAAY,MAAA,OAAA,uCAAA,aAAa,QAAQ;AAEjC,YAAI,SAAS,QAAQ,SAAS,KAAK,SAAS,GAAG;AAC7C,0BAAgB,QAAQ,SAAS,KAAK;AACtCA,mFAAY,SAAS,gBAAgB,KAAK;AAAA,QAChD,OAAW;AACLA,8BAAa,MAAA,QAAA,wCAAA,eAAa,cAAS,SAAT,mBAAe,QAAO,MAAM;AAAA,QACvD;AAAA,MACF,SAAQ,OAAO;AACdA,sBAAAA,MAAA,MAAA,SAAA,wCAAc,aAAa,KAAK;AAAA,MACjC;AAAA,IACH;AAGA,UAAM,YAAY,CAAC,UAAU;AAC3B,sBAAgB,QAAQ;AAAA,IAC1B;AAGA,UAAM,iBAAiB,CAAC,MAAM;AAC5B,sBAAgB,QAAQ,EAAE,OAAO;AAAA,IACnC;AAGA,UAAM,SAAS,MAAM;AACnBA,oBAAAA,MAAI,aAAc;AAAA,IACpB;;;;;;;;;;;;;;;;;;;;;;AC3HA,GAAG,WAAW,eAAe;"}