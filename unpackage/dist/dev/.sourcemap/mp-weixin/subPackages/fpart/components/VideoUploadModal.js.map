{"version":3,"file":"VideoUploadModal.js","sources":["subPackages/fpart/components/VideoUploadModal.vue","/Users/xiaoqiang/Documents/friemd/firend-loving-app/subPackages/fpart/components/VideoUploadModal.vue?type=component"],"sourcesContent":["<template>\n  <!-- ËßÜÈ¢ë‰∏ä‰º†ÂºπÊ°Ü -->\n  <view v-if=\"show\" class=\"video-upload-overlay\" @click=\"handleOverlayClick\">\n    <view class=\"video-upload-container\" @click.stop>\n      <!-- ÂºπÊ°ÜÂ§¥ÈÉ® -->\n      <view class=\"modal-header\">\n        <view class=\"header-content\">\n          <view class=\"header-icon\">üé¨</view>\n          <view class=\"header-text\">\n            <text class=\"modal-title\">‰∏ä‰º†Ëá™Êàë‰ªãÁªçËßÜÈ¢ë</text>\n            <text class=\"modal-subtitle\">Â±ïÁ§∫‰Ω†ÁöÑ‰∏ì‰∏öËÉΩÂäõÂíå‰∏™‰∫∫È≠ÖÂäõ</text>\n          </view>\n        </view>\n        <view class=\"close-btn\" @click=\"handleClose\">\n          <text class=\"close-icon\">‚úï</text>\n        </view>\n      </view>\n\n      <!-- ÂºπÊ°ÜÂÜÖÂÆπ -->\n      <view class=\"modal-content\">\n        <!-- ËßÜÈ¢ëÁä∂ÊÄÅÊòæÁ§∫ -->\n        <view class=\"video-status-section\" v-if=\"applicationInfo && applicationInfo.intro_video_url\">\n          <view class=\"status-badge\" :class=\"getStatusBadgeClass(applicationInfo.video_review_status)\">\n            <text class=\"status-text\">{{ getVideoStatusText(applicationInfo.video_review_status) }}</text>\n          </view>\n          <text class=\"status-desc\">{{ getVideoStatusDesc(applicationInfo.video_review_status) }}</text>\n        </view>\n\n        <!-- ËßÜÈ¢ëÈ¢ÑËßàÂå∫Âüü -->\n        <view class=\"video-preview-section\">\n          <!-- Â∑≤ÊúâËßÜÈ¢ëÊó∂ÊòæÁ§∫È¢ÑËßà -->\n          <view v-if=\"videoUrl && videoUrl != ''\" class=\"video-preview\">\n            <video \n              :src=\"$imgBaseUrl + videoUrl\" \n              class=\"preview-video\"\n              controls\n              show-center-play-btn\n              show-play-btn\n              show-fullscreen-btn\n              show-progress\n              enable-progress-gesture\n            ></video>\n            <view class=\"video-actions\">\n              <view class=\"video-action-btn replace-btn\" @click=\"selectVideo\">\n                <text class=\"video-btn-text\">ÈáçÊñ∞‰∏ä‰º†</text>\n              </view>\n            </view>\n          </view>\n          \n          <!-- Êó†ËßÜÈ¢ëÊó∂ÊòæÁ§∫‰∏ä‰º†Âå∫Âüü -->\n          <view v-else class=\"video-upload-area\" @click=\"selectVideo\">\n            <view class=\"upload-content\">\n              <view class=\"upload-icon\">üìπ</view>\n              <text class=\"upload-title\">‰∏ä‰º†Ëá™Êàë‰ªãÁªçËßÜÈ¢ë</text>\n              <text class=\"upload-desc\">ÊîØÊåÅMP4Ê†ºÂºèÔºåÊó∂Èïø3-60Áßí</text>\n              <view class=\"upload-requirements\">\n                <text class=\"requirement-item\">‚Ä¢ ËßÜÈ¢ëÊó∂ÈïøÔºö3-60Áßí</text>\n                <text class=\"requirement-item\">‚Ä¢ Êñá‰ª∂Â§ßÂ∞èÔºö‰∏çË∂ÖËøá500MB</text>\n                <text class=\"requirement-item\">‚Ä¢ Ê†ºÂºèË¶ÅÊ±ÇÔºöMP4</text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <!-- ‰∏ä‰º†ËøõÂ∫¶ -->\n        <view v-if=\"isUploading\" class=\"upload-progress\">\n          <view class=\"progress-bar\">\n            <view class=\"progress-fill\" :style=\"{ width: uploadProgress + '%' }\"></view>\n          </view>\n          <text class=\"progress-text\">‰∏ä‰º†‰∏≠... {{ uploadProgress }}%</text>\n        </view>\n      </view>\n\n      <!-- ÂºπÊ°ÜÂ∫ïÈÉ® -->\n      <view class=\"modal-footer\">\n        <view class=\"footer-actions\">\n          <view class=\"cancel-btn\" @click=\"handleClose\">\n            <text class=\"modal-btn-text\">ÂèñÊ∂à</text>\n          </view>\n          <view \n            class=\"submit-btn\" \n            :class=\"{ disabled: !videoUrl || isUploading }\"\n            @click=\"submitVideo\"\n          >\n            <text class=\"modal-btn-text\" v-if=\"applicationInfo && applicationInfo.intro_video_url\" >{{ isUploading ? '‰∏ä‰º†‰∏≠...' : 'ÈáçÊñ∞Êèê‰∫§' }}</text>\n            <text class=\"modal-btn-text\" v-else >{{ isUploading ? '‰∏ä‰º†‰∏≠...' : 'Êèê‰∫§ÂÆ°Ê†∏' }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { uploadCompanionVideo } from '@/api/user.js'\nimport { uploadFile, getUploadResult } from '@/api/file.js'\n\n// ÂÆö‰πâprops\nconst props = defineProps({\n  show: {\n    type: Boolean,\n    default: false\n  },\n  applicationInfo: {\n    type: Object,\n    default: null\n  }\n})\n\n// ÂÆö‰πâemits\nconst emit = defineEmits(['close', 'success'])\n\n// ËßÜÈ¢ë‰∏ä‰º†Áõ∏ÂÖ≥Áä∂ÊÄÅ\nconst videoUrl = ref('')\nconst isUploading = ref(false)\nconst uploadProgress = ref(0)\n\n// ÁõëÂê¨showÂèòÂåñÔºåÂàùÂßãÂåñËßÜÈ¢ëURL\nwatch(() => props.show, (newVal) => {\n  if (newVal && props.applicationInfo && props.applicationInfo.intro_video_url) {\n    videoUrl.value = props.applicationInfo.intro_video_url\n  } else if (!newVal) {\n    // ÂÖ≥Èó≠Êó∂ÈáçÁΩÆÁä∂ÊÄÅ\n    if (!props.applicationInfo?.intro_video_url) {\n      videoUrl.value = ''\n    }\n    isUploading.value = false\n    uploadProgress.value = 0\n  }\n})\n\n// Â§ÑÁêÜÈÅÆÁΩ©Â±ÇÁÇπÂáª\nconst handleOverlayClick = () => {\n  handleClose()\n}\n\n// ÂÖ≥Èó≠ÂºπÊ°Ü\nconst handleClose = () => {\n  emit('close')\n}\n\n// ÈÄâÊã©ËßÜÈ¢ë\nconst selectVideo = () => {\n  // ÈáçÁΩÆÂΩìÂâçÈÄâÊã©ÁöÑËßÜÈ¢ëURL\n  videoUrl.value = ''\n  \n  uni.chooseVideo({\n    count: 1,\n    sizeType: ['compressed'],\n    sourceType: ['album', 'camera'],\n    maxDuration: 60,\n    camera: 'back',\n    success: async (res) => {\n      const tempFilePath = res.tempFilePath\n      const duration = res.duration\n      const size = res.size\n      \n      // È™åËØÅËßÜÈ¢ëÊó∂Èïø\n      if (duration < 3 || duration > 60) {\n        uni.showToast({\n          title: 'ËßÜÈ¢ëÊó∂ÈïøÂøÖÈ°ªÂú®3-60Áßí‰πãÈó¥',\n          icon: 'none'\n        })\n        return\n      }\n      \n      // È™åËØÅÊñá‰ª∂Â§ßÂ∞èÔºà500MB = 500 * 1024 * 1024 bytesÔºâ\n      if (size > 500 * 1024 * 1024) {\n        uni.showToast({\n          title: 'ËßÜÈ¢ëÊñá‰ª∂Â§ßÂ∞è‰∏çËÉΩË∂ÖËøá500MB',\n          icon: 'none'\n        })\n        return\n      }\n      \n      // ÊòæÁ§∫‰∏ä‰º†ËøõÂ∫¶\n      uni.showLoading({\n        title: '‰∏ä‰º†‰∏≠...',\n        mask: true\n      })\n      \n      try {\n        // Ëé∑ÂèñÊñá‰ª∂‰ø°ÊÅØ\n        const fileInfo = await getFileInfo(tempFilePath)\n        \n        // ‰∏ä‰º†Êñá‰ª∂\n        const uploadResult = await uploadFile({\n          filePath: tempFilePath,\n          name: `intro_video_${Date.now()}.${fileInfo.extension}`\n        })\n        \n        // Ëß£Êûê‰∏ä‰º†ÁªìÊûú\n        const fileData = getUploadResult(uploadResult)\n        if (!fileData || !fileData.url) {\n          throw new Error('‰∏ä‰º†ÁªìÊûúËß£ÊûêÂ§±Ë¥•')\n        }\n        \n        // ËÆæÁΩÆËßÜÈ¢ëURLÔºà‰øùÂ≠òÂÆåÊï¥URLÁî®‰∫éÈ¢ÑËßàÔºåÊèê‰∫§Êó∂ÂéªÊéâÂüüÂêçÂâçÁºÄÔºâ\n        videoUrl.value = fileData.url\n        uni.hideLoading()\n      } catch (error) {\n        uni.hideLoading()\n        console.error('ËßÜÈ¢ë‰∏ä‰º†Â§±Ë¥•:', error)\n        uni.showToast({\n          title: '‰∏ä‰º†Â§±Ë¥•ÔºåËØ∑ÈáçËØï',\n          icon: 'none'\n        })\n      }\n    },\n    fail: (error) => {\n      console.error('ÈÄâÊã©ËßÜÈ¢ëÂ§±Ë¥•:', error)\n      if (error.errMsg && !error.errMsg.includes('cancel')) {\n        uni.showToast({\n          title: 'ÈÄâÊã©ËßÜÈ¢ëÂ§±Ë¥•',\n          icon: 'none'\n        })\n      }\n    }\n  })\n}\n\n// Êèê‰∫§ËßÜÈ¢ë\nconst submitVideo = async () => {\n  if (!videoUrl.value) {\n    uni.showToast({\n      title: 'ËØ∑ÂÖàÈÄâÊã©ËßÜÈ¢ë',\n      icon: 'none'\n    })\n    return\n  }\n  \n  if (isUploading.value) {\n    return\n  }\n  \n  try {\n    uni.showLoading({ title: 'Êèê‰∫§ÂÆ°Ê†∏‰∏≠...' })\n    \n    // Êèê‰∫§Êó∂ÂéªÊéâÂüüÂêçÂâçÁºÄÔºåÂè™‰øùÁïôÁõ∏ÂØπË∑ØÂæÑ\n    let videoUrlToSubmit = videoUrl.value\n\n    \n    const response = await uploadCompanionVideo({\n      intro_video_url: videoUrlToSubmit\n    })\n    \n    // Â¶ÇÊûúÊâßË°åÂà∞ËøôÈáåÔºåËØ¥ÊòéËØ∑Ê±ÇÊàêÂäü‰∏îÊ≤°Êúâ‰∏öÂä°ÈîôËØØ\n    uni.hideLoading()\n    uni.showToast({\n      title: 'ËßÜÈ¢ëÊèê‰∫§ÊàêÂäüÔºåÁ≠âÂæÖÂÆ°Ê†∏',\n      icon: 'success'\n    })\n    \n    // ÂÖ≥Èó≠ÂºπÊ°Ü\n    handleClose()\n    \n    // ÂèëÈÄÅÊàêÂäü‰∫ã‰ª∂\n    emit('success', {\n      type: 'video_uploaded',\n      message: 'ËßÜÈ¢ëÂ∑≤Êèê‰∫§ÂÆ°Ê†∏'\n    })\n    \n  } catch (error) {\n    uni.hideLoading()\n    console.error('Êèê‰∫§ËßÜÈ¢ëÂ§±Ë¥•:', error)\n    // ÁΩëÁªúÈîôËØØÊàñÂÖ∂‰ªñÊú™Â§ÑÁêÜÁöÑÈîôËØØ\n    if (!error.data) {\n      uni.showToast({\n        title: 'Êèê‰∫§Â§±Ë¥•ÔºåËØ∑ÈáçËØï',\n        icon: 'none'\n      })\n    }\n  }\n}\n\n// Ëé∑ÂèñÊñá‰ª∂‰ø°ÊÅØ\nconst getFileInfo = (filePath) => {\n  return new Promise((resolve, reject) => {\n    uni.getFileInfo({\n      filePath: filePath,\n      success: (res) => {\n        // ‰ªéÊñá‰ª∂Ë∑ØÂæÑ‰∏≠ÊèêÂèñÊâ©Â±ïÂêç\n        const extension = filePath.split('.').pop().toLowerCase()\n        resolve({\n          size: res.size,\n          extension: extension\n        })\n      },\n      fail: (error) => {\n        console.error('Ëé∑ÂèñÊñá‰ª∂‰ø°ÊÅØÂ§±Ë¥•:', error)\n        // Â¶ÇÊûúËé∑ÂèñÊñá‰ª∂‰ø°ÊÅØÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§Êâ©Â±ïÂêç\n        const extension = filePath.split('.').pop().toLowerCase() || 'mp4'\n        resolve({\n          size: 0,\n          extension: extension\n        })\n      }\n    })\n  })\n}\n\n// Ëé∑ÂèñËßÜÈ¢ëÁä∂ÊÄÅÊñáÊú¨\nconst getVideoStatusText = (status) => {\n  switch (status) {\n    case 'pending':\n      return 'ÂæÖÂÆ°Ê†∏'\n    case 'approved':\n      return 'Â∑≤ÈÄöËøá'\n    case 'rejected':\n      return 'Â∑≤ÊãíÁªù'\n    default:\n      return 'Êú™Áü•Áä∂ÊÄÅ'\n  }\n}\n\n// Ëé∑ÂèñËßÜÈ¢ëÁä∂ÊÄÅÊèèËø∞\nconst getVideoStatusDesc = (status) => {\n  switch (status) {\n    case 'pending':\n      return 'ÊÇ®ÁöÑËßÜÈ¢ëÊ≠£Âú®ÂÆ°Ê†∏‰∏≠ÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖ'\n    case 'approved':\n      return 'ËßÜÈ¢ëÂÆ°Ê†∏Â∑≤ÈÄöËøáÔºåÂèØ‰ª•Ê≠£Â∏∏‰∏äÁ∫øÊé•Âçï'\n    case 'rejected':\n      return props.applicationInfo.remark != \"\" ? ('ÂéüÂõ†Ôºö' + props.applicationInfo.remark):'ËßÜÈ¢ëÂÆ°Ê†∏Êú™ÈÄöËøáÔºåËØ∑ÈáçÊñ∞‰∏ä‰º†'\n    default:\n      return 'ËØ∑‰∏ä‰º†Ëá™Êàë‰ªãÁªçËßÜÈ¢ë'\n  }\n}\n\n// Ëé∑ÂèñÁä∂ÊÄÅÊ†áÁ≠æÊ†∑ÂºèÁ±ª\nconst getStatusBadgeClass = (status) => {\n  switch (status) {\n    case 'pending':\n      return 'status-pending'\n    case 'approved':\n      return 'status-approved'\n    case 'rejected':\n      return 'status-rejected'\n    default:\n      return ''\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// ËßÜÈ¢ë‰∏ä‰º†ÂºπÊ°ÜÊ†∑Âºè\n.video-upload-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8rpx);\n  -webkit-backdrop-filter: blur(8rpx);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  animation: fadeIn 0.3s ease-out;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideUp {\n  from { \n    transform: translateY(100rpx);\n    opacity: 0;\n  }\n  to { \n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.video-upload-container {\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(247, 248, 250, 0.95) 100%);\n  backdrop-filter: blur(20rpx);\n  -webkit-backdrop-filter: blur(20rpx);\n  border-radius: 32rpx;\n  width: 85%;\n  max-width: 640rpx;\n  max-height: 80vh;\n  box-shadow: 0 20rpx 60rpx rgba(115, 99, 255, 0.2);\n  border: 1rpx solid rgba(115, 99, 255, 0.1);\n  animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.modal-header {\n  padding: 32rpx 32rpx 24rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  position: relative;\n  border-bottom: 1rpx solid rgba(115, 99, 255, 0.1);\n}\n\n.header-content {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n\n.header-icon {\n  width: 60rpx;\n  height: 60rpx;\n  background: linear-gradient(135deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 105, 222, 0.1) 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32rpx;\n  margin-right: 20rpx;\n  box-shadow: 0 4rpx 12rpx rgba(115, 99, 255, 0.2);\n}\n\n.header-text {\n  flex: 1;\n}\n\n.modal-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #1A1A1A;\n  margin-bottom: 8rpx;\n  display: block;\n  line-height: 1.3;\n}\n\n.modal-subtitle {\n  font-size: 24rpx;\n  color: #666666;\n  display: block;\n  line-height: 1.4;\n}\n\n.close-btn {\n  width: 48rpx;\n  height: 48rpx;\n  background: linear-gradient(135deg, rgba(115, 99, 255, 0.1) 0%, rgba(255, 255, 255, 0.8) 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24rpx;\n  color: #666666;\n  font-weight: 600;\n  transition: all 0.3s;\n  border: 1rpx solid rgba(115, 99, 255, 0.15);\n  flex-shrink: 0;\n  \n  &:active {\n    transform: scale(0.9);\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.15) 0%, rgba(255, 255, 255, 0.9) 100%);\n  }\n}\n\n.close-icon {\n  font-size: 24rpx;\n  font-weight: 600;\n}\n\n.modal-content {\n  flex: 1;\n  padding: 24rpx 32rpx;\n  overflow-y: auto;\n}\n\n.video-status-section {\n  margin-bottom: 32rpx;\n  padding: 20rpx;\n  background: linear-gradient(135deg, rgba(115, 99, 255, 0.05) 0%, rgba(255, 105, 222, 0.05) 100%);\n  border-radius: 16rpx;\n  border: 1rpx solid rgba(115, 99, 255, 0.1);\n}\n\n.status-badge {\n  display: inline-flex;\n  align-items: center;\n  padding: 8rpx 16rpx;\n  border-radius: 20rpx;\n  margin-bottom: 12rpx;\n  font-size: 24rpx;\n  font-weight: 600;\n  \n  &.status-pending {\n    background: linear-gradient(135deg, rgba(255, 149, 0, 0.1) 0%, rgba(255, 149, 0, 0.2) 100%);\n    color: #FF9500;\n    border: 1rpx solid rgba(255, 149, 0, 0.3);\n  }\n  \n  &.status-approved {\n    background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(76, 175, 80, 0.2) 100%);\n    color: #4CAF50;\n    border: 1rpx solid rgba(76, 175, 80, 0.3);\n  }\n  \n  &.status-rejected {\n    background: linear-gradient(135deg, rgba(244, 67, 54, 0.1) 0%, rgba(244, 67, 54, 0.2) 100%);\n    color: #F44336;\n    border: 1rpx solid rgba(244, 67, 54, 0.3);\n  }\n}\n\n.status-text {\n  font-size: 24rpx;\n  font-weight: 600;\n}\n\n.status-desc {\n  font-size: 24rpx;\n  color: #666666;\n  line-height: 1.4;\n  display: block;\n}\n\n.video-preview-section {\n  margin-bottom: 32rpx;\n}\n\n.video-preview {\n  position: relative;\n  border-radius: 20rpx;\n  overflow: hidden;\n  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.1);\n  margin-bottom: 20rpx;\n}\n\n.preview-video {\n  width: 100%;\n  height: 300rpx;\n  object-fit: cover;\n  background: #000000;\n}\n\n.video-actions {\n  position: absolute;\n  top: 16rpx;\n  right: 16rpx;\n  display: flex;\n  gap: 12rpx;\n}\n\n.video-action-btn {\n  padding: 12rpx 20rpx;\n  border-radius: 24rpx;\n  font-size: 22rpx;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(10rpx);\n  -webkit-backdrop-filter: blur(10rpx);\n  \n  &.replace-btn {\n    background: rgba(115, 99, 255, 0.9);\n    color: #FFFFFF;\n    border: 1rpx solid rgba(255, 255, 255, 0.2);\n  }\n  \n  &.delete-btn {\n    background: rgba(244, 67, 54, 0.9);\n    color: #FFFFFF;\n    border: 1rpx solid rgba(255, 255, 255, 0.2);\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n}\n\n.video-btn-text {\n  font-size: 22rpx;\n  font-weight: 500;\n}\n\n.video-upload-area {\n  border: 3rpx dashed rgba(115, 99, 255, 0.3);\n  border-radius: 20rpx;\n  background: linear-gradient(135deg, rgba(115, 99, 255, 0.02) 0%, rgba(255, 105, 222, 0.02) 100%);\n  transition: all 0.3s ease;\n  cursor: pointer;\n  \n  &:active {\n    transform: scale(0.98);\n    border-color: #7363FF;\n    background: linear-gradient(135deg, rgba(115, 99, 255, 0.05) 0%, rgba(255, 105, 222, 0.05) 100%);\n  }\n}\n\n.upload-content {\n  padding: 60rpx 40rpx;\n  text-align: center;\n}\n\n.upload-icon {\n  font-size: 80rpx;\n  margin-bottom: 24rpx;\n  display: block;\n  opacity: 0.8;\n}\n\n.upload-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #1A1A1A;\n  margin-bottom: 12rpx;\n  display: block;\n}\n\n.upload-desc {\n  font-size: 26rpx;\n  color: #666666;\n  margin-bottom: 24rpx;\n  display: block;\n}\n\n.upload-requirements {\n  text-align: left;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 12rpx;\n  padding: 20rpx;\n  border: 1rpx solid rgba(115, 99, 255, 0.1);\n}\n\n.requirement-item {\n  font-size: 22rpx;\n  color: #666666;\n  margin-bottom: 8rpx;\n  display: block;\n  line-height: 1.4;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.upload-progress {\n  margin-bottom: 24rpx;\n}\n\n.progress-bar {\n  background: rgba(115, 99, 255, 0.1);\n  border-radius: 12rpx;\n  height: 8rpx;\n  overflow: hidden;\n  margin-bottom: 12rpx;\n  position: relative;\n}\n\n.progress-fill {\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  height: 100%;\n  border-radius: 12rpx;\n  transition: width 0.3s ease;\n  position: relative;\n  \n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n    animation: shimmer 2s infinite;\n  }\n}\n\n@keyframes shimmer {\n  0% { transform: translateX(-100%); }\n  100% { transform: translateX(100%); }\n}\n\n.progress-text {\n  font-size: 24rpx;\n  color: #1A1A1A;\n  font-weight: 500;\n  text-align: center;\n  display: block;\n}\n\n.modal-footer {\n  padding: 24rpx 32rpx 32rpx;\n  border-top: 1rpx solid rgba(115, 99, 255, 0.1);\n  background: rgba(255, 255, 255, 0.8);\n}\n\n.footer-actions {\n  display: flex;\n  gap: 20rpx;\n}\n\n.cancel-btn {\n  flex: 1;\n  height: 80rpx;\n  background: linear-gradient(135deg, rgba(248, 249, 254, 0.8) 0%, rgba(240, 240, 240, 0.8) 100%);\n  border: 1rpx solid rgba(115, 99, 255, 0.2);\n  border-radius: 40rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28rpx;\n  font-weight: 500;\n  color: #666666;\n  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n  backdrop-filter: blur(10rpx);\n  -webkit-backdrop-filter: blur(10rpx);\n  \n  &:active {\n    transform: scale(0.96);\n    background: linear-gradient(135deg, rgba(240, 240, 240, 0.9) 0%, rgba(230, 230, 230, 0.9) 100%);\n  }\n}\n\n.submit-btn {\n  flex: 2;\n  height: 80rpx;\n  background: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n  border-radius: 40rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28rpx;\n  font-weight: 600;\n  color: #FFFFFF;\n  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n  box-shadow: 0 6rpx 20rpx rgba(115, 99, 255, 0.3);\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.5s ease;\n  }\n  \n  &.disabled {\n    background: linear-gradient(135deg, #CCCCCC 0%, #BBBBBB 100%);\n    box-shadow: 0 3rpx 12rpx rgba(0, 0, 0, 0.1);\n    color: #999999;\n    \n    &::before {\n      display: none;\n    }\n  }\n  \n  &:active:not(.disabled) {\n    transform: scale(0.96);\n    box-shadow: 0 4rpx 16rpx rgba(115, 99, 255, 0.4);\n    \n    &::before {\n      left: 100%;\n    }\n  }\n}\n\n.modal-btn-text {\n  font-size: 28rpx;\n  font-weight: 600;\n  position: relative;\n  z-index: 2;\n}\n</style> ","import Component from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/subPackages/fpart/components/VideoUploadModal.vue'\nwx.createComponent(Component)"],"names":["props","__props","emit","__emit","videoUrl","ref","isUploading","uploadProgress","watch","newVal","_a","handleOverlayClick","handleClose","selectVideo","uni","res","tempFilePath","duration","size","fileInfo","getFileInfo","uploadResult","uploadFile","fileData","getUploadResult","error","submitVideo","videoUrlToSubmit","response","uploadCompanionVideo","filePath","resolve","reject","extension","getVideoStatusText","status","getVideoStatusDesc","getStatusBadgeClass","Component"],"mappings":"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"}