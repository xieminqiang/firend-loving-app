{"version":3,"file":"index.js","sources":["subPackages/order/index.vue","subPackages/order/index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"order-container\">\n    <!-- 状态筛选栏 -->\n    <view class=\"status-filter\">\n      <scroll-view class=\"filter-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\n        <view class=\"filter-tabs\">\n          <view \n            v-for=\"(tab, index) in statusTabs\" \n            :key=\"index\"\n            class=\"filter-tab\"\n            :class=\"{ active: currentStatus === tab.value }\"\n            @click=\"switchStatus(tab.value)\"\n          >\n            <text class=\"tab-text\">{{ tab.label }}</text>\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n\n    <!-- 订单列表 -->\n    <scroll-view \n      class=\"order-list\"\n      scroll-y=\"true\"\n      refresher-enabled=\"true\"\n      :refresher-triggered=\"isRefreshing\"\n      @refresherrefresh=\"onRefresh\"\n      @refresherrestore=\"onRefreshRestore\"\n      @scrolltolower=\"loadMore\"\n    >\n      <!-- 空状态 -->\n      <view v-if=\"orderList.length === 0 && !isLoading\" class=\"empty-state\">\n        <image src=\"@/static/images/empty.png\" class=\"empty-image\" mode=\"aspectFit\" />\n        <text class=\"empty-text\">暂无订单</text>\n        <text class=\"empty-desc\">快去发现更多精彩服务吧</text>\n      </view>\n\n      <!-- 订单卡片列表 -->\n      <view v-else class=\"order-cards\">\n        <view \n          v-for=\"order in orderList\" \n          :key=\"order.id\"\n          class=\"order-card\"\n          @click=\"navigateToDetail(order.id)\"\n        >\n          <!-- 订单头部（重构：左侧服务名和描述，右侧状态） -->\n          <view class=\"order-header\">\n            <view class=\"order-info\">\n              <text class=\"service-name\">{{ order.service_name }}</text>\n              <!-- <text class=\"service-desc\">{{ order.service_address }}</text> -->\n            </view>\n            <view class=\"order-status\" :class=\"getStatusClass(order.status)\">\n              <text class=\"status-text\">{{ getStatusText(order.status) }}</text>\n            </view>\n          </view>\n\n          <!-- 服务信息和订单金额 -->\n          <view class=\"service-amount-row\">\n            <view class=\"service-info\">\n              <image :src=\"$imgBaseUrl + order.service_image_url\" class=\"service-image\" mode=\"aspectFill\" />\n              <view class=\"service-details\">\n                <view class=\"service-meta\">\n                  \n                  <text class=\"service-price\">¥{{ order.unit_price }}/{{ order.unit }}</text>\n                  <text class=\"service-duration\">x{{ order.quantity }}</text>\n                </view>\n                <view class=\"order-amount\">\n              <text class=\"amount-label\">{{ getAmountLabel(order.status) }}</text>\n              <text class=\"amount-value\">¥{{ order.total_amount }}</text>\n            </view>\n              </view>\n            </view>\n           \n          </view>\n\n          <!-- 下单时间 -->\n          <view class=\"order-time-info\">\n            <text class=\"time-label\">下单时间</text>\n            <text class=\"time-value\">{{ formatTime(order.created_at) }}</text>\n          </view>\n\n          <!-- 操作按钮 -->\n          <view class=\"order-actions\">\n            <view \n              v-for=\"(action, actionIndex) in getOrderActions(order.status)\" \n              :key=\"actionIndex\"\n              class=\"action-btn\"\n              :class=\"action.type\"\n              @click.stop=\"handleOrderAction(action.action, order)\"\n            >\n              <text class=\"action-text\">{{ action.text }}</text>\n            </view>\n          </view>\n        </view>\n\n        <!-- 加载更多 -->\n        <view v-if=\"hasMore && orderList.length > 0\" class=\"load-more\">\n          <text v-if=\"isLoadingMore\" class=\"loading-text\">加载中...</text>\n          <text v-else class=\"load-more-text\">上拉加载更多</text>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useUserStore } from '@/stores/user.js'\nimport { getOrderList } from '@/api/order.js'\n\n// 用户状态管理\nconst userStore = useUserStore()\n\n// 页面状态\nconst currentStatus = ref('all')\nconst isRefreshing = ref(false)\nconst isLoading = ref(false)\nconst isLoadingMore = ref(false)\nconst hasMore = ref(true)\nconst page = ref(1)\nconst pageSize = ref(20)\n\n// 订单列表数据缓存\nconst orderListCache = ref({})\nconst orderList = ref([])\n\n// 状态筛选标签\nconst statusTabs = ref([\n  { label: '全部', value: 'all', count: 0 },\n  { label: '待付款', value: 'pending_payment', count: 0 },\n  { label: '待服务', value: 'pending_service', count: 0 },\n  { label: '进行中', value: 'in_service', count: 0 },\n  { label: '已完成', value: 'completed', count: 0 }\n])\n\n\n\nonMounted(() => {\n  // 首次加载时只加载当前状态的数据，计数会在loadOrderList中自动更新\n  loadOrderList()\n})\n\n// 切换状态筛选\nconst switchStatus = async (status) => {\n  if (currentStatus.value === status) return // 避免重复切换\n  \n  currentStatus.value = status\n  \n  // 检查缓存中是否已有该状态的数据\n  if (orderListCache.value[status]) {\n    // 从缓存恢复数据\n    orderList.value = orderListCache.value[status].list\n    page.value = orderListCache.value[status].page\n    hasMore.value = orderListCache.value[status].hasMore\n  } else {\n    // 缓存中没有数据，需要请求\n    page.value = 1\n    hasMore.value = true\n    orderList.value = []\n    \n    try {\n      await loadOrderList()\n    } catch (error) {\n      console.error('切换状态失败:', error)\n    }\n  }\n}\n\n// 加载订单列表\nconst loadOrderList = async () => {\n  if (isLoading.value) return\n  \n  isLoading.value = true\n  \n  try {\n    const params = {\n      page: page.value,\n      page_size: pageSize.value,\n      status_group: currentStatus.value\n    }\n    \n    const response = await getOrderList(params)\n    console.log(\"response.data\",response.data)\n    if (response.data.code === 0) {\n      const { list, total } = response.data.data\n\n      \n      if (page.value === 1) {\n        orderList.value = list || []\n        // 更新当前状态的计数\n        updateCurrentStatusCount(total)\n      } else {\n        orderList.value.push(...(list || []))\n      }\n      \n      hasMore.value = orderList.value.length < total\n      \n      // 缓存当前状态的数据\n      orderListCache.value[currentStatus.value] = {\n        list: [...orderList.value],\n        page: page.value,\n        hasMore: hasMore.value\n      }\n    } else {\n      throw new Error(response.msg || '获取订单列表失败')\n    }\n  } catch (error) {\n    console.error('加载订单列表失败:', error)\n    uni.showToast({\n      title: error.message || '加载失败',\n      icon: 'none'\n    })\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// 更新当前状态的计数（不需要额外API请求）\nconst updateCurrentStatusCount = (total) => {\n  const currentTab = statusTabs.value.find(tab => tab.value === currentStatus.value)\n  if (currentTab) {\n    currentTab.count = total || 0\n  }\n}\n\n// 更新状态计数（用于需要单独获取计数的场景）\nconst updateStatusCounts = async () => {\n  try {\n    // 只更新当前状态的计数，避免重复请求\n    const currentTab = statusTabs.value.find(tab => tab.value === currentStatus.value)\n    if (currentTab) {\n      const response = await getOrderList({ page: 1, page_size: 1, status_group: currentStatus.value })\n      if (response.data.code === 0) {\n        currentTab.count = response.data.data?.total || 0\n      }\n    }\n  } catch (error) {\n    console.error('更新状态计数失败:', error)\n  }\n}\n\n// 下拉刷新\nconst onRefresh = async () => {\n  if (isRefreshing.value) return // 防止重复刷新\n  \n  isRefreshing.value = true\n  page.value = 1\n  hasMore.value = true\n  \n  // 清除当前状态的缓存，强制重新加载\n  delete orderListCache.value[currentStatus.value]\n  \n  try {\n    await loadOrderList()\n    \n    // 模拟加载时间，确保用户能看到刷新动画\n    await new Promise(resolve => setTimeout(resolve, 800))\n  } catch (error) {\n    console.error('刷新失败:', error)\n  } finally {\n    isRefreshing.value = false\n  }\n}\n\nconst onRefreshRestore = () => {\n  isRefreshing.value = false\n}\n\n// 加载更多\nconst loadMore = async () => {\n  if (isLoadingMore.value || !hasMore.value) return\n  \n  isLoadingMore.value = true\n  page.value++\n  \n  try {\n    await loadOrderList()\n  } catch (error) {\n    console.error('加载更多失败:', error)\n    page.value--\n  } finally {\n    isLoadingMore.value = false\n  }\n}\n\n// 获取状态样式类\nconst getStatusClass = (status) => {\n  const statusMap = {\n    1: 'status-pending',      // 待付款\n    2: 'status-to-serve',     // 待服务（已支付待确认）\n    3: 'status-to-serve',     // 待服务（已确认待到达）\n    4: 'status-to-serve',     // 待服务（已到达待开始）\n    5: 'status-in-progress',  // 进行中\n    6: 'status-completed'     // 已完成\n  }\n  return statusMap[status] || 'status-default'\n}\n\n// 获取状态文本\nconst getStatusText = (status) => {\n  const statusMap = {\n    1: '待付款',\n    2: '待服务',\n    3: '待服务',\n    4: '待服务',\n    5: '进行中',\n    6: '已完成'\n  }\n  return statusMap[status] || '未知状态'\n}\n\n// 获取金额标签文本\nconst getAmountLabel = (status) => {\n  if (status === 1) {\n    return '需付款：'\n  } else if (status === 2 || status === 3 || status === 4 || status === 5 || status === 6) {\n    return '实付款：'\n  } else {\n    return '订单金额：'\n  }\n}\n\n// 获取订单操作按钮\nconst getOrderActions = (status) => {\n  const actionMap = {\n    1: [ // 待付款\n      { text: '取消订单', action: 'cancel', type: 'secondary' },\n      { text: '立即支付', action: 'pay', type: 'primary' }\n    ],\n    2: [ // 待服务（已支付待确认）\n      { text: '取消订单', action: 'cancel', type: 'secondary' },\n      { text: '联系友伴师', action: 'contact', type: 'primary' }\n    ],\n    3: [ // 待服务（已确认待到达）\n      { text: '取消订单', action: 'cancel', type: 'secondary' },\n      { text: '联系友伴师', action: 'contact', type: 'primary' }\n    ],\n    4: [ // 待服务（已到达待开始）\n      { text: '取消订单', action: 'cancel', type: 'secondary' },\n      { text: '联系友伴师', action: 'contact', type: 'primary' }\n    ],\n    5: [ // 进行中\n      { text: '续钟', action: 'extend', type: 'primary' },\n      { text: '联系友伴师', action: 'contact', type: 'secondary' }\n    ],\n    6: [ // 已完成\n      { text: '再次预约', action: 'rebook', type: 'primary' }\n    ]\n  }\n  return actionMap[status] || []\n}\n\n// 处理订单操作\nconst handleOrderAction = (action, order) => {\n  switch (action) {\n    case 'cancel':\n      handleCancelOrder(order)\n      break\n    case 'pay':\n      handlePayOrder(order)\n      break\n    case 'contact':\n      handleContactPartner(order)\n      break\n    case 'extend':\n      handleExtendOrder(order)\n      break\n    case 'rebook':\n      handleRebookOrder(order)\n      break\n    case 'review':\n      handleReviewOrder(order)\n      break\n  }\n}\n\n// 取消订单\nconst handleCancelOrder = (order) => {\n  uni.showModal({\n    title: '取消订单',\n    content: '确定要取消这个订单吗？',\n    confirmText: '确定取消',\n    cancelText: '再想想',\n    success: (res) => {\n      if (res.confirm) {\n        // 调用取消订单API\n        uni.showToast({\n          title: '订单已取消',\n          icon: 'success'\n        })\n        // 刷新列表\n        onRefresh()\n      }\n    }\n  })\n}\n\n// 支付订单\nconst handlePayOrder = (order) => {\n  uni.navigateTo({\n    url: `/subPackages/order/payment?orderId=${order.id}`\n  })\n}\n\n// 联系友伴师\nconst handleContactPartner = (order) => {\n  if (order.companion_id) {\n    uni.showModal({\n      title: '联系友伴师',\n      content: `是否拨打友伴师 #${order.companion_id} 的电话？`,\n      confirmText: '拨打',\n      cancelText: '取消',\n      success: (res) => {\n        if (res.confirm) {\n          // 这里应该调用友伴师的电话\n          uni.makePhoneCall({\n            phoneNumber: '13800138000'\n          })\n        }\n      }\n    })\n  }\n}\n\n// 续钟\nconst handleExtendOrder = (order) => {\n  uni.navigateTo({\n    url: `/subPackages/order/extend?orderId=${order.id}`\n  })\n}\n\n// 再次预约\nconst handleRebookOrder = (order) => {\n  uni.navigateTo({\n    url: `/subPackages/order/rebook?orderId=${order.id}`\n  })\n}\n\n// 评价订单\nconst handleReviewOrder = (order) => {\n  uni.navigateTo({\n    url: `/subPackages/order/review?orderId=${order.id}`\n  })\n}\n\n// 跳转到订单详情\nconst navigateToDetail = (orderId) => {\n  uni.navigateTo({\n    url: `/subPackages/order/detail?orderId=${orderId}`\n  })\n}\n\n// 格式化时间\nconst formatTime = (timeStr) => {\n  const date = new Date(timeStr)\n  \n  // 格式化为 YYYY-MM-DD HH:mm 格式\n  const year = date.getFullYear()\n  const month = String(date.getMonth() + 1).padStart(2, '0')\n  const day = String(date.getDate()).padStart(2, '0')\n  const hours = String(date.getHours()).padStart(2, '0')\n  const minutes = String(date.getMinutes()).padStart(2, '0')\n  \n  return `${year}-${month}-${day} ${hours}:${minutes}`\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.order-container {\n  height: 100vh;\n  background-color: #F7F8FA;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* 状态筛选栏 */\n.status-filter {\n  background: #FFFFFF;\n  border-bottom: 1rpx solid #f0f0f0;\n  flex-shrink: 0;\n}\n\n.filter-scroll {\n  white-space: nowrap;\n}\n\n.filter-tabs {\n  display: flex;\n  padding: 24rpx 0;\n  justify-content: space-around;\n}\n\n.filter-tab {\n  display: flex;\n  align-items: center;\n  padding: 12rpx 16rpx;\n  transition: all 0.3s ease;\n  position: relative;\n  flex: 1;\n  justify-content: center;\n}\n\n.filter-tab.active::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 50rpx;\n  height: 6rpx;\n  background: #7363FF;\n  border-radius: 3rpx;\n}\n\n.tab-text {\n  font-size: 28rpx;\n  font-weight: 500;\n  color: #666666;\n  transition: color 0.3s ease;\n}\n\n.filter-tab.active .tab-text {\n  color: #7363FF;\n  font-weight: 600;\n}\n\n/* 订单列表 */\n.order-list {\n  flex: 1;\n  padding: 24rpx;\n  height: 0;\n}\n\n/* 空状态 */\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 120rpx 0;\n}\n\n.empty-image {\n  width: 200rpx;\n  height: 200rpx;\n  margin-bottom: 32rpx;\n  opacity: 0.6;\n}\n\n.empty-text {\n  font-size: 32rpx;\n  color: #999999;\n  margin-bottom: 16rpx;\n}\n\n.empty-desc {\n  font-size: 26rpx;\n  color: #cccccc;\n}\n\n/* 订单卡片 */\n.order-cards {\n  display: flex;\n  flex-direction: column;\n  gap: 24rpx;\n}\n\n.order-card {\n  background: #FFFFFF;\n  border-radius: 16rpx;\n  padding: 20rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\n  border: 1rpx solid #f0f0f0;\n}\n\n/* 订单头部 */\n.order-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 24rpx;\n}\n\n.order-info {\n  flex: 1;\n}\n\n.order-number {\n  font-size: 28rpx;\n  color: #1A1A1A;\n  font-weight: 500;\n  margin-bottom: 8rpx;\n  display: block;\n}\n\n.order-time {\n  font-size: 24rpx;\n  color: #999999;\n}\n\n.order-status {\n  font-size: 24rpx;\n  font-weight: 500;\n}\n\n.status-pending {\n  color: #ff6b35;\n}\n\n.status-to-serve {\n  color: #007bff;\n}\n\n.status-in-progress {\n  color: #28a745;\n}\n\n.status-completed {\n  color: #6c757d;\n}\n\n\n\n/* 服务信息和订单金额行 */\n.service-amount-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24rpx;\n  padding-bottom: 24rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n/* 服务信息 */\n.service-info {\n  display: flex;\n  align-items: flex-start;\n  flex: 1;\n}\n\n.service-image {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 12rpx;\n  margin-right: 24rpx;\n  flex-shrink: 0;\n}\n\n.service-details {\n  flex: 1;\n  flex-direction: column;\n}\n\n.service-meta {\n  display: flex;\n  justify-content: space-between;\n  gap: 8rpx;\n  align-items: flex-start;\n}\n\n.service-duration {\n  font-size: 26rpx;\n  color: #1a1a1a;\n}\n\n.service-price {\n  font-size: 28rpx;\n  color: #1a1a1a;\n  font-weight: 600;\n}\n\n/* 下单时间信息 */\n.order-time-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24rpx;\n  padding-bottom: 24rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.time-label {\n  font-size: 26rpx;\n  color: #666666;\n}\n\n.time-value {\n  font-size: 26rpx;\n  color: #999999;\n}\n\n/* 订单金额 */\n.order-amount {\n  display: flex;\n  align-items: flex-end;\n  text-align: right;\n  align-self: flex-end;\n  margin-top: 30rpx;\n}\n\n.amount-label {\n  font-size: 26rpx;\n  color: #666666;\n}\n\n.amount-value {\n  font-size: 30rpx;\n  color: #f43f5e;\n  font-weight: 600;\n}\n\n/* 操作按钮 */\n.order-actions {\n  display: flex;\n  gap: 16rpx;\n  justify-content: flex-end;\n}\n\n.action-btn {\n  padding: 16rpx 32rpx;\n  border-radius: 99999rpx;\n  font-size: 26rpx;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  border: 1rpx solid;\n  box-sizing: border-box;\n}\n\n.action-btn.primary {\n  background: #7363FF;\n  color: #FFFFFF;\n  border-color: #7363FF;\n}\n\n.action-btn.primary:active {\n  background: #6354e6;\n  transform: scale(0.96);\n}\n\n.action-btn.secondary {\n  background: #FFFFFF;\n  color: #666666;\n  border-color: #e9ecef;\n}\n\n.action-btn.secondary:active {\n  background: #f8f9fa;\n  transform: scale(0.96);\n}\n\n/* 加载更多 */\n.load-more {\n  text-align: center;\n  padding: 32rpx 0;\n}\n\n.loading-text,\n.load-more-text {\n  font-size: 26rpx;\n  color: #999999;\n}\n</style>\n","import MiniProgramPage from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/subPackages/order/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","onMounted","uni","getOrderList"],"mappings":"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"}