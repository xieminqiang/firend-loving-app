{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"index-page\">\n\t\n\t</view>\n</template>\n\n<script setup>\nimport { onMounted } from 'vue'\nimport { getFirstSwitch } from '@/api/home.js'\nimport { useUserStore } from '@/stores/user.js'\n\n// 获取用户store实例\nconst userStore = useUserStore()\n\n// 调用接口\nconst callFirstSwitch = async () => {\n\ttry {\n\t\tconst response = await getFirstSwitch() \n      \n\t\tconsole.log('首页开关配置:', response.data)\n\t\t\n\t\t// 保存开关数据到store\n\t\tif (response.data && response.data.code === 0 && response.data.data) {\n\t\t\tuserStore.setSwitch(response.data.data.value)\n\t\t\tconsole.log('开关数据已保存到store:', response.data.data.value)\n\t\t}\n\t\t\n\t\t// 如果 value = 1，则跳转到首页\n\t\tif (response.data && response.data.code === 0 ) {\n\n            console.log('跳转到首页')\n          if(response.data.data.value === 1){\n          \n            uni.switchTab({\n\t\t\t\turl: '/pages/tabbar/home/index'\n\t\t\t})\n        \n        }else{\n            uni.switchTab({\n\t\t\t\turl: '/pages/tabbar/home/index-page'\n\t\t\t}) \n            }\n\t\t}\n\t} catch (error) {\n\t\tconsole.error('获取首页开关配置失败:', error)\n\t}\n}\n\n// 页面加载时调用\nonMounted(() => {\n\tcallFirstSwitch()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.index-page {\n\n}\n</style>","import MiniProgramPage from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["userStore","useUserStore","callFirstSwitch","response","getFirstSwitch","uni","error","onMounted","MiniProgramPage"],"mappings":"mJAYA,MAAMA,EAAYC,EAAAA,aAAc,EAG1BC,EAAkB,SAAY,CACnC,GAAI,CACH,MAAMC,EAAW,MAAMC,iBAAgB,EAEvCC,EAAY,MAAA,MAAA,MAAA,8BAAA,UAAWF,EAAS,IAAI,EAGhCA,EAAS,MAAQA,EAAS,KAAK,OAAS,GAAKA,EAAS,KAAK,OAC9DH,EAAU,UAAUG,EAAS,KAAK,KAAK,KAAK,EAC5CE,QAAY,MAAA,MAAA,8BAAA,iBAAkBF,EAAS,KAAK,KAAK,KAAK,GAInDA,EAAS,MAAQA,EAAS,KAAK,OAAS,IAElCE,EAAAA,MAAA,MAAA,MAAA,8BAAY,OAAO,EAClBF,EAAS,KAAK,KAAK,QAAU,EAE9BE,EAAAA,MAAI,UAAU,CACtB,IAAK,0BACT,CAAI,EAGQA,EAAAA,MAAI,UAAU,CACtB,IAAK,+BACT,CAAI,EAGF,OAAQC,EAAO,CACfD,EAAAA,kDAAc,cAAeC,CAAK,CAClC,CACF,EAGAC,OAAAA,EAAAA,UAAU,IAAM,CACfL,EAAiB,CAClB,CAAC,qEClDD,GAAG,WAAWM,CAAe"}