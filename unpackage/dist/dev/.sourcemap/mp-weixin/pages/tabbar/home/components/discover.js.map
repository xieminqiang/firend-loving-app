{"version":3,"file":"discover.js","sources":["pages/tabbar/home/components/discover.vue","/Users/xiaoqiang/Documents/friemd/firend-loving-app/pages/tabbar/home/components/discover.vue?type=component"],"sourcesContent":["<template>\n\t<view class=\"square\" >\n\t\t<square-nav></square-nav>\n\n\t\t<!-- 动态列表内容 -->\n\t\t<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\" \n\t\t\t:refresher-triggered=\"triggered\" :refresher-enabled=\"true\" :scroll-with-animation=\"true\" :show-scrollbar=\"true\"\n\t\t\t :enable-back-to-top=\"true\" @scroll=\"handleScroll\" @scrolltolower=\"lower\"\n\t\t\t@refresherrefresh=\"onRefresh\" @refresherrestore=\"onRestore\"\n\t\t\t>\n\t\t\t<view class=\"scroll-Y-item\">\n\t\t\t\t<u-list height=\"100%\">\n\t\t\t\t\t<u-list-item v-for=\"(item, index) in momentsList\" :key=\"index\">\n\t\t\t\t\t\t<square-item \n\t\t\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t\t\t:listType=\"listTypeDesc\" \n\t\t\t\t\t\t\t:userLocation=\"userLocation\"\n\t\t\t\t\t\t\t:cityStore=\"cityStore\"\n\t\t\t\t\t\t\t@changeShowVip=\"handleSayHello\" \n\t\t\t\t\t\t\t@playVideo=\"handlePlayVideo\">\n\t\t\t\t\t\t</square-item>\n\t\t\t\t\t</u-list-item>  \n\t\t\t\t\t<view style=\"height: 200rpx;\"></view>\n\t\t\t\t</u-list>\n\t\t\t</view>\n\t\t</scroll-view>\n\n\t\t<!-- 回到顶部 -->\n\t\t<view class=\"example\" v-show=\"oldScrollTop > 1000\" @tap=\"goTop\">\n\t\t\t<uni-transition ref=\"ani\" custom-class=\"transition\" mode-class=\"slide-right\" class=\"goTopBox\"\n\t\t\t\t:show=\"oldScrollTop > 1000\">\n\t\t\t\t<image class=\"go-top-icon\" src=\"@/static/square/go-top.png\" mode=\"\"></image>\n\t\t\t</uni-transition>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\tcomputed,\n\t\tonMounted,\n\t\tnextTick,\n\t\twatch\n\t} from 'vue'\n\timport { useCityStore } from '@/stores/city.js'\n\timport { useUserStore } from '@/stores/user.js'\n\timport { getMomentsList } from '@/api/discover.js'\n\t\n\timport squareNav from './cpns/square-nav'\n\timport squareItem from './cpns/square-item'\n\timport squareLove from './cpns/square-love'\n\n\t// 修复：直接定义图片URL字符串，而不是使用import\n\tconst imageSrc = \"https://sbx-server.oss-cn-shenzhen.aliyuncs.com/img/cum/squarebg.png\"\n\n\t// 定义emit事件\n\tconst emit = defineEmits(['playVideo'])\n\n\t// 图片加载状态管理\n\tconst imageLoaded = ref(false)\n\n\t// 城市存储\n\tconst cityStore = useCityStore()\n\t\n\t// 用户状态管理\n\tconst userStore = useUserStore()\n\t\n\t// 定位相关状态\n\tconst userLocation = ref(null)\n\tconst locationLoading = ref(false)\n\n\t// 动态列表数据\n\tconst momentsList = ref([])\n\tconst loading = ref(false)\n\tconst hasMore = ref(true)\n\t\n\t// 分页参数\n\tconst pageParams = ref({\n\t\tpage: 1,\n\t\tpage_size: 20\n\t})\n\n\t// 滚动相关状态\n\tconst scrollTop = ref(0)\n\tconst oldScrollTop = ref(0)\n\tconst _freshing = ref(false)\n\tconst triggered = ref(false)\n\n\t// 计算背景样式\n\tconst backgroundStyle = computed(() => {\n\t\tif (imageLoaded.value) {\n\t\t\t// 图片加载成功时显示背景图片\n\t\t\treturn {\n\t\t\t\tbackgroundImage: `url(${imageSrc})`,\n\t\t\t\tbackgroundSize: 'cover',\n\t\t\t\tbackgroundPosition: 'center',\n\t\t\t\tbackgroundRepeat: 'no-repeat'\n\t\t\t}\n\t\t}\n\t\t\n\t\t// 图片加载中时使用默认背景\n\t\treturn {\n\t\t\tbackground: '#ffffff'\n\t\t}\n\t})\n\n\t// 获取用户定位\n\tconst getUserLocation = () => {\n\t\treturn new Promise((resolve) => {\n\t\t\tlocationLoading.value = true\n\t\t\tuni.getLocation({\n\t\t\t\ttype: 'gcj02',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('获取位置成功:', res)\n\t\t\t\t\tuserLocation.value = {\n\t\t\t\t\t\tlatitude: res.latitude,\n\t\t\t\t\t\tlongitude: res.longitude\n\t\t\t\t\t}\n\t\t\t\t\tlocationLoading.value = false\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tlatitude: res.latitude,\n\t\t\t\t\t\tlongitude: res.longitude\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log('获取位置失败:', err)\n\t\t\t\t\tuserLocation.value = null\n\t\t\t\t\tlocationLoading.value = false\n\t\t\t\t\tresolve(null)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\t// 预加载图片\n\tconst preloadImage = () => {\n\t\t// 重置状态\n\t\timageLoaded.value = false\n\t\t\n\t\t// 在mini-program环境中，使用uni.getImageInfo替代Image构造函数\n\t\t// #ifdef MP\n\t\tuni.getImageInfo({\n\t\t\tsrc: imageSrc,\n\t\t\tsuccess: () => {\n\t\t\t\tconsole.log('背景图片加载成功')\n\t\t\t\timageLoaded.value = true\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.error('背景图片加载失败:', err)\n\t\t\t}\n\t\t})\n\t\t// #endif\n\t\t\n\t\t// #ifndef MP\n\t\t// 在非mini-program环境中使用Image构造函数\n\t\tconst img = new Image()\n\t\timg.onload = () => {\n\t\t\tconsole.log('背景图片加载成功')\n\t\t\timageLoaded.value = true\n\t\t}\n\t\timg.onerror = (err) => {\n\t\t\tconsole.error('背景图片加载失败:', err)\n\t\t}\n\t\timg.src = imageSrc\n\t\t// #endif\n\t}\n\n\t// u-tabs 需要的数据结构\n\tconst tabsList = ref([\n\t\t{\n\t\t\tname: '动态',\n\t\t\tvalue: 1\n\t\t},\n\t\t{\n\t\t\tname: '喜欢的人',\n\t\t\tvalue: 2\n\t\t}\n\t])\n\n\t// 当前选中的tab索引\n\tconst currentTabIndex = ref(0)\n\n\t// tabs样式切换 (保持兼容性)\n\tconst isActive = ref(true)\n\n\t// tabs绑定的value值\n\tconst listType = ref(1)\n\n\t// tabs绑定的描述\n\tconst listTypeDesc = ref(1) // 1.推荐 2.喜欢\n\t\n\t// 登录状态检查\n\tconst isLoggedIn = computed(() => {\n\t\treturn userStore.userInfo && Object.keys(userStore.userInfo).length > 0 && userStore.token\n\t})\n\n\t// 获取动态列表数据\n\tconst getMomentsListData = async (page = 1) => {\n\t\tconsole.log('开始获取动态列表数据，参数:', {\n\t\t\tpage,\n\t\t\tlistType: listTypeDesc.value,\n\t\t\tloading: loading.value\n\t\t})\n\t\t\n\t\tif (loading.value) return\n\t\t\n\t\ttry {\n\t\t\tloading.value = true\n\t\t\t\n\t\t\tconst params = {\n\t\t\t\tlist_type: listTypeDesc.value, // 1: 推荐列表 2: 喜欢列表 3: 个人动态\n\t\t\t\tpage: page,\n\t\t\t\tpage_size: pageParams.value.page_size\n\t\t\t}\n\t\t\t\n\t\t\tconsole.log('调用API参数:', params)\n\t\t\tconst response = await getMomentsList(params)\n\t\t\tconsole.log('API响应:', response)\n\t\t\t\n\t\t\tif (response.data && response.data.code === 0) {\n\t\t\t\tconst newData = response.data.data.moments_list || []\n\t\t\t\tconsole.log('获取到的数据:', newData)\n\t\t\t\t\n\t\t\t\tif (page === 1) {\n\t\t\t\t\tmomentsList.value = newData\n\t\t\t\t} else {\n\t\t\t\t\tmomentsList.value = [...momentsList.value, ...newData]\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 判断是否还有更多数据\n\t\t\t\thasMore.value = newData.length === pageParams.value.page_size\n\t\t\t\t\n\t\t\t\t// 如果还有数据，页码+1\n\t\t\t\tif (hasMore.value) {\n\t\t\t\t\tpageParams.value.page++\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.error('API返回错误:', response)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('获取动态列表失败:', error)\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'none',\n\t\t\t\ttitle: '获取数据失败，请重试'\n\t\t\t})\n\t\t} finally {\n\t\t\tloading.value = false\n\t\t}\n\t}\n\n\t// 处理视频播放\n\tconst handlePlayVideo = (videoPath) => { \n\t\tconsole.log('播放视频:', videoPath)\n\t\temit('playVideo', videoPath)\n\t}\n\n\t// 处理打招呼\n\tconst handleSayHello = async (val) => {\n\t\tconsole.log('打招呼:', val)\n\t\t// 这里可以添加打招呼的逻辑\n\t}\n\t\n\t// 跳转到登录页面\n\tconst navigateToLogin = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/subPackages/login/index'\n\t\t})\n\t}\n\t\n\t// 检查登录状态并处理\n\tconst checkLoginStatus = () => {\n\t\tif (!isLoggedIn.value) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '请先登录后再查看动态',\n\t\t\t\tconfirmText: '去登录',\n\t\t\t\tcancelText: '取消',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tnavigateToLogin()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn false\n\t\t}\n\t\treturn true\n\t}\n\n\t// 滚动处理\n\tconst handleScroll = (e) => {\n\t\toldScrollTop.value = e.detail.scrollTop\n\t}\n\n\t// 监听页面滚动到底部\n\tconst lower = () => {\n\t\tif (hasMore.value && !loading.value) {\n\t\t\tgetMomentsListData(pageParams.value.page)\n\t\t}\n\t}\n\n\t// 回到顶部\n\tconst goTop = (e) => {\n\t\t// 解决view层不同步的问题\n\t\tscrollTop.value = oldScrollTop.value\n\t\tnextTick(() => {\n\t\t\tscrollTop.value = 0\n\t\t})\n\t}\n\n\t// 下拉刷新\n\tconst onRefresh = async () => {\n\t\tconsole.log('刷新中~');\n\t\tif (_freshing.value) return;\n\t\t\n\t\t// 检查登录状态\n\t\tif (!checkLoginStatus()) {\n\t\t\ttriggered.value = false;\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t_freshing.value = true;\n\t\ttriggered.value = true;\n\t\t// 获取动态列表的数据\n\t\tawait getMomentsListData(1)\n\t\t_freshing.value = false;\n\t\ttriggered.value = false;\n\t}\n\n\t// 自定义下拉刷新被复位\n\tconst onRestore = () => {\n\t\ttriggered.value = 'restore';\n\t}\n\n\t// 初始化数据\n\tconst initData = async () => {\n\t\tconsole.log('discover组件初始化数据')\n\t\t\n\t\t// 检查登录状态\n\t\tif (!checkLoginStatus()) {\n\t\t\treturn\n\t\t}\n\t\t\n\t\t_freshing.value = false;  \n\t\tpageParams.value.page = 1\n\t\t\n\t\t// 预加载背景图片\n\t\tconsole.log('onShow0')\n\t\tpreloadImage()\n\t\t\n\t\tconsole.log('onShow1')\n\t\t// 获取用户定位\n\t    getUserLocation()\n\t\tconsole.log('onShow2')\n\t\t// 获取动态列表数据\n\t\tawait getMomentsListData(1)\n\t\t\n\t\tconsole.log('discover组件显示，当前状态:', {\n\t\t\tisActive: isActive.value,\n\t\t\tlistType: listType.value,\n\t\t\tlistTypeDesc: listTypeDesc.value,\n\t\t\tuserLocation: userLocation.value\n\t\t})\n\t}\n\n\t// 组件挂载时初始化数据\n\tonMounted(async() => {\n\t\tconsole.log('discover组件挂载完成')\n\t\tawait initData()\n\t})\n\n\t// 监听组件是否可见，用于处理tab切换时的数据刷新\n\tconst isVisible = ref(false)\n\t\n\t// 暴露方法供父组件调用\n\tconst showComponent = async () => {\n\t\tconsole.log('discover组件被显示')\n\t\tisVisible.value = true\n\t\t// 每次显示时刷新数据，initData内部已包含登录检查\n\t\tawait initData()\n\t}\n\t\n\tconst hideComponent = () => {\n\t\tconsole.log('discover组件被隐藏')\n\t\tisVisible.value = false\n\t}\n\t\n\t// 暴露方法给父组件\n\tdefineExpose({\n\t\tshowComponent,\n\t\thideComponent,\n\t\tinitData\n\t})\n\n\t// u-tabs 切换事件处理\n\tconst handleTabChange = (item) => {\n\t\tconsole.log('Tab切换:', item)\n\t\t\n\t\t// 检查登录状态\n\t\tif (!checkLoginStatus()) {\n\t\t\treturn\n\t\t}\n\t\t\n\t\tcurrentTabIndex.value = item.index\n\t\tlistType.value = item.value\n\t\t\n\t\t// 更新 isActive 状态 (保持兼容性)\n\t\tisActive.value = item.value === 1\n\t\t\n\t\t// 更新 listTypeDesc\n\t\tif (item.value === 1) {\n\t\t\tlistTypeDesc.value = 1  // 1: 推荐列表（包含友伴师信息）\n\t\t} else if (item.value === 2) {\n\t\t\tlistTypeDesc.value = 2  // 2: 喜欢列表（暂不包含友伴师信息）\n\t\t}\n\t\t\n\t\t// 切换tab时重新获取数据\n\t\tpageParams.value.page = 1\n\t\tgetMomentsListData(1)\n\t}\n\n\t// 保持原有的 changeIsActive 函数以兼容其他可能的调用\n\tconst changeIsActive = (index) => {\n\t\t// 找到对应的tab项\n\t\tconst tabItem = tabsList.value.find(tab => tab.value === index)\n\t\tif (tabItem) {\n\t\t\tconst tabIndex = tabsList.value.findIndex(tab => tab.value === index)\n\t\t\thandleTabChange({ index: tabIndex, value: index })\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.square {\n\t\twidth: 100%;\n\t\theight: 100vh;\n\t\toverflow: hidden;\n\t\tposition: relative;\n\t\tbox-sizing: border-box;\n\t\tbackground: url(\"https://sbx-server.oss-cn-shenzhen.aliyuncs.com/img/cum/squarebg.png\") no-repeat center center;\n\t\tbackground-size: cover;\n\t\t\n\t\t.fallback-background {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\t\tz-index: -1;\n\t\t}\n\n\t\t.square-recommend {\n\t\t\tmargin: 32rpx 24rpx;\n\t\t\twidth: 30%;\n\t\t\t// 移除 flex 布局，让 u-tabs 自己处理布局\n\t\t}\n\n\n\n\n\t\t.goTopBox {\n\t\t\twidth: 100rpx;\n\t\t\theight: 100rpx;\n\t\t\t// background-image: linear-gradient(180deg, rgba(115, 99, 255, 1) 0%, rgba(255, 105, 222, 1) 100%);\n\t\t\tborder-radius: 50%;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tposition: fixed;\n\t\t\tright: 10rpx;\n\t\t\tbottom: 350rpx;\n\t\t}\n\t}\n\n\t.example {\n\t\tz-index: 99999;\n\t\t// width: 100rpx;\n\t\t// height: 100rpx;\n\t\tbackground: transparent;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tposition: fixed;\n\t\tright: 10rpx;\n\t\tbottom: 200rpx;\n\t}\n\n\t.transition-button {\n\t\t/* #ifndef APP-NVUE */\n\t\twidth: 100%;\n\t\t/* #endif */\n\t\tflex: 1;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t/* #ifndef APP-NVUE */\n\t.example ::v-deep .transition {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\t// width: 100rpx;\n\t\t// height: 100rpx;\n\t\tborder-radius: 50%;\n\t\ttext-align: center;\n\t\t// background-image: linear-gradient(180deg, rgba(115, 99, 255, 1) 0%, rgba(255, 105, 222, 1) 100%);\n\t\t// box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.2);\n\t}\n\n\t/* #endif */\n\n\t.go-top-icon {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t}\n\t\n\t.show-item {\n\t\theight: calc(100% - 120rpx);\n\t\toverflow: hidden;\n\t}\n\n\t.scroll-Y {\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t}\n\n\t.scroll-Y-item {\n\t\tpadding-bottom: 100rpx;\n\t}\n</style>","import Component from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/pages/tabbar/home/components/discover.vue'\nwx.createComponent(Component)"],"names":["squareNav","squareItem","imageSrc","emit","__emit","imageLoaded","ref","cityStore","useCityStore","userStore","useUserStore","userLocation","locationLoading","momentsList","loading","hasMore","pageParams","scrollTop","oldScrollTop","_freshing","triggered","computed","getUserLocation","resolve","uni","res","err","preloadImage","isActive","listType","listTypeDesc","isLoggedIn","getMomentsListData","page","params","response","getMomentsList","newData","error","handlePlayVideo","videoPath","handleSayHello","val","navigateToLogin","checkLoginStatus","handleScroll","e","lower","goTop","nextTick","onRefresh","onRestore","initData","onMounted","isVisible","__expose","Component"],"mappings":"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"}