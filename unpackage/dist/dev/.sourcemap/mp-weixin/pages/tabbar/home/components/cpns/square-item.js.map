{"version":3,"file":"square-item.js","sources":["pages/tabbar/home/components/cpns/square-item.vue","/Users/xiaoqiang/Documents/friemd/firend-loving-app/pages/tabbar/home/components/cpns/square-item.vue?type=component"],"sourcesContent":["<template>\n\t<view class=\"square-show\">\n\t\t<!-- 头部信息 -->\n\t\t<view class=\"top\" v-if=\"listType === 1 && item.companion_info\">\n\t\t\t<view class=\"top-left\">\n\t\t\t\t<!-- 头像 -->\n\t\t\t\t<view class=\"avatar\" >\n\t\t\t\t\t<u-avatar :src=\"$imgBaseUrl + item.companion_info.avatar\" size=\"38\" shape=\"circle\" mode=\"aspectFill\"></u-avatar>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 介绍 -->\n\t\t\t\t<view class=\"info\">\n\t\t\t\t\t<view class=\"info-one\">\n\t\t\t\t\t\t<view class=\"name\">{{ item.companion_info.nickname }}</view>\n\t\t\t\t\t\t<view class=\"introduce\" :style=\"getGenderStyle(item.companion_info.gender)\">\n\t\t\t\t\t\t\t<image :src=\"getGenderIcon(item.companion_info.gender)\" mode=\"widthFix\" class=\"gender-icon\"></image>\n\t\t\t\t\t\t\t<text class=\"introduce-title\">{{ item.companion_info.age }}岁</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"introduce\" style=\"background: rgba(62, 178, 240, 1)\">\n\t\t\t\t\t\t\t<text class=\"introduce-title\">{{ item.companion_info.height }}cm</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"introduce\" style=\"background: linear-gradient(180deg, rgba(155, 59, 235, 1) 0%, rgba(230, 126, 188, 1) 100%);\">\n\t\t\t\t\t\t\t<text class=\"introduce-title\">{{ item.companion_info.weight }}kg</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"info-two\">\n\t\t\t\t\t\t<view class=\"\">{{ item.companion_info.tags.join('、') }}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 立即邀约按钮 -->\n\t\t\t<view class=\"invite-btn\" @tap=\"handleInvite(item)\">\n\t\t\t\t立即邀约\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 文案 -->\n\t\t<view class=\"copywriting\" >\n\t\t\t<view >\n\t\t\t\t{{ item.moments_info.content }}\n\t\t\t</view>\n\n\t\t\t<!-- 照片 -->\n\t\t\t<view >\n\t\t\t\t<PictureDisplay v-if=\"item.moments_info?.file_list\" :list=\"item.moments_info?.file_list\"\n\t\t\t\t\t:topicList=\"item.moments_info?.topic_list\" ></PictureDisplay>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 底部 -->\n\t\t<view class=\"foot\">\n\t\t\t<!-- <view class=\"\" @tap=\"shareToggle(item)\">\n\t\t\t\t<image src=\"@/static/square/share@3x.png\" mode=\"widthFix\" class=\"foot-image\"></image>\n\t\t\t</view> -->\n\t\t\t <view></view>\n\t\t\t<view class=\"foot-right\">\n\t\t\t\t<!-- 点赞 -->\n\t\t\t\t<view class=\"icon-item\">\n\t\t\t\t\t<image v-if=\"!item.moments_info.is_praised\" src=\"@/static/square/love.png\" mode=\"\"\n\t\t\t\t\t\tclass=\"foot-image\" @tap=\"handlePraise(item)\">\n\t\t\t\t\t</image>\n\t\t\t\t\t<image v-if=\"item.moments_info.is_praised\" src=\"@/static/square/active-love.png\" mode=\"\"\n\t\t\t\t\t\tclass=\"foot-image\" @tap=\"handlePraise(item)\">\n\t\t\t\t\t</image>\n\t\t\t\t\t<view class=\"icon-title\">{{ item.moments_info.praise_num || 0 }}</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 评论 -->\n\t\t\t\t<view class=\"icon-item icon-item-center\" @tap=\"toRecord(item)\">\n\t\t\t\t\t<image src=\"~@/static/square/message.png\" mode=\"\" class=\"foot-image\"></image>\n\t\t\t\t\t<view class=\"icon-title\">{{ item.moments_info.comments_num || 0 }}</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 打招呼 -->\n\t\t\t<!-- \t<view class=\"icon-item\" @tap=\"sayHello(item)\">\n\t\t\t\t\t<image src=\"~@/static/square/em@3x.png\" mode=\"widthFix\" class=\"foot-image\"></image>\n\t\t\t\t\t<view class=\"icon-title\">打招呼</view>\n\t\t\t\t</view> -->\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tref\n\t} from 'vue'\n\timport {\n\t\tonLoad,\n\t\tonHide\n\t} from '@dcloudio/uni-app'\n\timport PictureDisplay from '@/components/common/PictureDisplay.vue'\n\timport { praiseMoment } from '@/api/discover.js'\n\t\n\t// 安全的数字加减工具函数，处理字符串类型的数字\n\tconst safeNumberOperation = (value, operation = 'add', amount = 1) => {\n\t\t// 将字符串转换为数字，如果转换失败则默认为0\n\t\tconst numValue = parseInt(value) || 0\n\t\t\n\t\tif (operation === 'add') {\n\t\t\treturn numValue + amount\n\t\t} else if (operation === 'subtract') {\n\t\t\treturn Math.max(0, numValue - amount) // 确保不会小于0\n\t\t}\n\t\t\n\t\treturn numValue\n\t}\n\tconst props = defineProps({\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t\tlistType: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1\n\t\t},\n\t\tuserLocation: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tcityStore: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t}\n\t})\n\n\tconst emit = defineEmits([\"changeShowVip\", \"playVideo\"])\n\n\t// 获取性别图标\n\tconst getGenderIcon = (gender) => {\n\t\treturn gender === '女' ? '/static/find/nd_icon.png' : '/static/find/nand_icon.png'\n\t}\n\n\t// 获取性别样式\n\tconst getGenderStyle = (gender) => {\n\t\tif (gender === \"女\") { // 女性\n\t\t\treturn {\n\t\t\t\t\n\t\t\t\tbackground: 'rgba(252, 139, 198, 1)'\n\t\t\t}\n\t\t} else { // 男性\n\t\t\treturn {\n\t\t\t\t\n\t\t\t\tbackground: 'rgba(19, 98, 235, 1)'\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// 去评论\n\tconst toRecord = (item) => {\n\t\tuni.navigateTo({\n\t\t\turl: '/subPackages/record/comment',\n\t\t\tsuccess(res) {\n\t\t\t\t// 通过eventChannel向被打开页面传送数据\n\t\t\t\tres.eventChannel.emit('getRecord', {\n\t\t\t\t\tdata: item\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\t// 去详情\n\tconst toDetail = (item) => {\n\t\t// 只有推荐列表（listType === 1）且有友伴师信息时才跳转详情\n\t\tif (props.listType === 1 && item.companion_info) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/detail/detail',\n\t\t\t\tanimationType: 'slide-in-bottom',\n\t\t\t\tanimationDuration: 200,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tres.eventChannel.emit('getUserId', {\n\t\t\t\t\t\tval: item.companion_info.id,\n\t\t\t\t\t\tsquare: 'square'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\t// 点赞\n\tconst handlePraise = async (val) => {\n\t\ttry {\n\t\t\t// 先更新本地状态，提供即时反馈\n\t\t\tconst wasPraised = val.moments_info.is_praised\n\t\t\tval.moments_info.is_praised = !wasPraised\n\t\t\t\n\t\t\tif (val.moments_info.is_praised) {\n\t\t\t\tval.moments_info.praise_num = safeNumberOperation(val.moments_info.praise_num, 'add', 1)\n\t\t\t} else {\n\t\t\t\tval.moments_info.praise_num = safeNumberOperation(val.moments_info.praise_num, 'subtract', 1)\n\t\t\t}\n\t\t\t\n\t\t\t// 调用API接口\n\t\t\tconst response = await praiseMoment({\n\t\t\t\ttarget_id: val.moments_info.moments_id\n\t\t\t})\n\t\t\t\n\t\t\tif (response.data && response.data.code === 0) {\n\t\t\t\t// API调用成功，本地状态已经更新\n\t\t\t\tconsole.log('点赞成功')\n\t\t\t} else {\n\t\t\t\t// API调用失败，回滚本地状态\n\t\t\t\tval.moments_info.is_praised = wasPraised\n\t\t\t\tif (wasPraised) {\n\t\t\t\t\tval.moments_info.praise_num = safeNumberOperation(val.moments_info.praise_num, 'add', 1)\n\t\t\t\t} else {\n\t\t\t\t\tval.moments_info.praise_num = safeNumberOperation(val.moments_info.praise_num, 'subtract', 1)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '点赞失败，请重试',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('点赞失败:', error)\n\t\t\t// 发生错误，回滚本地状态\n\t\t\tconst wasPraised = val.moments_info.is_praised\n\t\t\tval.moments_info.is_praised = !wasPraised\n\t\t\tif (wasPraised) {\n\t\t\t\tval.moments_info.praise_num = safeNumberOperation(val.moments_info.praise_num, 'add', 1)\n\t\t\t} else {\n\t\t\t\tval.moments_info.praise_num = safeNumberOperation(val.moments_info.praise_num, 'subtract', 1)\n\t\t\t}\n\t\t\t\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '网络错误，请重试',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\n\t// 分享\n\tconst shareToggle = (item) => {\n\t\tuni.showToast({\n\t\t\ttitle: '分享功能开发中',\n\t\t\ticon: 'none'\n\t\t})\n\t}\n\n\t// 打招呼\n\tconst sayHello = async (val) => {\n\t\temit('changeShowVip', val)\n\t}\n\n\t// 立即邀约\n\tconst handleInvite = async (item) => {\n\t\ttry {\n\t\t\t// 获取友伴师信息\n\t\t\tconst companionInfo = item.companion_info\n\t\t\tif (!companionInfo || !companionInfo.service_areas || companionInfo.service_areas.length === 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '该友伴师暂无可服务区域',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// 如果只有一个服务区域，直接使用\n\t\t\tif (companionInfo.service_areas.length === 1) {\n\t\t\t\tconst cityCode = companionInfo.service_areas[0]\n\t\t\t\tawait navigateToDetail(companionInfo.id, cityCode)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// 使用传入的定位信息\n\t\t\tif (props.userLocation) {\n\t\t\t\t// 有定位，计算最近的城市\n\t\t\t\tconst nearestCityCode = await findNearestCity(companionInfo.service_areas, props.userLocation.latitude, props.userLocation.longitude)\n\t\t\t\tawait navigateToDetail(companionInfo.id, nearestCityCode, props.userLocation.latitude, props.userLocation.longitude)\n\t\t\t} else {\n\t\t\t\t// 没有定位，使用第一个服务区域\n\t\t\t\tconst cityCode = companionInfo.service_areas[0]\n\t\t\t\tawait navigateToDetail(companionInfo.id, cityCode)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('邀约失败:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '邀约失败，请重试',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\n\t// 根据服务区域找到最近的城市\n\tconst findNearestCity = async (serviceAreas, userLat, userLng) => {\n\t\t// 确保城市列表已加载\n\t\tif (props.cityStore.cityList.length === 0) {\n\t\t\tawait props.cityStore.loadCityList()\n\t\t}\n\t\tconsole.log('城市列表:', props.cityStore.cityList)\n\t\tconsole.log('城市列表serviceAreas:', serviceAreas)\n\t\t// 从城市列表中找到服务区域对应的城市\n\t\tconst serviceCities = props.cityStore.cityList.filter(city => \n\t\t\tserviceAreas.includes(city.code.toString())\n\t\t)\n\t\t\n\t\tif (serviceCities.length === 0) {\n\t\t\tconsole.warn('未找到对应的服务城市，使用第一个服务区域')\n\t\t\treturn serviceAreas[0]\n\t\t}\n\t\t\n\t\t// 如果只有一个服务城市，直接返回\n\t\tif (serviceCities.length === 1) {\n\t\t\treturn serviceCities[0].code\n\t\t}\n\t\t\n\t\t// 计算距离，找到最近的城市\n\t\tlet nearestCity = serviceCities[0]\n\t\tlet minDistance = Infinity\n\t\t\n\t\tserviceCities.forEach(city => {\n\t\t\tif (city.latitude && city.longitude) {\n\t\t\t\tconst distance = props.cityStore.calculateDistance(\n\t\t\t\t\tuserLat,\n\t\t\t\t\tuserLng,\n\t\t\t\t\tcity.latitude,\n\t\t\t\t\tcity.longitude\n\t\t\t\t)\n\t\t\t\t\n\t\t\t\tif (distance < minDistance) {\n\t\t\t\t\tminDistance = distance\n\t\t\t\t\tnearestCity = city\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tconsole.log(`选择最近的服务城市: ${nearestCity.name}, 距离: ${minDistance.toFixed(2)}km`)\n\t\treturn nearestCity.code\n\t}\n\n\t// 跳转到详情页面\n\tconst navigateToDetail = async (partnerId, cityCode, latitude = null, longitude = null) => {\n\t\tlet url = '/subPackages/py/detail?id=' + partnerId + '&city_code=' + cityCode\n\t\t\n\t\t// 添加经纬度参数\n\t\tif (latitude && longitude) {\n\t\t\turl += '&latitude=' + latitude + '&longitude=' + longitude\n\t\t}\n\t\t\n\t\tuni.navigateTo({\n\t\t\turl: url\n\t\t})\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.square-show {\n\t\tmargin: 0 24rpx 40rpx;\n\n\t\t.top {\n\t\t\tpadding-top: 20rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\n\t\t\t.top-left {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n    // 强调色（渐变结束色）- 活跃感 + 情绪点缀（心动值图标、红点提醒）\n\t\t\t.invite-btn {\n\t\t\t\tbackground: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%);\n\t\t\t\tcolor: white;\n\t\t\t\tborder-radius: 32rpx;\n\t\t\t\tpadding: 12rpx 24rpx;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tfont-weight: 700;\n\t\t\t\t\n\t\t\t}\n\n\t\t\t.info {\n\t\t\t\t.info-one {\n\t\t\t\t\tdisplay: flex;\n\n\t\t\t\t\t.name {\n\t\t\t\t\t\tmargin-left: 20rpx;\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tfont-weight: 700;\n\t\t\t\t\t\tcolor: rgba(0, 0, 0, 1);\n\t\t\t\t\t}\n\n\t\t\t\t\t.introduce {\n\t\t\t\t\t\tmargin-left: 12rpx;\n\t\t\t\t\t\tpadding: 0rpx 14rpx;\n\t\t\t\t\t    box-sizing: border-box;\n\t\t\t\t\t\tborder-radius: 9999rpx;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\n\t\t\t\t\t\t.gender-icon {\n\t\t\t\t\t\t\twidth: 18rpx;\n\t\t\t\t\t\t\theight:  18rpx;\n\t\t\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.introduce-title {\n\t\t\t\t\t\t\tfont-size: 16rpx;\n\t\t\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\t\t\tcolor: rgba(255, 255, 255, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.info-two {\n\t\t\t\t\tmargin-left: 20rpx;\n\t\t\t\t\tmargin-top: 14rpx;\n\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\tfont-weight: 400;\n\t\t\t\t\tcolor: rgba(153, 153, 153, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.copywriting {\n\t\t\tpadding-left: 90rpx;\n\t\t\tpadding-top: 20rpx;\n\t\t\tpadding-right: 20rpx;\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: rgba(26, 26, 26, 1);\n\t\t\tbox-sizing: border-box;\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\t.foot {\n\t\t\tmargin-top: 20rpx;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tmargin-left: 90rpx;\n\n\t\t\t.foot-image {\n\t\t\t\twidth: 44rpx;\n\t\t\t\theight: 44rpx;\n\t\t\t}\n\n\t\t\t.foot-right {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\n\t\t\t.icon-item {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t.icon-title {\n\t\t\t\tmargin-left: 12rpx;\n\t\t\t\tfont-size: 20rpx;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: rgba(153, 153, 153, 1);\n\t\t\t}\n\n\t\t\t.icon-item-center {\n\t\t\t\tmargin-left: 50rpx;\n\t\t\t\tmargin-right: 60rpx;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import Component from '/Users/xiaoqiang/Documents/friemd/firend-loving-app/pages/tabbar/home/components/cpns/square-item.vue'\nwx.createComponent(Component)"],"names":["PictureDisplay","safeNumberOperation","value","operation","amount","numValue","props","__props","getGenderIcon","gender","getGenderStyle","toRecord","item","uni","res","handlePraise","val","wasPraised","response","praiseMoment","error","handleInvite","companionInfo","cityCode","navigateToDetail","nearestCityCode","findNearestCity","serviceAreas","userLat","userLng","serviceCities","city","nearestCity","minDistance","distance","partnerId","latitude","longitude","url","Component"],"mappings":"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"}