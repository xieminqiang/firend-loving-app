{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script>\nimport { useLevelStore } from '@/stores/level.js'\nimport { useUserStore } from '@/stores/user.js'\n\nexport default {\n\tonLaunch: function() {\n\tuni.hideTabBar({\n\t\tcomplete: () => {\n\t\t\t\n\t\t}\n\t});\n\t\tconsole.log('App Launch') \n\t\t// 应用启动时清除等级列表缓存，确保获取最新数据\n\t\tthis.clearServiceLevels()\n\t\t// 初始化时获取服务等级列表 \n\t\tthis.initServiceLevels()\n\t},\n\tonShow: function() {\n\t\tuni.hideTabBar({\n\t\t\tcomplete: () => {\n\t\t\t\t\t\n\t\t\t}\n\t\t});\n\t\tconsole.log('App Show')\n\t\t// 应用从后台恢复时，检查是否需要更新等级列表\n\t\tthis.checkAndUpdateServiceLevels() \n\t},\n\tonHide: function() {\n\t\tconsole.log('App Hide')\n\t},\n\tmethods: {\n\t\t// 清除服务等级列表\n\t\tclearServiceLevels() {\n\t\t\ttry {\n\t\t\t\tconst levelStore = useLevelStore()\n\t\t\t\tlevelStore.clearServiceLevels()\n\t\t\t\tconsole.log('服务等级列表已清除')\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('清除服务等级列表失败:', error)\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 检查并更新服务等级列表\n\t\tasync checkAndUpdateServiceLevels() {\n\t\t\ttry {\n\t\t\t\tconst levelStore = useLevelStore()\n\t\t\t\t// 如果数据过期或为空，重新获取\n\t\t\t\tif (levelStore.needUpdate || levelStore.serviceLevels.length === 0) {\n\t\t\t\t\tconsole.log('检测到等级列表需要更新，重新获取...')\n\t\t\t\t\tlevelStore.fetchServiceLevels()\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('检查更新服务等级列表失败:', error)\n\t\t\t}\n\t\t},\n\t\t\n\t\tasync initServiceLevels() {\n\t\t\t// try {\n\t\t\t// \tconst levelStore = useLevelStore()\n\t\t\t// \tlevelStore.fetchServiceLevels()\n\t\t\t// \tconsole.log('服务等级列表初始化完成')\n\t\t\t// } catch (error) {\n\t\t\t// \tconsole.error('初始化服务等级列表失败:', error)\n\t\t\t// }\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n\t@import \"@/styles/variables.scss\";\n\t@import \"@/styles/common.scss\";\n \n\t\n\t\n\t/* 每个页面公共css */\n\tpage {\n\t\t-webkit-overflow-scrolling: touch;\n\t\t-ms-overflow-style: none;\n\t\tscrollbar-width: none;\n\t\tbackground-color: #f7f8fa;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n\t\theight: 100vh;\n\t\toverflow: hidden;\n\t}\n\t\n\t/* 隐藏滚动条 */\n\t::-webkit-scrollbar {\n\t\tdisplay: none;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tcolor: transparent;\n\t}\n\t\n\t/* uni-app页面滚动条隐藏 */\n\t.uni-page-body {\n\t\t-ms-overflow-style: none;\n\t\tscrollbar-width: none;\n\t}\n\t\n\t.uni-page-body::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\t\n\t/* 全局滚动区域隐藏滚动条 */\n\tscroll-view::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\t\n\t/* 全局按钮样式重置 */\n\tbutton {\n\t\tbackground: none;\n\t\tborder: none;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tfont-size: inherit;\n\t\tcolor: inherit;\n\t}\n\t\n\tbutton::after {\n\t\tborder: none;\n\t}\n\t\n\t/* 全局输入框样式重置 */\n\tinput, textarea {\n\t\tfont-family: inherit;\n\t}\n\t\n\t/* 优化picker组件样式 */\n\t.uni-picker-container {\n\t\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(247, 248, 250, 0.98) 100%) !important;\n\t\tbackdrop-filter: blur(20rpx) !important;\n\t\t-webkit-backdrop-filter: blur(20rpx) !important;\n\t\tborder-radius: 32rpx 32rpx 0 0 !important;\n\t\tbox-shadow: 0 -8rpx 32rpx rgba(130, 160, 216, 0.15) !important;\n\t\tborder: 1rpx solid rgba(130, 160, 216, 0.1) !important;\n\t\tborder-bottom: none !important;\n\t}\n\t\n\t.uni-picker-header {\n\t\tbackground: linear-gradient(135deg, rgba(130, 160, 216, 0.08) 0%, rgba(255, 255, 255, 0.6) 100%) !important;\n\t\tbackdrop-filter: blur(10rpx) !important;\n\t\t-webkit-backdrop-filter: blur(10rpx) !important;\n\t\tborder-bottom: 1rpx solid rgba(130, 160, 216, 0.1) !important;\n\t\tborder-radius: 32rpx 32rpx 0 0 !important;\n\t\tpadding: 24rpx 32rpx !important;\n\t}\n\t\n\t.uni-picker-action {\n\t\tcolor: #7363FF !important;\n\t\tfont-weight: 600 !important;\n\t\tfont-size: 32rpx !important;\n\t\ttransition: all 0.3s !important;\n\t}\n\t\n\t.uni-picker-action:active {\n\t\topacity: 0.7 !important;\n\t\ttransform: scale(0.95) !important;\n\t}\n\t\n\t.uni-picker-action.uni-picker-action-confirm {\n\t\tbackground: linear-gradient(135deg, #7363FF 0%, #FF69DE 100%) !important;\n\t\tcolor: white !important;\n\t\tborder-radius: 24rpx !important;\n\t\tpadding: 12rpx 32rpx !important;\n\t\tbox-shadow: 0 4rpx 16rpx rgba(115, 99, 255, 0.3) !important;\n\t\tborder: none !important;\n\t}\n\t\n\t.uni-picker-action.uni-picker-action-cancel {\n\t\tcolor: #666666 !important;\n\t\tbackground: rgba(115, 99, 255, 0.08) !important;\n\t\tborder-radius: 24rpx !important;\n\t\tpadding: 12rpx 32rpx !important;\n\t\tborder: 1rpx solid rgba(115, 99, 255, 0.15) !important;\n\t}\n\t\n\t.uni-picker-content {\n\t\tbackground: rgba(255, 255, 255, 0.95) !important;\n\t\tbackdrop-filter: blur(10rpx) !important;\n\t\t-webkit-backdrop-filter: blur(10rpx) !important;\n\t\tpadding: 32rpx 0 !important;\n\t}\n\t\n\t.uni-picker-item {\n\t\tcolor: #1A1A1A !important;\n\t\tfont-size: 36rpx !important;\n\t\tfont-weight: 500 !important;\n\t\tpadding: 24rpx 32rpx !important;\n\t\ttransition: all 0.3s !important;\n\t\tborder-radius: 16rpx !important;\n\t\tmargin: 0 32rpx !important;\n\t}\n\t\n\t.uni-picker-item.uni-picker-item-selected {\n\t\tbackground: linear-gradient(135deg, rgba(115, 99, 255, 0.12) 0%, rgba(255, 105, 222, 0.08) 100%) !important;\n\t\tcolor: #7363FF !important;\n\t\tfont-weight: 700 !important;\n\t\tbox-shadow: 0 4rpx 16rpx rgba(115, 99, 255, 0.15) !important;\n\t\tborder: 1rpx solid rgba(115, 99, 255, 0.2) !important;\n\t\ttransform: scale(1.02) !important;\n\t}\n\t\n\t/* picker遮罩层优化 */\n\t.uni-mask {\n\t\tbackground: rgba(0, 0, 0, 0.4) !important;\n\t\tbackdrop-filter: blur(4rpx) !important;\n\t\t-webkit-backdrop-filter: blur(4rpx) !important;\n\t}\n\t\n\t/* 城市选择特殊样式 */\n\t.city-picker-item {\n\t\tposition: relative !important;\n\t}\n\t\n\t.city-picker-item::before {\n\t\tcontent: '📍' !important;\n\t\tposition: absolute !important;\n\t\tleft: 32rpx !important;\n\t\ttop: 50% !important;\n\t\ttransform: translateY(-50%) !important;\n\t\tfont-size: 28rpx !important;\n\t\topacity: 0.6 !important;\n\t}\n\t\n\t.city-picker-item.uni-picker-item-selected::before {\n\t\topacity: 1 !important;\n\t\tfilter: drop-shadow(0 2rpx 4rpx rgba(115, 99, 255, 0.3)) !important;\n\t}\n\t\n\t/* 动画效果 */\n\t@keyframes pickerSlideUp {\n\t\tfrom {\n\t\t\ttransform: translateY(100%);\n\t\t\topacity: 0;\n\t\t}\n\t\tto {\n\t\t\ttransform: translateY(0);\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t\n\t.uni-picker-container {\n\t\tanimation: pickerSlideUp 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;\n\t}\n</style>\n","import App from './App'\n\n// #ifndef VUE3\nimport Vue from 'vue'\nimport './uni.promisify.adaptor'\nVue.config.productionTip = false\n\nApp.mpType = 'app'\nconst app = new Vue({\n  ...App\n})\napp.$mount()\n// #endif\n\n// #ifdef VUE3\nimport { createSSRApp } from 'vue'\nimport pinia from './stores'\n\nexport function createApp() {\n  const app = createSSRApp(App)\n    app.config.globalProperties.$imgBaseUrl = 'https://sbx-server.oss-cn-shenzhen.aliyuncs.com';\n  app.use(pinia)\n\n\n\n  return {\n \n    app\n  }\n}\n// #endif"],"names":["_sfc_main","uni","useLevelStore","error","levelStore","createApp","app","createSSRApp","App","pinia"],"mappings":"sNAIKA,EAAU,CACd,SAAU,UAAW,CACrBC,EAAAA,MAAI,WAAW,CACd,SAAU,IAAM,CAEhB,CACD,CAAC,EACAA,EAAAA,MAAA,MAAA,MAAA,gBAAY,YAAY,EAExB,KAAK,mBAAmB,EAExB,KAAK,kBAAkB,CACvB,EACD,OAAQ,UAAW,CAClBA,EAAAA,MAAI,WAAW,CACd,SAAU,IAAM,CAEhB,CACD,CAAC,EACDA,EAAAA,MAAA,MAAA,MAAA,gBAAY,UAAU,EAEtB,KAAK,4BAA4B,CACjC,EACD,OAAQ,UAAW,CAClBA,EAAAA,MAAA,MAAA,MAAA,gBAAY,UAAU,CACtB,EACD,QAAS,CAER,oBAAqB,CACpB,GAAI,CACgBC,EAAAA,cAAc,EACtB,mBAAmB,EAC9BD,EAAAA,MAAA,MAAA,MAAA,gBAAY,WAAW,CACtB,OAAOE,EAAO,CACfF,EAAAA,MAAc,MAAA,QAAA,gBAAA,cAAeE,CAAK,CACnC,CACA,EAGD,MAAM,6BAA8B,CACnC,GAAI,CACH,MAAMC,EAAaF,EAAAA,cAAc,GAE7BE,EAAW,YAAcA,EAAW,cAAc,SAAW,KAChEH,EAAAA,MAAA,MAAA,MAAA,gBAAY,qBAAqB,EACjCG,EAAW,mBAAmB,EAE9B,OAAOD,EAAO,CACfF,EAAAA,MAAc,MAAA,QAAA,gBAAA,gBAAiBE,CAAK,CACrC,CACA,EAED,MAAM,mBAAoB,CAQ1B,CACD,CACD,EChDO,SAASE,GAAY,CAC1B,MAAMC,EAAMC,EAAY,aAACC,CAAG,EAC1B,OAAAF,EAAI,OAAO,iBAAiB,YAAc,kDAC5CA,EAAI,IAAIG,OAAK,EAIN,CAEL,IAAAH,CACD,CACH"}